IyEvdXNyL2Jpbi9lbnYgcHl0aG9uMwojIC0qLSBjb2Rpbmc6IHV0Zi04IC0qLQoKIyA9PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PQojICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdIUCBDSEVDS0VS
IEJPVAojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09CiMgRGVzY3JpcHRpb246IAojICAgQWR2YW5jZWQg
Y3JlZGVudGlhbCBjaGVja2VyIHdpdGggY29uZmlndXJhYmxlIHNldHRpbmdzIHZpYSBjb25maWcu
anNvbgojICAgTm93IHN1cHBvcnRzIE1pY3Jvc29mdCwgR29vZ2xlLCBZYWhvbywgQXBwbGUsIEFP
TCwgUHJvdG9uTWFpbCBhbmQgMTArIG90aGVyIHByb3ZpZGVycwojICAgSW5jbHVkZXMgc3BvbnNv
ciBtb2RlIGZvciBub24tcHJlbWl1bSB1c2VycyB3aXRoIGxpbWl0ZWQgZmVhdHVyZXMKIyA9PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PQoKaW1wb3J0IG9zCmltcG9ydCB1dWlkCmltcG9ydCBjb25jdXJyZW50
LmZ1dHVyZXMKZnJvbSBkYXRldGltZSBpbXBvcnQgZGF0ZXRpbWUsIHRpbWVkZWx0YQppbXBvcnQg
cmVxdWVzdHMKaW1wb3J0IGFzeW5jaW8KZnJvbSB0aHJlYWRpbmcgaW1wb3J0IExvY2sKaW1wb3J0
IHNodXRpbAppbXBvcnQganNvbgppbXBvcnQgdGltZQppbXBvcnQgaW1hcGxpYgppbXBvcnQgc3Ns
CmltcG9ydCByZQppbXBvcnQgc3lzCmZyb20gdHlwaW5nIGltcG9ydCBBbnksIENhbGxhYmxlLCBM
aXN0LCBEaWN0LCBUdXBsZSwgU2V0LCBPcHRpb25hbAppbXBvcnQgZnVuY3Rvb2xzCmZyb20gY29s
bGVjdGlvbnMgaW1wb3J0IGRlZmF1bHRkaWN0LCBkZXF1ZQppbXBvcnQgZGlzY29yZApmcm9tIGRp
c2NvcmQuZXh0IGltcG9ydCBjb21tYW5kcwpmcm9tIGRpc2NvcmQgaW1wb3J0IGFwcF9jb21tYW5k
cwppbXBvcnQgc3VicHJvY2VzcwoKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQojICAgICAgICAgICAg
ICAgICAgICAgQ09ORklHVVJBVElPTiBTWVNURU0KIyA9PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQojIExv
YWQgY29uZmlndXJhdGlvbiBmcm9tIGNvbmZpZy5qc29uIGZpbGUKIyBDcmVhdGVzIGEgZGVmYXVs
dCBjb25maWcgaWYgZmlsZSBkb2Vzbid0IGV4aXN0CiMgPT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KREVG
QVVMVF9DT05GSUcgPSB7CiAgICAiVE9LRU4iOiAiTVRNNE1qUTVNall4TmpNMU1qQTNNVFk0TVEu
R2RHclFRLlVCZ1ZfanlUN1hUVGprbWVHYlk5cXJiYUhaeTh6U2hYZ2FvbndBIiwKICAgICJSRVFV
SVJFRF9HVUlMRF9JRCI6IDEzNjkxNDExMzMwOTkyNzQyOTAsCiAgICAiUkVRVUlSRURfUk9MRV9J
RCI6IDEzODUwMDc4NzU5MSwKICAgICJBTExPV0VEX0NIQU5ORUxfSUQiOiAxMzg0NjMyNjE4NDIy
NjMyNjU5LAogICAgIk9SSUdJTkFMX1NFUlZFUl9JRCI6IDEzNjkxNDExMzMwOTkyNzQyOTAsICAj
IEFkZCBvcmlnaW5hbCBzZXJ2ZXIgSUQKICAgICJPV05FUlMiOiBbMTEwMTg2NTIwNTM3OTYyOTE3
OF0sCiAgICAiQ09PTERPV05fU0VDT05EUyI6IDUwMCwKICAgICJCQU5ORVJfVVJMIjogImh0dHBz
Oi8vY2RuLmRpc2NvcmRhcHAuY29tL2F0dGFjaG1lbnRzLzEzNTM1OTIxODUxNjUwNTgxOTgvMTM4
NDI2NDgwNDkxNDU2NTE3MC9tYWlsLWljb24tMjAxOHgyMDQ4LTBia2R0dWYxLnBuZz9leD02ODUx
Y2M4ZiZpcz02ODUwN2IwZiZobT05MGVkMzc2NTY4OTNkYjQwYmE2NTVjZGI5NjcxODQzYTFhZGM5
NTRjYTRjZGZkN2JlMTllYmJmZDViNTUyY2YyJiIsCiAgICAiUkVTVUxUU19GT0xERVIiOiAicmVz
dWx0cyIsCiAgICAiVFJJQUxfREJfRklMRSI6ICJ0cmlhbF9kYi5qc29uIiwKICAgICJXSElURUxJ
U1RfREJfRklMRSI6ICJ3aGl0ZWxpc3QuanNvbiIsCiAgICAiQ09ORklHX0ZJTEUiOiAiY29uZmln
Lmpzb24iCn0KCiMgVHJ5IHRvIGxvYWQgZXhpc3RpbmcgY29uZmlnIG9yIGNyZWF0ZSBuZXcgb25l
CnRyeToKICAgIGlmIG9zLnBhdGguZXhpc3RzKCJjb25maWcuanNvbiIpOgogICAgICAgIHdpdGgg
b3BlbigiY29uZmlnLmpzb24iLCAiciIpIGFzIGY6CiAgICAgICAgICAgIGNvbmZpZyA9IGpzb24u
bG9hZChmKQogICAgZWxzZToKICAgICAgICBjb25maWcgPSBERUZBVUxUX0NPTkZJRwogICAgICAg
IHdpdGggb3BlbigiY29uZmlnLmpzb24iLCAidyIpIGFzIGY6CiAgICAgICAgICAgIGpzb24uZHVt
cChjb25maWcsIGYsIGluZGVudD00KQpleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICBwcmludChm
IkVycm9yIGxvYWRpbmcgY29uZmlnOiB7ZX0iKQogICAgY29uZmlnID0gREVGQVVMVF9DT05GSUcK
CiMgU2V0IGdsb2JhbCB2YXJpYWJsZXMgZnJvbSBjb25maWcKVE9LRU4gPSBjb25maWdbIlRPS0VO
Il0KUkVRVUlSRURfR1VJTERfSUQgPSBjb25maWdbIlJFUVVJUkVEX0dVSUxEX0lEIl0KUkVRVUlS
RURfUk9MRV9JRCA9IGNvbmZpZ1siUkVRVUlSRURfUk9MRV9JRCJdCkFMTE9XRURfQ0hBTk5FTF9J
RCA9IGNvbmZpZ1siQUxMT1dFRF9DSEFOTkVMX0lEIl0KT1JJR0lOQUxfU0VSVkVSX0lEID0gY29u
ZmlnWyJPUklHSU5BTF9TRVJWRVJfSUQiXQpPV05FUlMgPSBzZXQoY29uZmlnWyJPV05FUlMiXSkK
Q09PTERPV05fU0VDT05EUyA9IGNvbmZpZ1siQ09PTERPV05fU0VDT05EUyJdCkJBTk5FUl9VUkwg
PSBjb25maWdbIkJBTk5FUl9VUkwiXQpSRVNVTFRTX0ZPTERFUiA9IGNvbmZpZ1siUkVTVUxUU19G
T0xERVIiXQpUUklBTF9EQl9GSUxFID0gY29uZmlnWyJUUklBTF9EQl9GSUxFIl0KV0hJVEVMSVNU
X0RCX0ZJTEUgPSBjb25maWdbIldISVRFTElTVF9EQl9GSUxFIl0KCiMgPT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT0KIyAgICAgICAgICAgICAgICAgICAgIFNFUlZJQ0UgTUFQUElOR1MKIyA9PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PQojIEZ1bGwgc2VydmljZSBtYXBwaW5nIGZvciBwcmVtaXVtIHVzZXJzCkFMTF9T
RVJWSUNFX01BUFBJTkcgPSB7CiAgICAiUm9ibG94IjogIm5vLXJlcGx5QHJvYmxveC5jb20iLAog
ICAgIlBva8OpbW9uIjogIm5vcmVwbHlAYWNjb3VudHMubmlhbnRpY2xhYnMuY29tIiwKICAgICJB
TVMiOiAiYXJteW1lbnN0cmlrZUBnbWFpbC5jb20iLAogICAgIkZhY2Vib29rIjogInNlY3VyaXR5
QGZhY2Vib29rbWFpbC5jb20iLAogICAgIkluc3RhZ3JhbSI6ICJzZWN1cml0eUBtYWlsLmluc3Rh
Z3JhbS5jb20iLAogICAgIlBVQkciOiAibm9yZXBseUBwdWJnbW9iaWxlLmNvbSIsCiAgICAiS29u
YW1pIjogIm5pbnRlbmRvLW5vcmVwbHlAY2NnLm5pbnRlbmRvLmNvbSIsCiAgICAiVGlrVG9rIjog
InJlZ2lzdGVyQGFjY291bnQudGlrdG9rLmNvbSIsCiAgICAiVHdpdHRlciI6ICJpbmZvQHguY29t
IiwKICAgICJQYXlQYWwiOiAic2VydmljZUBwYXlwYWwuY29tLmJyIiwKICAgICJCaW5hbmNlIjog
ImRvLW5vdC1yZXBseUBzZXMuYmluYW5jZS5jb20iLAogICAgIk5ldGZsaXgiOiAiaW5mb0BhY2Nv
dW50Lm5ldGZsaXguY29tIiwKICAgICJQbGF5U3RhdGlvbiI6ICJyZXBseUB0eG4tZW1haWwucGxh
eXN0YXRpb24uY29tIiwKICAgICJTdXBlcmNlbGwiOiAibm9yZXBseUBpZC5zdXBlcmNlbGwuY29t
IiwKICAgICJFcGljZ2FtZXMiOiAiaGVscEBhY2N0LmVwaWNnYW1lcy5jb20iLAogICAgIlNwb3Rp
ZnkiOiAibm8tcmVwbHlAc3BvdGlmeS5jb20iLAogICAgIlJvY2tzdGFyIjogIm5vcmVwbHlAcm9j
a3N0YXJnYW1lcy5jb20iLAogICAgIlhib3giOiAieGJveHJlcHNAZW5nYWdlLnhib3guY29tIiwK
ICAgICJNaWNyb3NvZnQiOiAiYWNjb3VudC1zZWN1cml0eS1ub3JlcGx5QGFjY291bnRwcm90ZWN0
aW9uLm1pY3Jvc29mdC5jb20iLAogICAgIlN0ZWFtIjogIm5vcmVwbHlAc3RlYW1wb3dlcmVkLmNv
bSIsCiAgICAiRUEgU3BvcnRzIjogIkVBQGUuZWEuY29tIiwKICAgICJCaXRrdWIiOiAibm8tcmVw
bHlAYml0a3ViLmNvbSIsCiAgICAiRGlzY29yZCI6ICJub3JlcGx5QGRpc2NvcmRhcHAuY29tIiwK
ICAgICJPbmx5RmFucyI6ICJub3JlcGx5QG9ubHlmYW5zLmNvbSIsCiAgICAiTWluZWNyYWZ0Ijog
Im5vcmVwbHlAbWluZWNyYWZ0Lm5ldCIsCiAgICAiR21haWwiOiAibm8tcmVwbHlAZ21haWwuY29t
IiwKICAgICJZYWhvbyI6ICJuby1yZXBseUB5YWhvby5jb20iLAogICAgIk91dGxvb2siOiAibm9y
ZXBseUBvdXRsb29rLmNvbSIsCiAgICAiQU9MIjogIm5vcmVwbHlAYW9sLmNvbSIsCiAgICAiSG90
bWFpbCI6ICJub3JlcGx5QGhvdG1haWwuY29tIiwKICAgICJab2hvIjogIm5vcmVwbHlAem9oby5j
b20iLAogICAgIlByb3Rvbk1haWwiOiAibm9yZXBseUBwcm90b25tYWlsLmNvbSIsCiAgICAiWWFu
ZGV4IjogIm5vcmVwbHlAeWFuZGV4LnJ1IiwKICAgICJHTVgiOiAibm9yZXBseUBnbXguY29tIiwK
ICAgICJNYWlsLmNvbSI6ICJub3JlcGx5QG1haWwuY29tIiwKICAgICJpQ2xvdWQiOiAibm9yZXBs
eUBpY2xvdWQuY29tIiwKICAgICJBbWF6b24iOiAibm9yZXBseUBhbWF6b24uY29tIiwKICAgICJl
QmF5IjogIm5vcmVwbHlAZWJheS5jb20iLAogICAgIldhbG1hcnQiOiAibm9yZXBseUB3YWxtYXJ0
LmNvbSIsCiAgICAiVGFyZ2V0IjogIm5vcmVwbHlAdGFyZ2V0LmNvbSIsCiAgICAiQmVzdEJ1eSI6
ICJub3JlcGx5QGJlc3RidXkuY29tIiwKICAgICJDb3N0Y28iOiAibm9yZXBseUBjb3N0Y28uY29t
IiwKICAgICJIb21lIERlcG90IjogIm5vcmVwbHlAaG9tZWRlcG90LmNvbSIsCiAgICAiTG93ZSdz
IjogIm5vcmVwbHlAbG93ZXMuY29tIiwKICAgICJJS0VBIjogIm5vcmVwbHlAaWtlYS5jb20iLAog
ICAgIldheWZhaXIiOiAibm9yZXBseUB3YXlmYWlyLmNvbSIsCiAgICAiVWJlciI6ICJub3JlcGx5
QHViZXIuY29tIiwKICAgICJMeWZ0IjogIm5vcmVwbHlAbHlmdC5jb20iLAogICAgIkdyYWIiOiAi
bm9yZXBseUBncmFiLmNvbSIsCiAgICAiT2xhIjogIm5vcmVwbHlAb2xhLmNvbSIsCiAgICAiQWly
Ym5iIjogIm5vcmVwbHlAYWlyYm5iLmNvbSIsCiAgICAiQm9va2luZy5jb20iOiAibm9yZXBseUBi
b29raW5nLmNvbSIsCiAgICAiRXhwZWRpYSI6ICJub3JlcGx5QGV4cGVkaWEuY29tIiwKICAgICJI
b3RlbHMuY29tIjogIm5vcmVwbHlAaG90ZWxzLmNvbSIsCiAgICAiVHJpcEFkdmlzb3IiOiAibm9y
ZXBseUB0cmlwYWR2aXNvci5jb20iLAogICAgIkxpbmtlZEluIjogIm5vcmVwbHlAbGlua2VkaW4u
Y29tIiwKICAgICJSZWRkaXQiOiAibm9yZXBseUByZWRkaXQuY29tIiwKICAgICJQaW50ZXJlc3Qi
OiAibm9yZXBseUBwaW50ZXJlc3QuY29tIiwKICAgICJUdW1ibHIiOiAibm9yZXBseUB0dW1ibHIu
Y29tIiwKICAgICJTbmFwY2hhdCI6ICJub3JlcGx5QHNuYXBjaGF0LmNvbSIsCiAgICAiV2hhdHNB
cHAiOiAibm9yZXBseUB3aGF0c2FwcC5jb20iLAogICAgIldlQ2hhdCI6ICJub3JlcGx5QHdlY2hh
dC5jb20iLAogICAgIlRlbGVncmFtIjogIm5vcmVwbHlAdGVsZWdyYW0uY29tIiwKICAgICJab29t
IjogIm5vcmVwbHlAem9vbS51cyIsCiAgICAiTWljcm9zb2Z0IFRlYW1zIjogIm5vcmVwbHlAdGVh
bXMubWljcm9zb2Z0LmNvbSIsCiAgICAiU2xhY2siOiAibm9yZXBseUBzbGFjay5jb20iLAogICAg
IlNreXBlIjogIm5vcmVwbHlAc2t5cGUuY29tIiwKICAgICJHaXRIdWIiOiAibm9yZXBseUBnaXRo
dWIuY29tIiwKICAgICJHaXRMYWIiOiAibm9yZXBseUBnaXRsYWIuY29tIiwKICAgICJCaXRidWNr
ZXQiOiAibm9yZXBseUBiaXRidWNrZXQuY29tIiwKICAgICJTdGFja092ZXJmbG93IjogIm5vcmVw
bHlAc3RhY2tvdmVyZmxvdy5jb20iLAogICAgIk1lZGl1bSI6ICJub3JlcGx5QG1lZGl1bS5jb20i
LAogICAgIldvcmRQcmVzcyI6ICJub3JlcGx5QHdvcmRwcmVzcy5jb20iLAogICAgIkJsb2dnZXIi
OiAibm9yZXBseUBibG9nZ2VyLmNvbSIsCiAgICAiV2l4IjogIm5vcmVwbHlAd2l4LmNvbSIsCiAg
ICAiU3F1YXJlc3BhY2UiOiAibm9yZXBseUBzcXVhcmVzcGFjZS5jb20iLAogICAgIldlZWJseSI6
ICJub3JlcGx5QHdlZWJseS5jb20iLAogICAgIkFkb2JlIjogIm5vcmVwbHlAYWRvYmUuY29tIiwK
ICAgICJDYW52YSI6ICJub3JlcGx5QGNhbnZhLmNvbSIsCiAgICAiRmlnbWEiOiAibm9yZXBseUBm
aWdtYS5jb20iLAogICAgIlNrZXRjaCI6ICJub3JlcGx5QHNrZXRjaC5jb20iLAogICAgIkRyb3Bi
b3giOiAibm9yZXBseUBkcm9wYm94LmNvbSIsCiAgICAiR29vZ2xlIERyaXZlIjogIm5vcmVwbHlA
ZHJpdmUuZ29vZ2xlLmNvbSIsCiAgICAiT25lRHJpdmUiOiAibm9yZXBseUBvbmVkcml2ZS5jb20i
LAogICAgIkJveCI6ICJub3JlcGx5QGJveC5jb20iLAogICAgIlNhbGVzZm9yY2UiOiAibm9yZXBs
eUBzYWxlc2ZvcmNlLmNvbSIsCiAgICAiSHViU3BvdCI6ICJub3JlcGx5QGh1YnNwb3QuY29tIiwK
ICAgICJab2hvIENSTSI6ICJub3JlcGx5QHpvaG9jcm0uY29tIiwKICAgICJTQVAiOiAibm9yZXBs
eUBzYXAuY29tIiwKICAgICJPcmFjbGUiOiAibm9yZXBseUBvcmFjbGUuY29tIiwKICAgICJTdHJp
cGUiOiAibm9yZXBseUBzdHJpcGUuY29tIiwKICAgICJTcXVhcmUiOiAibm9yZXBseUBzcXVhcmUu
Y29tIiwKICAgICJCcmFpbnRyZWUiOiAibm9yZXBseUBicmFpbnRyZWUuY29tIiwKICAgICJWaXNh
IjogIm5vcmVwbHlAdmlzYS5jb20iLAogICAgIk1hc3RlcmNhcmQiOiAibm9yZXBseUBtYXN0ZXJj
YXJkLmNvbSIsCiAgICAiQW1lcmljYW4gRXhwcmVzcyI6ICJub3JlcGx5QGFtZXguY29tIiwKICAg
ICJEaXNjb3ZlciI6ICJub3JlcGx5QGRpc2NvdmVyLmNvbSIsCiAgICAiQ05OIjogIm5vcmVwbHlA
Y25uLmNvbSIsCiAgICAiQkJDIjogIm5vcmVwbHlAYmJjLmNvbSIsCiAgICAiRm94IE5ld3MiOiAi
bm9yZXBseUBmb3huZXdzLmNvbSIsCiAgICAiTkJDIjogIm5vcmVwbHlAbmJjLmNvbSIsCiAgICAi
Q0JTIjogIm5vcmVwbHlAY2JzLmNvbSIsCiAgICAiRVNQTiI6ICJub3JlcGx5QGVzcG4uY29tIiwK
ICAgICJTa3kgU3BvcnRzIjogIm5vcmVwbHlAc2t5c3BvcnRzLmNvbSIsCiAgICAiRXVyb3Nwb3J0
IjogIm5vcmVwbHlAZXVyb3Nwb3J0LmNvbSIsCiAgICAiTmV3IFlvcmsgVGltZXMiOiAibm9yZXBs
eUBueXRpbWVzLmNvbSIsCiAgICAiV2FzaGluZ3RvbiBQb3N0IjogIm5vcmVwbHlAd2FzaGluZ3Rv
bnBvc3QuY29tIiwKICAgICJUaGUgR3VhcmRpYW4iOiAibm9yZXBseUB0aGVndWFyZGlhbi5jb20i
LAogICAgIkh1bHUiOiAibm9yZXBseUBodWx1LmNvbSIsCiAgICAiQW1hem9uIFByaW1lIFZpZGVv
IjogIm5vcmVwbHlAcHJpbWV2aWRlby5jb20iLAogICAgIkRpc25leSsiOiAibm9yZXBseUBkaXNu
ZXlwbHVzLmNvbSIsCiAgICAiSEJPIE1heCI6ICJub3JlcGx5QGhib21heC5jb20iLAogICAgIlBl
YWNvY2siOiAibm9yZXBseUBwZWFjb2NrdHYuY29tIiwKICAgICJPcmlnaW4iOiAibm9yZXBseUBv
cmlnaW4uY29tIiwKICAgICJCbGl6emFyZCI6ICJub3JlcGx5QGJsaXp6YXJkLmNvbSIsCiAgICAi
UmlvdCBHYW1lcyI6ICJub3JlcGx5QHJpb3RnYW1lcy5jb20iLAogICAgIlNvdW5kQ2xvdWQiOiAi
bm9yZXBseUBzb3VuZGNsb3VkLmNvbSIsCiAgICAiUGFuZG9yYSI6ICJub3JlcGx5QHBhbmRvcmEu
Y29tIiwKICAgICJFdHN5IjogIm5vcmVwbHlAZXRzeS5jb20iLAogICAgIkFsaUV4cHJlc3MiOiAi
bm9yZXBseUBhbGlleHByZXNzLmNvbSIsCiAgICAiQWxpYmFiYSI6ICJub3JlcGx5QGFsaWJhYmEu
Y29tIiwKICAgICJUcmVsbG8iOiAibm9yZXBseUB0cmVsbG8uY29tIiwKICAgICJBc2FuYSI6ICJu
b3JlcGx5QGFzYW5hLmNvbSIsCiAgICAiTW9uZGF5LmNvbSI6ICJub3JlcGx5QG1vbmRheS5jb20i
LAogICAgIkppcmEiOiAibm9yZXBseUBqaXJhLmNvbSIsCiAgICAiTm90aW9uIjogIm5vcmVwbHlA
bm90aW9uLmNvbSIsCiAgICAiRXZlcm5vdGUiOiAibm9yZXBseUBldmVybm90ZS5jb20iLAogICAg
IlRvZG9pc3QiOiAibm9yZXBseUB0b2RvaXN0LmNvbSIsCiAgICAiR29EYWRkeSI6ICJub3JlcGx5
QGdvZGFkZHkuY29tIiwKICAgICJOYW1lY2hlYXAiOiAibm9yZXBseUBuYW1lY2hlYXAuY29tIiwK
ICAgICJlVG9ybyI6ICJub3JlcGx5QGV0b3JvLmNvbSIsCiAgICAiUm9iaW5ob29kIjogIm5vcmVw
bHlAcm9iaW5ob29kLmNvbSIsCiAgICAiQ29pbmJhc2UiOiAibm9yZXBseUBjb2luYmFzZS5jb20i
LAogICAgIktyYWtlbiI6ICJub3JlcGx5QGtyYWtlbi5jb20iLAogICAgIlF1b3JhIjogIm5vcmVw
bHlAcXVvcmEuY29tIiwKICAgICJTdGFja0V4Y2hhbmdlIjogIm5vcmVwbHlAc3RhY2tleGNoYW5n
ZS5jb20iLAogICAgIktoYW4gQWNhZGVteSI6ICJub3JlcGx5QGtoYW5hY2FkZW15Lm9yZyIsCiAg
ICAiQ291cnNlcmEiOiAibm9yZXBseUBjb3Vyc2VyYS5vcmciLAogICAgIlVkZW15IjogIm5vcmVw
bHlAdWRlbXkuY29tIiwKICAgICJlZFgiOiAibm9yZXBseUBlZHgub3JnIiwKICAgICJaaWxsb3ci
OiAibm9yZXBseUB6aWxsb3cuY29tIiwKICAgICJUcnVsaWEiOiAibm9yZXBseUB0cnVsaWEuY29t
IiwKICAgICJSZWRmaW4iOiAibm9yZXBseUByZWRmaW4uY29tIiwKICAgICJNaW50IjogIm5vcmVw
bHlAbWludC5jb20iLAogICAgIlF1aWNrQm9va3MiOiAibm9yZXBseUBxdWlja2Jvb2tzLmNvbSIs
CiAgICAiVHVyYm9UYXgiOiAibm9yZXBseUB0dXJib3RheC5jb20iLAogICAgIlZlbm1vIjogIm5v
cmVwbHlAdmVubW8uY29tIiwKICAgICJDYXNoIEFwcCI6ICJub3JlcGx5QGNhc2hhcHAuY29tIiwK
ICAgICJNYXJyaW90dCI6ICJub3JlcGx5QG1hcnJpb3R0LmNvbSIsCiAgICAiSGlsdG9uIjogIm5v
cmVwbHlAaGlsdG9uLmNvbSIsCiAgICAiSHlhdHQiOiAibm9yZXBseUBoeWF0dC5jb20iLAogICAg
Ik5hdGlvbmFsIEdlb2dyYXBoaWMiOiAibm9yZXBseUBuYXRnZW8uY29tIiwKICAgICJOaWtvbiI6
ICJub3JlcGx5QG5pa29uLmNvbSIsCiAgICAiQ2Fub24iOiAibm9yZXBseUBjYW5vbi5jb20iLAog
ICAgIlNvbnkiOiAibm9yZXBseUBzb255LmNvbSIsCiAgICAiRGVsbCI6ICJub3JlcGx5QGRlbGwu
Y29tIiwKICAgICJIUCI6ICJub3JlcGx5QGhwLmNvbSIsCiAgICAiTGVub3ZvIjogIm5vcmVwbHlA
bGVub3ZvLmNvbSIsCiAgICAiQWNlciI6ICJub3JlcGx5QGFjZXIuY29tIiwKICAgICJBc3VzIjog
Im5vcmVwbHlAYXN1cy5jb20iLAogICAgIkludGVsIjogIm5vcmVwbHlAaW50ZWwuY29tIiwKICAg
ICJBTUQiOiAibm9yZXBseUBhbWQuY29tIiwKICAgICJJQk0iOiAibm9yZXBseUBpYm0uY29tIiwK
ICAgICJDaXNjbyI6ICJub3JlcGx5QGNpc2NvLmNvbSIsCiAgICAiRmVkRXgiOiAibm9yZXBseUBm
ZWRleC5jb20iLAogICAgIlVQUyI6ICJub3JlcGx5QHVwcy5jb20iLAogICAgIkRITCI6ICJub3Jl
cGx5QGRobC5jb20iLAogICAgIlVTUFMiOiAibm9yZXBseUB1c3BzLmNvbSIsCiAgICAiTWFlcnNr
IjogIm5vcmVwbHlAbWFlcnNrLmNvbSIsCiAgICAiU2hlbGwiOiAibm9yZXBseUBzaGVsbC5jb20i
LAogICAgIkJQIjogIm5vcmVwbHlAYnAuY29tIiwKICAgICJDaGV2cm9uIjogIm5vcmVwbHlAY2hl
dnJvbi5jb20iLAogICAgIkV4eG9uTW9iaWwiOiAibm9yZXBseUBleHhvbm1vYmlsLmNvbSIsCiAg
ICAiVG95b3RhIjogIm5vcmVwbHlAdG95b3RhLmNvbSIsCiAgICAiRm9yZCI6ICJub3JlcGx5QGZv
cmQuY29tIiwKICAgICJHZW5lcmFsIE1vdG9ycyI6ICJub3JlcGx5QGdtLmNvbSIsCiAgICAiSG9u
ZGEiOiAibm9yZXBseUBob25kYS5jb20iLAogICAgIkJNVyI6ICJub3JlcGx5QGJtdy5jb20iLAog
ICAgIk1lcmNlZGVzLUJlbnoiOiAibm9yZXBseUBtZXJjZWRlcy1iZW56LmNvbSIsCiAgICAiQXVk
aSI6ICJub3JlcGx5QGF1ZGkuY29tIiwKICAgICJWb2xrc3dhZ2VuIjogIm5vcmVwbHlAdm9sa3N3
YWdlbi5jb20iLAogICAgIk5pc3NhbiI6ICJub3JlcGx5QG5pc3Nhbi5jb20iLAogICAgIlBhbmFz
b25pYyI6ICJub3JlcGx5QHBhbmFzb25pYy5jb20iLAogICAgIkxHIjogIm5vcmVwbHlAbGcuY29t
IiwKICAgICJTYW1zdW5nIjogIm5vcmVwbHlAc2Ftc3VuZy5jb20iLAogICAgIlBoaWxpcHMiOiAi
bm9yZXBseUBwaGlsaXBzLmNvbSIsCiAgICAiU2llbWVucyI6ICJub3JlcGx5QHNpZW1lbnMuY29t
IiwKICAgICJHRSI6ICJub3JlcGx5QGdlLmNvbSIsCiAgICAiQ2F0ZXJwaWxsYXIiOiAibm9yZXBs
eUBjYXQuY29tIiwKICAgICJKb2huIERlZXJlIjogIm5vcmVwbHlAam9obmRlZXJlLmNvbSIsCiAg
ICAiM00iOiAibm9yZXBseUAzbS5jb20iLAogICAgIkhvbmV5d2VsbCI6ICJub3JlcGx5QGhvbmV5
d2VsbC5jb20iLAogICAgIkludHVpdCI6ICJub3JlcGx5QGludHVpdC5jb20iLAogICAgIldpc2gi
OiAibm9yZXBseUB3aXNoLmNvbSIsCiAgICAiR3JvdXBvbiI6ICJub3JlcGx5QGdyb3Vwb24uY29t
IiwKICAgICJGYW5kYW5nbyI6ICJub3JlcGx5QGZhbmRhbmdvLmNvbSIsCiAgICAiSU1EYiI6ICJu
b3JlcGx5QGltZGIuY29tIiwKICAgICJSb3R0ZW4gVG9tYXRvZXMiOiAibm9yZXBseUByb3R0ZW50
b21hdG9lcy5jb20iLAogICAgIkdPRyI6ICJub3JlcGx5QGdvZy5jb20iLAogICAgIkl0Y2guaW8i
OiAibm9yZXBseUBpdGNoLmlvIiwKICAgICJLaWNrc3RhcnRlciI6ICJub3JlcGx5QGtpY2tzdGFy
dGVyLmNvbSIsCiAgICAiSW5kaWVnb2dvIjogIm5vcmVwbHlAaW5kaWVnb2dvLmNvbSIKfQoKIyBM
aW1pdGVkIHNlcnZpY2UgbWFwcGluZyBmb3Igc3BvbnNvciB1c2VycwpTUE9OU09SX1NFUlZJQ0Vf
TUFQUElORyA9IHsKICAgICJOZXRmbGl4IjogIm5vLXJlcGx5QG5ldGZsaXguY29tIiwKICAgICJT
cG90aWZ5IjogIm5vLXJlcGx5QHNwb3RpZnkuY29tIiwKICAgICJQYXlQYWwiOiAic2VydmljZUBw
YXlwYWwuY29tIiwKICAgICJBbWF6b24iOiAiYXV0by1jb25maXJtQGFtYXpvbi5jb20iLAogICAg
IkRpc2NvcmQiOiAibm9yZXBseUBkaXNjb3JkYXBwLmNvbSIsCiAgICAiUm9ibG94IjogIm5vLXJl
cGx5QHJvYmxveC5jb20iLAogICAgIkZhY2Vib29rIjogInNlY3VyaXR5QGZhY2Vib29rbWFpbC5j
b20iLAogICAgIkluc3RhZ3JhbSI6ICJzZWN1cml0eUBtYWlsLmluc3RhZ3JhbS5jb20iCn0KCiMg
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT0KIyAgICAgICAgICAgICAgICAgICAgIERPTUFJTiBDTEFTU0lG
SUNBVElPTiBTWVNURU0KIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQpNSUNST1NPRlRfRE9NQUlOUyA9
IHsKICAgICdob3RtYWlsLmNvbScsICdvdXRsb29rLmNvbScsICdsaXZlLmNvbScsICdtc24uY29t
JywKICAgICdwYXNzcG9ydC5jb20nLCAnbWljcm9zb2Z0LmNvbScsICd3aW5kb3dzbGl2ZS5jb20n
LAogICAgJ2hvdG1haWwuY28udWsnLCAnb3V0bG9vay5jby51aycKfQoKR09PR0xFX0RPTUFJTlMg
PSB7CiAgICAnZ21haWwuY29tJywgJ2dvb2dsZW1haWwuY29tJywgJ2dvb2dsZS5jb20nLAogICAg
J2dtYWlsLmNvLnVrJywgJ2dvb2dsZS5jby5pbicsICdnbWFpbC5kZScKfQoKWUFIT09fRE9NQUlO
UyA9IHsKICAgICd5YWhvby5jb20nLCAneWFob28uY28udWsnLCAneWFob28uY28uanAnLCAneW1h
aWwuY29tJywgJ3JvY2tldG1haWwuY29tJwp9CgpBUFBMRV9ET01BSU5TID0gewogICAgJ2ljbG91
ZC5jb20nLCAnbWUuY29tJywgJ21hYy5jb20nCn0KCkFPTF9ET01BSU5TID0gewogICAgJ2FvbC5j
b20nCn0KCkdNWF9ET01BSU5TID0gewogICAgJ2dteC5jb20nLCAnZ214LmRlJwp9CgpNQUlMUlVf
RE9NQUlOUyA9IHsKICAgICdtYWlsLnJ1JywgJ2JrLnJ1JywgJ2xpc3QucnUnLCAnaW5ib3gucnUn
Cn0KCllBTkRFWF9ET01BSU5TID0gewogICAgJ3lhbmRleC5jb20nLCAneWFuZGV4LnJ1Jwp9CgpQ
Uk9UT05fRE9NQUlOUyA9IHsKICAgICdwcm90b25tYWlsLmNvbScsICdwcm90b24ubWUnCn0KClpP
SE9fRE9NQUlOUyA9IHsKICAgICd6b2hvLmNvbScsICd6b2hvLmV1Jwp9CgpUVVRBTk9UQV9ET01B
SU5TID0gewogICAgJ3R1dGFub3RhLmNvbScKfQoKRkFTVE1BSUxfRE9NQUlOUyA9IHsKICAgICdm
YXN0bWFpbC5jb20nCn0KCkRJU1BPU0FCTEVfRE9NQUlOUyA9IHsKICAgICdtYWlsaW5hdG9yLmNv
bScsICcxMG1pbnV0ZW1haWwuY29tJywgJ3RlbXBtYWlsLmNvbScsCiAgICAnZ3VlcnJpbGxhbWFp
bC5jb20nLCAneW9wbWFpbC5jb20nLCAnZ2V0bmFkYS5jb20nLAogICAgJ3RyYXNobWFpbC5jb20n
LCAnbW9ha3QuY29tJywgJ2Fub255bWJveC5jb20nCn0KCkdFUk1BTl9ET01BSU5TID0gewogICAg
J3dlYi5kZScsICdnbXguZGUnLCAndC1vbmxpbmUuZGUnLCAnZnJlZW5ldC5kZScsICdwb3N0ZW8u
ZGUnCn0KCkZSRU5DSF9ET01BSU5TID0gewogICAgJ29yYW5nZS5mcicsICdsYXBvc3RlLm5ldCcs
ICdzZnIuZnInLCAnZnJlZS5mcicKfQoKUlVTU0lBTl9ET01BSU5TID0gewogICAgJ21haWwucnUn
LCAnYmsucnUnLCAnbGlzdC5ydScsICdpbmJveC5ydScKfQoKQ0hJTkVTRV9ET01BSU5TID0gewog
ICAgJ3FxLmNvbScsICcxNjMuY29tJywgJzEyNi5jb20nLCAnc2luYS5jb20nCn0KCkpBUEFORVNF
X0RPTUFJTlMgPSB7CiAgICAneWFob28uY28uanAnLCAnZXp3ZWIubmUuanAnLCAnZG9jb21vLm5l
LmpwJwp9CgoKZGVmIGNsYXNzaWZ5X2RvbWFpbihlbWFpbDogc3RyKSAtPiBzdHI6CiAgICAiIiJD
bGFzc2lmeSBlbWFpbCBkb21haW4gaW50byBwcm92aWRlciBjYXRlZ29yaWVzLiIiIgogICAgZG9t
YWluID0gZW1haWwuc3BsaXQoJ0AnKVstMV0ubG93ZXIoKSBpZiAnQCcgaW4gZW1haWwgZWxzZSAn
JwogICAgCiAgICBpZiBkb21haW4gaW4gTUlDUk9TT0ZUX0RPTUFJTlM6CiAgICAgICAgcmV0dXJu
ICdtaWNyb3NvZnQnCiAgICBpZiBkb21haW4gaW4gR09PR0xFX0RPTUFJTlM6CiAgICAgICAgcmV0
dXJuICdnb29nbGUnCiAgICBpZiBkb21haW4gaW4gWUFIT09fRE9NQUlOUzoKICAgICAgICByZXR1
cm4gJ3lhaG9vJwogICAgaWYgZG9tYWluIGluIEFQUExFX0RPTUFJTlM6CiAgICAgICAgcmV0dXJu
ICdhcHBsZScKICAgIGlmIGRvbWFpbiBpbiBBT0xfRE9NQUlOUzoKICAgICAgICByZXR1cm4gJ2Fv
bCcKICAgIGlmIGRvbWFpbiBpbiBHTVhfRE9NQUlOUzoKICAgICAgICByZXR1cm4gJ2dteCcKICAg
IGlmIGRvbWFpbiBpbiBNQUlMUlVfRE9NQUlOUzoKICAgICAgICByZXR1cm4gJ21haWxydScKICAg
IGlmIGRvbWFpbiBpbiBZQU5ERVhfRE9NQUlOUzoKICAgICAgICByZXR1cm4gJ3lhbmRleCcKICAg
IGlmIGRvbWFpbiBpbiBQUk9UT05fRE9NQUlOUzoKICAgICAgICByZXR1cm4gJ3Byb3RvbicKICAg
IGlmIGRvbWFpbiBpbiBaT0hPX0RPTUFJTlM6CiAgICAgICAgcmV0dXJuICd6b2hvJwogICAgaWYg
ZG9tYWluIGluIFRVVEFOT1RBX0RPTUFJTlM6CiAgICAgICAgcmV0dXJuICd0dXRhbm90YScKICAg
IGlmIGRvbWFpbiBpbiBGQVNUTUFJTF9ET01BSU5TOgogICAgICAgIHJldHVybiAnZmFzdG1haWwn
CiAgICBpZiBkb21haW4gaW4gRElTUE9TQUJMRV9ET01BSU5TOgogICAgICAgIHJldHVybiAnZGlz
cG9zYWJsZScKICAgIGlmIGRvbWFpbiBpbiBHRVJNQU5fRE9NQUlOUzoKICAgICAgICByZXR1cm4g
J2dlcm1hbicKICAgIGlmIGRvbWFpbiBpbiBGUkVOQ0hfRE9NQUlOUzoKICAgICAgICByZXR1cm4g
J2ZyZW5jaCcKICAgIGlmIGRvbWFpbiBpbiBSVVNTSUFOX0RPTUFJTlM6CiAgICAgICAgcmV0dXJu
ICdydXNzaWFuJwogICAgaWYgZG9tYWluIGluIENISU5FU0VfRE9NQUlOUzoKICAgICAgICByZXR1
cm4gJ2NoaW5lc2UnCiAgICBpZiBkb21haW4gaW4gSkFQQU5FU0VfRE9NQUlOUzoKICAgICAgICBy
ZXR1cm4gJ2phcGFuZXNlJwogICAgaWYgZG9tYWluLmVuZHN3aXRoKCgnLmVkdScsICcuZWR1Licp
KToKICAgICAgICByZXR1cm4gJ2dvb2dsZScgICMgSGFuZGxlIGVkdWNhdGlvbmFsIGRvbWFpbnMg
YXMgR29vZ2xlCiAgICByZXR1cm4gJ3Vua25vd24nCgojID09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiMg
ICAgICAgICAgICAgICAgICAgICBJTUFQIFNFUlZFUiBNQVBQSU5HCiMgPT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT0KSU1BUF9TRVJWRVJfTUFQID0gewogICAgJ3lhaG9vJzogKCJpbWFwLm1haWwueWFob28u
Y29tIiwgOTkzKSwKICAgICdhcHBsZSc6ICgiaW1hcC5tYWlsLm1lLmNvbSIsIDk5MyksCiAgICAn
YW9sJzogKCJpbWFwLmFvbC5jb20iLCA5OTMpLAogICAgJ2dteCc6ICgiaW1hcC5nbXgubmV0Iiwg
OTkzKSwKICAgICdtYWlscnUnOiAoImltYXAubWFpbC5ydSIsIDk5MyksCiAgICAneWFuZGV4Jzog
KCJpbWFwLnlhbmRleC5jb20iLCA5OTMpLAogICAgJ3pvaG8nOiAoImltYXAuem9oby5jb20iLCA5
OTMpLAogICAgJ2Zhc3RtYWlsJzogKCJpbWFwLmZhc3RtYWlsLmNvbSIsIDk5MyksCiAgICAnZ2Vy
bWFuJzogewogICAgICAgICd3ZWIuZGUnOiAiaW1hcC53ZWIuZGUiLAogICAgICAgICd0LW9ubGlu
ZS5kZSc6ICJpbWFwLnQtb25saW5lLmRlIiwKICAgICAgICAnZnJlZW5ldC5kZSc6ICJpbWFwLmZy
ZWVuZXQuZGUiLAogICAgICAgICdwb3N0ZW8uZGUnOiAiaW1hcC5wb3N0ZW8uZGUiCiAgICB9LAog
ICAgJ2ZyZW5jaCc6IHsKICAgICAgICAnb3JhbmdlLmZyJzogImltYXAub3JhbmdlLmZyIiwKICAg
ICAgICAnbGFwb3N0ZS5uZXQnOiAiaW1hcC5sYXBvc3RlLm5ldCIsCiAgICAgICAgJ3Nmci5mcic6
ICJpbWFwLnNmci5mciIsCiAgICAgICAgJ2ZyZWUuZnInOiAiaW1hcC5mcmVlLmZyIgogICAgfSwK
ICAgICdydXNzaWFuJzogKCJpbWFwLm1haWwucnUiLCA5OTMpLAogICAgJ2NoaW5lc2UnOiB7CiAg
ICAgICAgJ3FxLmNvbSc6ICJpbWFwLnFxLmNvbSIsCiAgICAgICAgJzE2My5jb20nOiAiaW1hcC4x
NjMuY29tIiwKICAgICAgICAnMTI2LmNvbSc6ICJpbWFwLjEyNi5jb20iLAogICAgICAgICdzaW5h
LmNvbSc6ICJpbWFwLnNpbmEuY29tIgogICAgfSwKICAgICdqYXBhbmVzZSc6IHsKICAgICAgICAn
ZXp3ZWIubmUuanAnOiAiaW1hcC5lendlYi5uZS5qcCIsCiAgICAgICAgJ2RvY29tby5uZS5qcCc6
ICJpbWFwLmRvY29tby5uZS5qcCIKICAgIH0KfQoKZGVmIGdldF9pbWFwX3NlcnZlcihlbWFpbDog
c3RyKSAtPiBPcHRpb25hbFtUdXBsZVtzdHIsIGludF1dOgogICAgIiIiR2V0IElNQVAgc2VydmVy
IGNvbmZpZ3VyYXRpb24gZm9yIGVtYWlsIGRvbWFpbi4iIiIKICAgIGRvbWFpbiA9IGVtYWlsLnNw
bGl0KCdAJylbLTFdLmxvd2VyKCkKICAgIGRvbWFpbl90eXBlID0gY2xhc3NpZnlfZG9tYWluKGVt
YWlsKQogICAgCiAgICBpZiBkb21haW5fdHlwZSBpbiBJTUFQX1NFUlZFUl9NQVA6CiAgICAgICAg
Y29uZmlnID0gSU1BUF9TRVJWRVJfTUFQW2RvbWFpbl90eXBlXQogICAgICAgIGlmIGlzaW5zdGFu
Y2UoY29uZmlnLCB0dXBsZSk6CiAgICAgICAgICAgIHJldHVybiBjb25maWcKICAgICAgICBlbGlm
IGlzaW5zdGFuY2UoY29uZmlnLCBkaWN0KSBhbmQgZG9tYWluIGluIGNvbmZpZzoKICAgICAgICAg
ICAgcmV0dXJuIChjb25maWdbZG9tYWluXSwgOTkzKQogICAgcmV0dXJuIE5vbmUKCiMgPT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT0KIyAgICAgICAgICAgICAgICAgICAgIFBFUi1VU0VSIFNFU1NJT05TIEFO
RCBTVEFUSVNUSUNTCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KdXNlcl9zZXNzaW9uc19sb2NrID0g
TG9jaygpCnVzZXJfc2Vzc2lvbnMgPSB7fQoKZGVmIGdldF91c2VyX3Nlc3Npb24odXNlcl9pZDog
aW50KSAtPiBkaWN0OgogICAgIiIiR2V0IG9yIGNyZWF0ZSBhIHNlc3Npb24gZm9yIHRoZSB1c2Vy
IHdpdGggdGhyZWFkLXNhZmUgbG9ja2luZy4iIiIKICAgIHdpdGggdXNlcl9zZXNzaW9uc19sb2Nr
OgogICAgICAgIGlmIHVzZXJfaWQgbm90IGluIHVzZXJfc2Vzc2lvbnM6CiAgICAgICAgICAgIHVz
ZXJfc2Vzc2lvbnNbdXNlcl9pZF0gPSB7CiAgICAgICAgICAgICAgICAic2hvdWxkX3N0b3AiOiBG
YWxzZSwKICAgICAgICAgICAgICAgICJnb29kX2NvdW50IjogMCwKICAgICAgICAgICAgICAgICJi
YWRfY291bnQiOiAwLAogICAgICAgICAgICAgICAgInRvdGFsX2NoZWNrZWQiOiAwLAogICAgICAg
ICAgICAgICAgInNlcnZpY2VfaGl0cyI6IHt9LAogICAgICAgICAgICAgICAgInJlc3VsdHNfY2Fj
aGUiOiB7fSwKICAgICAgICAgICAgICAgICJjaGVja190aW1lc3RhbXBzIjogZGVxdWUobWF4bGVu
PTYwMCksCiAgICAgICAgICAgICAgICAidG90YWxfbGluZXMiOiAwLAogICAgICAgICAgICAgICAg
ImlzX3Nwb25zb3JfbW9kZSI6IEZhbHNlICAjIFRyYWNrIGlmIGluIHNwb25zb3IgbW9kZQogICAg
ICAgICAgICB9CiAgICAgICAgcmV0dXJuIHVzZXJfc2Vzc2lvbnNbdXNlcl9pZF0KCmRlZiByZXNl
dF91c2VyX3Nlc3Npb24odXNlcl9pZDogaW50KSAtPiBOb25lOgogICAgIiIiUmVzZXQgYWxsIHNl
c3Npb24gZGF0YSBmb3IgYSB1c2VyLiIiIgogICAgd2l0aCB1c2VyX3Nlc3Npb25zX2xvY2s6CiAg
ICAgICAgdXNlcl9zZXNzaW9uc1t1c2VyX2lkXSA9IHsKICAgICAgICAgICAgInNob3VsZF9zdG9w
IjogRmFsc2UsCiAgICAgICAgICAgICJnb29kX2NvdW50IjogMCwKICAgICAgICAgICAgImJhZF9j
b3VudCI6IDAsCiAgICAgICAgICAgICJ0b3RhbF9jaGVja2VkIjogMCwKICAgICAgICAgICAgInNl
cnZpY2VfaGl0cyI6IHt9LAogICAgICAgICAgICAicmVzdWx0c19jYWNoZSI6IHt9LAogICAgICAg
ICAgICAiY2hlY2tfdGltZXN0YW1wcyI6IGRlcXVlKG1heGxlbj02MDApLAogICAgICAgICAgICAi
dG90YWxfbGluZXMiOiAwLAogICAgICAgICAgICAiaXNfc3BvbnNvcl9tb2RlIjogRmFsc2UKICAg
ICAgICB9CgojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiMgICAgICAgICAgICAgICAgICAgICBQUkVN
SVVNIFNUQVRVUyBDSEVDSwojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CmRlZiBpc19wcmVtaXVtX3Vz
ZXIodXNlcl9pZDogaW50KSAtPiBib29sOgogICAgIiIiQ2hlY2sgaWYgdXNlciBoYXMgcHJlbWl1
bSBzdGF0dXMgKG93bmVyLCB3aGl0ZWxpc3RlZCwgb3IgYWN0aXZlIHRyaWFsKSIiIgogICAgcmV0
dXJuICgKICAgICAgICB1c2VyX2lkIGluIE9XTkVSUyBvciAKICAgICAgICBpc193aGl0ZWxpc3Rl
ZCh1c2VyX2lkKSBvciAKICAgICAgICBoYXNfdHJpYWxfYWNjZXNzKHVzZXJfaWQpCiAgICApCgoj
ID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09CiMgICAgICAgICAgICAgICAgICAgICBTRVNTSU9OIEZPTERF
UlMgUEVSIFVTRVIKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQpkZWYgcHJlcGFyZV91c2VyX3Nlc3Np
b25fZm9sZGVyKHVzZXJfaWQ6IGludCk6CiAgICAiIiJDcmVhdGUgYSBjbGVhbiBzZXNzaW9uIGZv
bGRlciBmb3IgdXNlciByZXN1bHRzLiIiIgogICAgc2Vzc2lvbl9wYXRoID0gZiJ7UkVTVUxUU19G
T0xERVJ9L3t1c2VyX2lkfSIKICAgIGlmIG9zLnBhdGguZXhpc3RzKHNlc3Npb25fcGF0aCk6CiAg
ICAgICAgc2h1dGlsLnJtdHJlZShzZXNzaW9uX3BhdGgsIGlnbm9yZV9lcnJvcnM9VHJ1ZSkKICAg
IG9zLm1ha2VkaXJzKHNlc3Npb25fcGF0aCwgZXhpc3Rfb2s9VHJ1ZSkKCmRlZiBzYXZlX3Jlc3Vs
dF9mb3JfdXNlcih1c2VyX2lkOiBpbnQsIHNlcnZpY2VfbmFtZTogc3RyLCBlbWFpbDogc3RyLCBw
YXNzd29yZDogc3RyKToKICAgICIiIlNhdmUgdmFsaWQgYWNjb3VudCB0byBzZXJ2aWNlLXNwZWNp
ZmljIHJlc3VsdCBmaWxlLiIiIgogICAgc2Vzc2lvbl9wYXRoID0gZiJ7UkVTVUxUU19GT0xERVJ9
L3t1c2VyX2lkfSIKICAgIG9zLm1ha2VkaXJzKHNlc3Npb25fcGF0aCwgZXhpc3Rfb2s9VHJ1ZSkK
ICAgIGZpbGVuYW1lID0gb3MucGF0aC5qb2luKHNlc3Npb25fcGF0aCwgZiJ7c2VydmljZV9uYW1l
Lmxvd2VyKCl9LnR4dCIpCiAgICB3aXRoIG9wZW4oZmlsZW5hbWUsICJhIiwgZW5jb2Rpbmc9InV0
Zi04IikgYXMgZjoKICAgICAgICBmLndyaXRlKGYie2VtYWlsfTp7cGFzc3dvcmR9XG4iKQoKZGVm
IHNhdmVfdmFsaWRfYWNjb3VudCh1c2VyX2lkOiBpbnQsIGVtYWlsOiBzdHIsIHBhc3N3b3JkOiBz
dHIpOgogICAgIiIiU2F2ZSB2YWxpZGF0ZWQgYWNjb3VudCByZWdhcmRsZXNzIG9mIHNlcnZpY2Ug
aGl0cy4iIiIKICAgIHNlc3Npb25fcGF0aCA9IGYie1JFU1VMVFNfRk9MREVSfS97dXNlcl9pZH0i
CiAgICBvcy5tYWtlZGlycyhzZXNzaW9uX3BhdGgsIGV4aXN0X29rPVRydWUpCiAgICBmaWxlbmFt
ZSA9IG9zLnBhdGguam9pbihzZXNzaW9uX3BhdGgsICJ2YWxpZF9hY2NvdW50cy50eHQiKQogICAg
d2l0aCBvcGVuKGZpbGVuYW1lLCAiYSIsIGVuY29kaW5nPSJ1dGYtOCIpIGFzIGY6CiAgICAgICAg
Zi53cml0ZShmIntlbWFpbH06e3Bhc3N3b3JkfVxuIikKCmRlZiBzYXZlX211bHRpX2hpdCh1c2Vy
X2lkOiBpbnQsIGxpbmU6IHN0cik6CiAgICAiIiJTYXZlIGFjY291bnRzIHdpdGggbXVsdGlwbGUg
c2VydmljZSBoaXRzIHRvIGEgc3BlY2lhbCBmaWxlLiIiIgogICAgc2Vzc2lvbl9wYXRoID0gZiJ7
UkVTVUxUU19GT0xERVJ9L3t1c2VyX2lkfSIKICAgIG9zLm1ha2VkaXJzKHNlc3Npb25fcGF0aCwg
ZXhpc3Rfb2s9VHJ1ZSkKICAgIG11bHRpX2ZpbGUgPSBvcy5wYXRoLmpvaW4oc2Vzc2lvbl9wYXRo
LCAibXVsdGlfaGl0cy50eHQiKQogICAgd2l0aCBvcGVuKG11bHRpX2ZpbGUsICJhIiwgZW5jb2Rp
bmc9InV0Zi04IikgYXMgZjoKICAgICAgICBmLndyaXRlKGxpbmUgKyAiXG4iKQoKZGVmIGdldF9y
ZXN1bHRzX2ZpbGVzKHVzZXJfaWQ6IGludCk6CiAgICAiIiJHZXQgYWxsIHJlc3VsdCBmaWxlcyBm
b3IgYSB1c2VyIHNlc3Npb24uIiIiCiAgICBzZXNzaW9uX3BhdGggPSBmIntSRVNVTFRTX0ZPTERF
Un0ve3VzZXJfaWR9IgogICAgaWYgbm90IG9zLnBhdGguZXhpc3RzKHNlc3Npb25fcGF0aCk6CiAg
ICAgICAgcmV0dXJuIFtdCiAgICByZXR1cm4gW29zLnBhdGguam9pbihzZXNzaW9uX3BhdGgsIGYp
IGZvciBmIGluIG9zLmxpc3RkaXIoc2Vzc2lvbl9wYXRoKV0KCmRlZiBjbGVhcl91c2VyX3Jlc3Vs
dHModXNlcl9pZDogaW50KToKICAgICIiIkNsZWFuIHVwIHVzZXIgc2Vzc2lvbiBmb2xkZXIgYWZ0
ZXIgY29tcGxldGlvbi4iIiIKICAgIHNlc3Npb25fcGF0aCA9IGYie1JFU1VMVFNfRk9MREVSfS97
dXNlcl9pZH0iCiAgICBzaHV0aWwucm10cmVlKHNlc3Npb25fcGF0aCwgaWdub3JlX2Vycm9ycz1U
cnVlKQoKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PQojICAgICAgICAgICAgICAgICAgICAgRElTQ09S
RCBCT1QgR0xPQkFMUwojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CnVzZXJfbGFzdF91c2VkID0ge30K
c3RhdHNfbG9jayA9IExvY2soKQpzZXJ2aWNlX2hpdHNfbG9jayA9IExvY2soKQpsb2NrZWQgPSBG
YWxzZQoKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PQojICAgICAgICAgICAgICAgICAgICAgVFJJQUwg
QUNDRVNTIE1BTkFHRU1FTlQKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQpkZWYgbG9hZF90cmlhbF9k
YigpIC0+IGRpY3Q6CiAgICAiIiJMb2FkIHRyaWFsIGRhdGFiYXNlIGZyb20gSlNPTiBmaWxlLiIi
IgogICAgaWYgb3MucGF0aC5leGlzdHMoVFJJQUxfREJfRklMRSk6CiAgICAgICAgdHJ5OgogICAg
ICAgICAgICB3aXRoIG9wZW4oVFJJQUxfREJfRklMRSwgInIiKSBhcyBmOgogICAgICAgICAgICAg
ICAgcmV0dXJuIGpzb24ubG9hZChmKQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAg
ICAgICAgICAgcHJpbnQoIkVycm9yIGxvYWRpbmcgdHJpYWwgREI6IiwgZSkKICAgICAgICAgICAg
cmV0dXJuIHt9CiAgICByZXR1cm4ge30KCmRlZiBzYXZlX3RyaWFsX2RiKGRhdGE6IGRpY3QpIC0+
IE5vbmU6CiAgICAiIiJTYXZlIHRyaWFsIGRhdGFiYXNlIHRvIEpTT04gZmlsZS4iIiIKICAgIHRy
eToKICAgICAgICB3aXRoIG9wZW4oVFJJQUxfREJfRklMRSwgInciKSBhcyBmOgogICAgICAgICAg
ICBqc29uLmR1bXAoZGF0YSwgZikKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBw
cmludCgiRXJyb3Igc2F2aW5nIHRyaWFsIERCOiIsIGUpCgpkZWYgaGFzX3RyaWFsX2FjY2Vzcyh1
c2VyX2lkOiBpbnQpIC0+IGJvb2w6CiAgICAiIiJDaGVjayBpZiB1c2VyIGhhcyBhY3RpdmUgdHJp
YWwgYWNjZXNzLiIiIgogICAgZGIgPSBsb2FkX3RyaWFsX2RiKCkKICAgIHJldHVybiBzdHIodXNl
cl9pZCkgaW4gZGIKCmRlZiBncmFudF90cmlhbF9hY2Nlc3ModXNlcl9pZDogaW50LCBob3Vyczog
aW50ID0gMjQpIC0+IE5vbmU6CiAgICAiIiJHcmFudCB0cmlhbCBhY2Nlc3MgdG8gdXNlciB3aXRo
IGV4cGlyYXRpb24gdGltZXN0YW1wLiIiIgogICAgZGIgPSBsb2FkX3RyaWFsX2RiKCkKICAgIGV4
cGlyYXRpb24gPSBkYXRldGltZS5ub3coKS50aW1lc3RhbXAoKSArIGhvdXJzICogMzYwMAogICAg
ZGJbc3RyKHVzZXJfaWQpXSA9IGV4cGlyYXRpb24KICAgIHNhdmVfdHJpYWxfZGIoZGIpCgojID09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09CiMgICAgICAgICAgICAgICAgICAgICBXSElURUxJU1QgTUFOQUdF
TUVOVCBTWVNURU0KIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQpkZWYgbG9hZF93aGl0ZWxpc3QoKSAt
PiBkaWN0OgogICAgIiIiTG9hZCB3aGl0ZWxpc3QgZGF0YWJhc2UgZnJvbSBKU09OIGZpbGUuIiIi
CiAgICBpZiBvcy5wYXRoLmV4aXN0cyhXSElURUxJU1RfREJfRklMRSk6CiAgICAgICAgdHJ5Ogog
ICAgICAgICAgICB3aXRoIG9wZW4oV0hJVEVMSVNUX0RCX0ZJTEUsICJyIikgYXMgZjoKICAgICAg
ICAgICAgICAgIHJldHVybiBqc29uLmxvYWQoZikKICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFz
IGU6CiAgICAgICAgICAgIHByaW50KCJFcnJvciBsb2FkaW5nIHdoaXRlbGlzdCBEQjoiLCBlKQog
ICAgICAgICAgICByZXR1cm4ge30KICAgIHJldHVybiB7fQoKZGVmIHNhdmVfd2hpdGVsaXN0KHdo
aXRlbGlzdDogZGljdCkgLT4gTm9uZToKICAgICIiIlNhdmUgd2hpdGVsaXN0IGRhdGFiYXNlIHRv
IEpTT04gZmlsZS4iIiIKICAgIHRyeToKICAgICAgICB3aXRoIG9wZW4oV0hJVEVMSVNUX0RCX0ZJ
TEUsICJ3IikgYXMgZjoKICAgICAgICAgICAganNvbi5kdW1wKHdoaXRlbGlzdCwgZikKICAgIGV4
Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBwcmludCgiRXJyb3Igc2F2aW5nIHdoaXRlbGlz
dCBEQjoiLCBlKQoKZGVmIGFkZF90b193aGl0ZWxpc3QodXNlcl9pZDogaW50LCBkdXJhdGlvbjog
c3RyKSAtPiBOb25lOgogICAgIiIiQWRkIHVzZXIgdG8gd2hpdGVsaXN0IHdpdGggc3BlY2lmaWVk
IGR1cmF0aW9uLiIiIgogICAgd2wgPSBsb2FkX3doaXRlbGlzdCgpCiAgICB1aWRfc3RyID0gc3Ry
KHVzZXJfaWQpCiAgICBkdXJhdGlvbiA9IGR1cmF0aW9uLmxvd2VyKCkKICAgIAogICAgaWYgZHVy
YXRpb24gPT0gImxpZmV0aW1lIjoKICAgICAgICB3bFt1aWRfc3RyXSA9IE5vbmUKICAgIGVsc2U6
CiAgICAgICAgdHJ5OgogICAgICAgICAgICBpZiBkdXJhdGlvbi5lbmRzd2l0aCgiZCIpOgogICAg
ICAgICAgICAgICAgZGF5cyA9IGludChkdXJhdGlvbls6LTFdKQogICAgICAgICAgICAgICAgZGVs
dGEgPSB0aW1lZGVsdGEoZGF5cz1kYXlzKQogICAgICAgICAgICBlbGlmIGR1cmF0aW9uLmVuZHN3
aXRoKCJ3Iik6CiAgICAgICAgICAgICAgICB3ZWVrcyA9IGludChkdXJhdGlvbls6LTFdKQogICAg
ICAgICAgICAgICAgZGVsdGEgPSB0aW1lZGVsdGEod2Vla3M9d2Vla3MpCiAgICAgICAgICAgIGVs
aWYgZHVyYXRpb24uZW5kc3dpdGgoIm0iKToKICAgICAgICAgICAgICAgIG1vbnRocyA9IGludChk
dXJhdGlvbls6LTFdKQogICAgICAgICAgICAgICAgZGVsdGEgPSB0aW1lZGVsdGEoZGF5cz0zMCAq
IG1vbnRocykKICAgICAgICAgICAgZWxpZiBkdXJhdGlvbi5lbmRzd2l0aCgieSIpOgogICAgICAg
ICAgICAgICAgeWVhcnMgPSBpbnQoZHVyYXRpb25bOi0xXSkKICAgICAgICAgICAgICAgIGRlbHRh
ID0gdGltZWRlbHRhKGRheXM9MzY1ICogeWVhcnMpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAg
ICAgICAgICByZXR1cm4KICAgICAgICAgICAgZXhwaXJhdGlvbiA9IChkYXRldGltZS5ub3coKSAr
IGRlbHRhKS50aW1lc3RhbXAoKQogICAgICAgICAgICB3bFt1aWRfc3RyXSA9IGV4cGlyYXRpb24K
ICAgICAgICBleGNlcHQgVmFsdWVFcnJvcjoKICAgICAgICAgICAgcmV0dXJuCiAgICBzYXZlX3do
aXRlbGlzdCh3bCkKCmRlZiByZW1vdmVfZnJvbV93aGl0ZWxpc3QodXNlcl9pZDogaW50KSAtPiBO
b25lOgogICAgIiIiUmVtb3ZlIHVzZXIgZnJvbSB3aGl0ZWxpc3QuIiIiCiAgICB3bCA9IGxvYWRf
d2hpdGVsaXN0KCkKICAgIHdsLnBvcChzdHIodXNlcl9pZCksIE5vbmUpCiAgICBzYXZlX3doaXRl
bGlzdCh3bCkKCmRlZiBpc193aGl0ZWxpc3RlZCh1c2VyX2lkOiBpbnQpIC0+IGJvb2w6CiAgICAi
IiJDaGVjayBpZiB1c2VyIGlzIHdoaXRlbGlzdGVkIGFuZCBhY2Nlc3MgaXMgc3RpbGwgdmFsaWQu
IiIiCiAgICB3bCA9IGxvYWRfd2hpdGVsaXN0KCkKICAgIHVpZF9zdHIgPSBzdHIodXNlcl9pZCkK
ICAgIGlmIHVpZF9zdHIgbm90IGluIHdsOgogICAgICAgIHJldHVybiBGYWxzZQogICAgZXhwaXJh
dGlvbiA9IHdsW3VpZF9zdHJdCiAgICBpZiBleHBpcmF0aW9uIGlzIE5vbmU6ICAjIExpZmV0aW1l
IGFjY2VzcwogICAgICAgIHJldHVybiBUcnVlCiAgICBpZiBkYXRldGltZS5ub3coKS50aW1lc3Rh
bXAoKSA+IGV4cGlyYXRpb246CiAgICAgICAgcmVtb3ZlX2Zyb21fd2hpdGVsaXN0KHVzZXJfaWQp
CiAgICAgICAgcmV0dXJuIEZhbHNlCiAgICByZXR1cm4gVHJ1ZQoKIyA9PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PQojICAgICAgICAgICAgICAgICAgICAgUEVSTUlTU0lPTiBERUNPUkFUT1JTCiMgPT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT0KZGVmIGNoZWNrX2FsbG93ZWRfd3JhcHBlcihmdW5jOiBDYWxsYWJsZVsu
Li4sIEFueV0pIC0+IENhbGxhYmxlWy4uLiwgQW55XToKICAgICIiIkRlY29yYXRvciB0byBlbmZv
cmNlIHdoaXRlbGlzdCBhbmQgc2VydmVyIHJlc3RyaWN0aW9ucyIiIgogICAgQGZ1bmN0b29scy53
cmFwcyhmdW5jKQogICAgYXN5bmMgZGVmIHdyYXBwZXIoaW50ZXJhY3Rpb246IGRpc2NvcmQuSW50
ZXJhY3Rpb24sICphcmdzOiBBbnksICoqa3dhcmdzOiBBbnkpIC0+IEFueToKICAgICAgICAjIEJs
b2NrIHNwb25zb3ItbW9kZSB1c2VycyBmcm9tIHByZW1pdW0gY29tbWFuZHMKICAgICAgICBzZXNz
aW9uID0gZ2V0X3VzZXJfc2Vzc2lvbihpbnRlcmFjdGlvbi51c2VyLmlkKQogICAgICAgIGlmIHNl
c3Npb24uZ2V0KCJpc19zcG9uc29yX21vZGUiLCBGYWxzZSk6CiAgICAgICAgICAgIGF3YWl0IGlu
dGVyYWN0aW9uLnJlc3BvbnNlLnNlbmRfbWVzc2FnZSgKICAgICAgICAgICAgICAgICJZb3UgYXJl
IGN1cnJlbnRseSBpbiBzcG9uc29yIG1vZGUgYW5kIGNhbm5vdCB1c2UgcHJlbWl1bSBjb21tYW5k
cy4gUGxlYXNlIHVzZSBgL3Nwb25zb3ItY2hlY2tgLiIsCiAgICAgICAgICAgICAgICBlcGhlbWVy
YWw9VHJ1ZQogICAgICAgICAgICApCiAgICAgICAgICAgIHJldHVybgoKICAgICAgICAjIFdISVRF
TElTVCBDSEVDSyBGT1IgQUxMIENPTU1BTkRTCiAgICAgICAgaWYgbm90IChpbnRlcmFjdGlvbi51
c2VyLmlkIGluIE9XTkVSUyBvciBpc193aGl0ZWxpc3RlZChpbnRlcmFjdGlvbi51c2VyLmlkKSk6
CiAgICAgICAgICAgIHZpZXcgPSBkaXNjb3JkLnVpLlZpZXcoKQogICAgICAgICAgICB2aWV3LmFk
ZF9pdGVtKGRpc2NvcmQudWkuQnV0dG9uKAogICAgICAgICAgICAgICAgbGFiZWw9IkpvaW4gT2Zm
aWNpYWwgU2VydmVyIiwKICAgICAgICAgICAgICAgIHVybD0iaHR0cHM6Ly9kaXNjb3JkLmdnL1Rl
ZGtiemRUejdUZWRrYnpkVHo3IiwKICAgICAgICAgICAgICAgIHN0eWxlPWRpc2NvcmQuQnV0dG9u
U3R5bGUubGluaywKICAgICAgICAgICAgICAgIGVtb2ppPSLwn5SXIgogICAgICAgICAgICApKQog
ICAgICAgICAgICAKICAgICAgICAgICAgYXdhaXQgaW50ZXJhY3Rpb24ucmVzcG9uc2Uuc2VuZF9t
ZXNzYWdlKAogICAgICAgICAgICAgICAgZW1iZWQ9ZGlzY29yZC5FbWJlZCgKICAgICAgICAgICAg
ICAgICAgICB0aXRsZT0i8J+UkiBQcmVtaXVtIEFjY2VzcyBSZXF1aXJlZCIsCiAgICAgICAgICAg
ICAgICAgICAgZGVzY3JpcHRpb249KAogICAgICAgICAgICAgICAgICAgICAgICAiVGhpcyBjb21t
YW5kIHJlcXVpcmVzICoqd2hpdGVsaXN0ZWQgYWNjZXNzKipcblxuIgogICAgICAgICAgICAgICAg
ICAgICAgICAiVG8gZ2V0IGFjY2VzczpcbiIKICAgICAgICAgICAgICAgICAgICAgICAgIjEuIEpv
aW4gb3VyIG9mZmljaWFsIHNlcnZlclxuIgogICAgICAgICAgICAgICAgICAgICAgICAiMi4gUmVx
dWVzdCB3aGl0ZWxpc3QgZnJvbSBhZG1pbnNcbiIKICAgICAgICAgICAgICAgICAgICAgICAgZiIz
LiBHZXQgdGhlIHJlcXVpcmVkIHJvbGUgPEAme1JFUVVJUkVEX1JPTEVfSUR9PiIKICAgICAgICAg
ICAgICAgICAgICApLAogICAgICAgICAgICAgICAgICAgIGNvbG9yPTB4NTg2NUYyCiAgICAgICAg
ICAgICAgICApLnNldF90aHVtYm5haWwodXJsPUJBTk5FUl9VUkwpLAogICAgICAgICAgICAgICAg
dmlldz12aWV3LAogICAgICAgICAgICAgICAgZXBoZW1lcmFsPVRydWUKICAgICAgICAgICAgKQog
ICAgICAgICAgICByZXR1cm4KCiAgICAgICAgIyBTRVJWRVIgUkVTVFJJQ1RJT04gRk9SIC9jaGVj
awogICAgICAgIGlmIG5vdCAic3BvbnNvciIgaW4gZnVuYy5fX25hbWVfXyBhbmQgaW50ZXJhY3Rp
b24uZ3VpbGQuaWQgIT0gT1JJR0lOQUxfU0VSVkVSX0lEOgogICAgICAgICAgICBhd2FpdCBpbnRl
cmFjdGlvbi5yZXNwb25zZS5zZW5kX21lc3NhZ2UoCiAgICAgICAgICAgICAgICAi4p2MIFByZW1p
dW0gY29tbWFuZHMgY2FuIG9ubHkgYmUgdXNlZCBpbiB0aGUgb2ZmaWNpYWwgc2VydmVyLiIsCiAg
ICAgICAgICAgICAgICBlcGhlbWVyYWw9VHJ1ZQogICAgICAgICAgICApCiAgICAgICAgICAgIHJl
dHVybgogICAgICAgICAgICAKICAgICAgICByZXR1cm4gYXdhaXQgZnVuYyhpbnRlcmFjdGlvbiwg
KmFyZ3MsICoqa3dhcmdzKQogICAgcmV0dXJuIHdyYXBwZXIKCmRlZiBjaGVja2VyX3Jlc3RyaWN0
aW9uKGZ1bmM6IENhbGxhYmxlWy4uLiwgQW55XSkgLT4gQ2FsbGFibGVbLi4uLCBBbnldOgogICAg
IiIiRGVjb3JhdG9yIHRvIGNoZWNrIGlmIGNoZWNrZXIgaXMgbG9ja2VkIG9yIGluIGNvcnJlY3Qg
Y2hhbm5lbC4iIiIKICAgIEBmdW5jdG9vbHMud3JhcHMoZnVuYykKICAgIGFzeW5jIGRlZiB3cmFw
cGVyKGludGVyYWN0aW9uOiBkaXNjb3JkLkludGVyYWN0aW9uLCAqYXJnczogQW55LCAqKmt3YXJn
czogQW55KSAtPiBBbnk6CiAgICAgICAgaWYgKGludGVyYWN0aW9uLnVzZXIuaWQgaW4gT1dORVJT
IG9yIGlzX3doaXRlbGlzdGVkKGludGVyYWN0aW9uLnVzZXIuaWQpKToKICAgICAgICAgICAgcmV0
dXJuIGF3YWl0IGZ1bmMoaW50ZXJhY3Rpb24sICphcmdzLCAqKmt3YXJncykKICAgICAgICBpZiBs
b2NrZWQ6CiAgICAgICAgICAgIGF3YWl0IGludGVyYWN0aW9uLnJlc3BvbnNlLnNlbmRfbWVzc2Fn
ZSgKICAgICAgICAgICAgICAgICJUaGUgY2hlY2tlciBpcyBjdXJyZW50bHkgbG9ja2VkLiIsIAog
ICAgICAgICAgICAgICAgZXBoZW1lcmFsPVRydWUKICAgICAgICAgICAgKQogICAgICAgICAgICBy
ZXR1cm4KICAgICAgICBpZiBpbnRlcmFjdGlvbi5jaGFubmVsIGFuZCBpbnRlcmFjdGlvbi5jaGFu
bmVsLmlkICE9IEFMTE9XRURfQ0hBTk5FTF9JRDoKICAgICAgICAgICAgYXdhaXQgaW50ZXJhY3Rp
b24ucmVzcG9uc2Uuc2VuZF9tZXNzYWdlKAogICAgICAgICAgICAgICAgZiJUaGlzIGNvbW1hbmQg
Y2FuIG9ubHkgYmUgdXNlZCBpbiA8I3tBTExPV0VEX0NIQU5ORUxfSUR9Pi4iLCAKICAgICAgICAg
ICAgICAgIGVwaGVtZXJhbD1UcnVlCiAgICAgICAgICAgICkKICAgICAgICAgICAgcmV0dXJuCiAg
ICAgICAgcmV0dXJuIGF3YWl0IGZ1bmMoaW50ZXJhY3Rpb24sICphcmdzLCAqKmt3YXJncykKICAg
IHJldHVybiB3cmFwcGVyCgpkZWYgc3BvbnNvcl9yZXN0cmljdGlvbihmdW5jOiBDYWxsYWJsZVsu
Li4sIEFueV0pIC0+IENhbGxhYmxlWy4uLiwgQW55XToKICAgICIiIkRlY29yYXRvciBmb3Igc3Bv
bnNvciBjb21tYW5kcyB3aXRoIHJlZHVjZWQgcmVzdHJpY3Rpb25zLiIiIgogICAgQGZ1bmN0b29s
cy53cmFwcyhmdW5jKQogICAgYXN5bmMgZGVmIHdyYXBwZXIoaW50ZXJhY3Rpb246IGRpc2NvcmQu
SW50ZXJhY3Rpb24sICphcmdzOiBBbnksICoqa3dhcmdzOiBBbnkpIC0+IEFueToKICAgICAgICAj
IE9ubHkgY2hlY2sgZ2xvYmFsIGxvY2sgZm9yIHNwb25zb3IgY29tbWFuZHMKICAgICAgICBpZiBs
b2NrZWQ6CiAgICAgICAgICAgIGF3YWl0IGludGVyYWN0aW9uLnJlc3BvbnNlLnNlbmRfbWVzc2Fn
ZSgKICAgICAgICAgICAgICAgICJUaGUgY2hlY2tlciBpcyBjdXJyZW50bHkgbG9ja2VkLiIsIAog
ICAgICAgICAgICAgICAgZXBoZW1lcmFsPVRydWUKICAgICAgICAgICAgKQogICAgICAgICAgICBy
ZXR1cm4KICAgICAgICByZXR1cm4gYXdhaXQgZnVuYyhpbnRlcmFjdGlvbiwgKmFyZ3MsICoqa3dh
cmdzKQogICAgcmV0dXJuIHdyYXBwZXIKCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KIyAgICAgICAg
ICAgICAgICAgICAgIEVNQkVEIEhFTFBFUiBGVU5DVElPTlMKIyA9PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PQpkZWYgY3JlYXRlX2VtYmVkKHRpdGxlOiBzdHIsIGRlc2NyaXB0aW9uOiBzdHIgPSAiIiwgY29s
b3I9ZGlzY29yZC5Db2xvci5mcm9tX3JnYig4LCAxNjgsIDI1NSkpIC0+IGRpc2NvcmQuRW1iZWQ6
CiAgICAiIiJDcmVhdGUgY29uc2lzdGVudCBEaXNjb3JkIGVtYmVkcyB3aXRoIGJyYW5kaW5nLiIi
IgogICAgZW1iZWQgPSBkaXNjb3JkLkVtYmVkKHRpdGxlPXRpdGxlLCBkZXNjcmlwdGlvbj1kZXNj
cmlwdGlvbiwgY29sb3I9Y29sb3IpCiAgICBlbWJlZC5zZXRfdGh1bWJuYWlsKHVybD1CQU5ORVJf
VVJMKQogICAgcmV0dXJuIGVtYmVkCgojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiMgICAgICAgICAg
ICAgICAgICAgICBTVEFUSVNUSUNTIEVNQkVEIEdFTkVSQVRPUgojID09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09CmRlZiBidWlsZF9zdGF0c19lbWJlZCh1c2VyX2lkOiBpbnQpIC0+IGRpc2NvcmQuRW1iZWQ6
CiAgICAiIiJCdWlsZCByZWFsLXRpbWUgc3RhdGlzdGljcyBlbWJlZCBmb3IgdXNlciBzZXNzaW9u
LiIiIgogICAgc2Vzc2lvbiA9IGdldF91c2VyX3Nlc3Npb24odXNlcl9pZCkKICAgIHRvdGFsX2xp
bmVzID0gc2Vzc2lvbi5nZXQoInRvdGFsX2xpbmVzIiwgMCkKICAgIHRvdGFsX2NoZWNrZWQgPSBz
ZXNzaW9uLmdldCgidG90YWxfY2hlY2tlZCIsIDApCiAgICBnb29kX2NvdW50ID0gc2Vzc2lvbi5n
ZXQoImdvb2RfY291bnQiLCAwKQogICAgYmFkX2NvdW50ID0gc2Vzc2lvbi5nZXQoImJhZF9jb3Vu
dCIsIDApCiAgICBjcG0gPSBjYWxjdWxhdGVfY3BtKHVzZXJfaWQpCiAgICBpc19zcG9uc29yID0g
c2Vzc2lvbi5nZXQoImlzX3Nwb25zb3JfbW9kZSIsIEZhbHNlKQoKICAgIGhpdF9yYXRlID0gKGdv
b2RfY291bnQgLyB0b3RhbF9jaGVja2VkICogMTAwKSBpZiB0b3RhbF9jaGVja2VkID4gMCBlbHNl
IDAKCiAgICBlbWJlZCA9IGNyZWF0ZV9lbWJlZCgKICAgICAgICB0aXRsZT0iR0hQIENoZWNrZXIg
U3RhdHMiLAogICAgICAgIGRlc2NyaXB0aW9uPWYiKipBY2NvdW50czoqKiB7dG90YWxfbGluZXN9
IHwgKipDaGVja2VkOioqIHt0b3RhbF9jaGVja2VkfVxuIgogICAgICAgICAgICAgICAgICAgIGYi
KipWYWxpZDoqKiB7Z29vZF9jb3VudH0gfCAqKkludmFsaWQ6Kioge2JhZF9jb3VudH1cbiIKICAg
ICAgICAgICAgICAgICAgICBmIioqSGl0IFJhdGU6Kioge2hpdF9yYXRlOi4yZn0lIgogICAgKQoK
ICAgICMgQWRkIENQTSBvbmx5IGZvciBwcmVtaXVtIHVzZXJzCiAgICBpZiBub3QgaXNfc3BvbnNv
cjoKICAgICAgICBlbWJlZC5kZXNjcmlwdGlvbiArPSBmIiB8ICoqQ1BNOioqIHtjcG19IgoKICAg
IGJyZWFrZG93biA9ICIiCiAgICBmb3Igc2VydmljZSwgZW1haWxzIGluIHNlc3Npb25bInNlcnZp
Y2VfaGl0cyJdLml0ZW1zKCk6CiAgICAgICAgYnJlYWtkb3duICs9IGYiPiB7c2VydmljZS5jYXBp
dGFsaXplKCl9OiAqKntsZW4oZW1haWxzKX0qKlxuIgogICAgCiAgICBlbWJlZC5hZGRfZmllbGQo
CiAgICAgICAgbmFtZT0iSW5ib3ggSGl0cyIsIAogICAgICAgIHZhbHVlPWJyZWFrZG93biBpZiBi
cmVha2Rvd24uc3RyaXAoKSBlbHNlICJObyBpbmJveCBoaXRzIGZvdW5kIHlldC4iLAogICAgICAg
IGlubGluZT1GYWxzZQogICAgKQogICAgCiAgICAjIEFkZCBzcG9uc29yIG1lc3NhZ2UgZm9yIG5v
bi1wcmVtaXVtIHVzZXJzCiAgICBpZiBpc19zcG9uc29yIGFuZCBub3QgaXNfcHJlbWl1bV91c2Vy
KHVzZXJfaWQpOgogICAgICAgIGVtYmVkLmFkZF9maWVsZCgKICAgICAgICAgICAgbmFtZT0i8J+U
kyBVbmxvY2sgUHJlbWl1bSBGZWF0dXJlcyIsCiAgICAgICAgICAgIHZhbHVlPSgKICAgICAgICAg
ICAgICAgICJVcGdyYWRlIHRvIGFjY2VzczpcbiIKICAgICAgICAgICAgICAgICLigKIgMjAwKyBz
ZXJ2aWNlIGRldGVjdGlvbnNcbiIKICAgICAgICAgICAgICAgICLigKIgUHJpb3JpdHkgcHJvY2Vz
c2luZ1xuIgogICAgICAgICAgICAgICAgIuKAoiBSZWFsLXRpbWUgQ1BNIHN0YXRzXG4iCiAgICAg
ICAgICAgICAgICAi4oCiIGxlc3NlciBjb29sZG93bnNcbiIKICAgICAgICAgICAgICAgIGYiW0pv
aW4gb3VyIHNlcnZlcl0oaHR0cHM6Ly9kaXNjb3JkLmdnL1RlZGtiemRUejcpIgogICAgICAgICAg
ICApLAogICAgICAgICAgICBpbmxpbmU9RmFsc2UKICAgICAgICApCiAgICAKICAgIHJldHVybiBl
bWJlZAoKZGVmIGNhbGN1bGF0ZV9jcG0odXNlcl9pZDogaW50KSAtPiBpbnQ6CiAgICAiIiJDYWxj
dWxhdGUgY2hlY2tzIHBlciBtaW51dGUgZm9yIHVzZXIgc2Vzc2lvbi4iIiIKICAgIHNlc3Npb24g
PSBnZXRfdXNlcl9zZXNzaW9uKHVzZXJfaWQpCiAgICBub3cgPSB0aW1lLnRpbWUoKQogICAgdGlt
ZXN0YW1wcyA9IHNlc3Npb24uZ2V0KCJjaGVja190aW1lc3RhbXBzIiwgZGVxdWUoKSkKICAgIHJl
dHVybiBzdW0oMSBmb3IgdCBpbiB0aW1lc3RhbXBzIGlmIG5vdyAtIHQgPD0gNjApCgojID09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09CiMgICAgICAgICAgICAgICAgICAgICBSRVNVTFQgREVMSVZFUlkgU1lT
VEVNCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT0KYXN5bmMgZGVmIGRtX3Jlc3VsdHModXNlcjogZGlz
Y29yZC5Vc2VyKSAtPiBOb25lOgogICAgIiIiU2VuZCBhbGwgcmVzdWx0IGZpbGVzIHRvIHVzZXIg
dmlhIERpcmVjdCBNZXNzYWdlIHdpdGggc3BvbnNvciBtZXNzYWdlIiIiCiAgICBkbV9jaGFubmVs
ID0gYXdhaXQgdXNlci5jcmVhdGVfZG0oKQogICAgZmlsZXMgPSBnZXRfcmVzdWx0c19maWxlcyh1
c2VyLmlkKQogICAgaWYgbm90IGZpbGVzOgogICAgICAgIGF3YWl0IGRtX2NoYW5uZWwuc2VuZCgi
Tm8gcmVzdWx0cyBhdmFpbGFibGUuIikKICAgICAgICByZXR1cm4KICAgIAogICAgIyBTZW5kIGZp
bGVzIGluIGJhdGNoZXMKICAgIGJhdGNoX3NpemUgPSAxMAogICAgZm9yIGkgaW4gcmFuZ2UoMCwg
bGVuKGZpbGVzKSwgYmF0Y2hfc2l6ZSk6CiAgICAgICAgYmF0Y2ggPSBmaWxlc1tpOmkrYmF0Y2hf
c2l6ZV0KICAgICAgICBhd2FpdCBkbV9jaGFubmVsLnNlbmQoZmlsZXM9W2Rpc2NvcmQuRmlsZShm
cCkgZm9yIGZwIGluIGJhdGNoXSkKICAgIAogICAgIyBDaGVjayBpZiB1c2VyIGlzIGluIG9yaWdp
bmFsIHNlcnZlcgogICAgZ3VpbGQgPSBib3QuZ2V0X2d1aWxkKE9SSUdJTkFMX1NFUlZFUl9JRCkK
ICAgIG1lbWJlciA9IGd1aWxkLmdldF9tZW1iZXIodXNlci5pZCkgaWYgZ3VpbGQgZWxzZSBOb25l
CiAgICAKICAgICMgU2VuZCBzcG9uc29yIG1lc3NhZ2UgaWYgbm90IGluIG9yaWdpbmFsIHNlcnZl
ciBhbmQgbm90IHByZW1pdW0KICAgIGlmIG5vdCBtZW1iZXIgYW5kIG5vdCBpc19wcmVtaXVtX3Vz
ZXIodXNlci5pZCk6CiAgICAgICAgc3BvbnNvcl92aWV3ID0gZGlzY29yZC51aS5WaWV3KCkKICAg
ICAgICBzcG9uc29yX3ZpZXcuYWRkX2l0ZW0oZGlzY29yZC51aS5CdXR0b24oCiAgICAgICAgICAg
IGxhYmVsPSJKb2luIE9mZmljaWFsIFNlcnZlciIsIAogICAgICAgICAgICB1cmw9Imh0dHBzOi8v
ZGlzY29yZC5nZy9UZWRrYnpkVHo3IiwKICAgICAgICAgICAgc3R5bGU9ZGlzY29yZC5CdXR0b25T
dHlsZS5saW5rLAogICAgICAgICAgICBlbW9qaT0i8J+UlyIKICAgICAgICApKQogICAgICAgIAog
ICAgICAgIHNwb25zb3JfZW1iZWQgPSBjcmVhdGVfZW1iZWQoCiAgICAgICAgICAgIHRpdGxlPSLi
mqEgUG93ZXJlZCBieSB0aGUgR0hQIE1haWwgUGFydG5lcnNoaXAgUHJvZ3JhbSIsCiAgICAgICAg
ICAgIGRlc2NyaXB0aW9uPSgKICAgICAgICAgICAgICAgICJUaGFuayB5b3UgZm9yIHVzaW5nIG91
ciBzZXJ2aWNlIVxuXG4iCiAgICAgICAgICAgICAgICAi4pyoICoqUHJlbWl1bSBGZWF0dXJlczoq
KlxuIgogICAgICAgICAgICAgICAgIuKAoiAyMDArIHNlcnZpY2UgZGV0ZWN0aW9uc1xuIgogICAg
ICAgICAgICAgICAgIuKAoiBQcmlvcml0eSBwcm9jZXNzaW5nXG4iCiAgICAgICAgICAgICAgICAi
4oCiIFJlYWwtdGltZSBDUE0gc3RhdHNcbiIKICAgICAgICAgICAgICAgICLigKIgTm8gY29vbGRv
d25zXG4iCiAgICAgICAgICAgICAgICAi4oCiIEFkdmFuY2VkIGluYm94IHNjYW5uaW5nXG4iCiAg
ICAgICAgICAgICAgICAi4oCiIE11bHRpLXNlcnZpY2UgYWNjb3VudCBkZXRlY3Rpb25cblxuIgog
ICAgICAgICAgICAgICAgIkpvaW4gb3VyIG9mZmljaWFsIHNlcnZlciBmb3IgZnVsbCBhY2Nlc3Mh
IgogICAgICAgICAgICApCiAgICAgICAgKQogICAgICAgIHNwb25zb3JfZW1iZWQuc2V0X2Zvb3Rl
cih0ZXh0PSJTdXBwb3J0IHRoZSBkZXZlbG9wZXJzIHRvIGtlZXAgdGhpcyBzZXJ2aWNlIHJ1bm5p
bmciKQogICAgICAgIGF3YWl0IGRtX2NoYW5uZWwuc2VuZChlbWJlZD1zcG9uc29yX2VtYmVkLCB2
aWV3PXNwb25zb3JfdmlldykKICAgIGVsc2U6CiAgICAgICAgYXdhaXQgZG1fY2hhbm5lbC5zZW5k
KCLinIUgQ2hlY2sgY29tcGxldGUhIFRoYW5rIHlvdSBmb3IgYmVpbmcgYSBwcmVtaXVtIHVzZXIh
IikKCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT0KIyAgICAgICAgICAgICAgICAgICAgIE1JQ1JPU09G
VCBBQ0NPVU5UIENIRUNLRVIKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQpkZWYgYWxsX2NoZWNrZXJf
bG9naWModXNlcl9pZDogaW50LCBFbWFpbDogc3RyLCBQYXNzd29yZDogc3RyLCBzZXJ2aWNlX21h
cHBpbmc6IGRpY3QpOgogICAgIiIiTWFpbiBsb2dpYyBmb3IgTWljcm9zb2Z0IGFjY291bnQgdmFs
aWRhdGlvbiBhbmQgaW5ib3ggc2Nhbm5pbmcuIiIiCiAgICBzZXNzaW9uID0gZ2V0X3VzZXJfc2Vz
c2lvbih1c2VyX2lkKQogICAgaWYgc2Vzc2lvblsic2hvdWxkX3N0b3AiXToKICAgICAgICByZXR1
cm4KICAgIHRyeToKICAgICAgICByID0gcmVxdWVzdHMuZ2V0KAogICAgICAgICAgICAiaHR0cHM6
Ly9sb2dpbi5taWNyb3NvZnRvbmxpbmUuY29tL2NvbnN1bWVycy9vYXV0aDIvdjIuMC9hdXRob3Jp
emUiCiAgICAgICAgICAgICI/Y2xpZW50X2luZm89MSZoYXNjaHJvbWU9MSIKICAgICAgICAgICAg
ZiImbG9naW5faGludD17RW1haWx9IgogICAgICAgICAgICAiJm1rdD1lbiIKICAgICAgICAgICAg
IiZyZXNwb25zZV90eXBlPWNvZGUiCiAgICAgICAgICAgICImY2xpZW50X2lkPWU5YjE1NGQwLTc2
NTgtNDMzYi1iYjI1LTZiOGUwYThhN2M1OSIKICAgICAgICAgICAgIiZzY29wZT1wcm9maWxlJTIw
b3BlbmlkJTIwb2ZmbGluZV9hY2Nlc3MlMjBodHRwcyUzQSUyRiUyRm91dGxvb2sub2ZmaWNlLmNv
bSUyRk0zNjUuQWNjZXNzIgogICAgICAgICAgICAiJnJlZGlyZWN0X3VyaT1tc2F1dGglM0ElMkYl
MkZjb20ubWljcm9zb2Z0Lm91dGxvb2tsaXRlJTJGZmNnODBxdm9NMVlNS0paaWJqQndRY0RmT25v
JTI1M0QiLAogICAgICAgICAgICBoZWFkZXJzPXsiVXNlci1BZ2VudCI6ICJNb3ppbGxhLzUuMCJ9
LAogICAgICAgICAgICB0aW1lb3V0PTUKICAgICAgICApCiAgICAgICAgaWYgci5zdGF0dXNfY29k
ZSAhPSAyMDA6CiAgICAgICAgICAgIHByaW50KGYiQ291bGQgbm90IGdldCBPQXV0aCBwYXJhbXMg
Zm9yIHtFbWFpbH0iKQogICAgICAgICAgICByZXR1cm4KICAgICAgICBjb2sgPSByLmNvb2tpZXMu
Z2V0X2RpY3QoKQogICAgICAgIHRleHQgPSByLnRleHQKICAgICAgICBpZiAidXJsUG9zdDonIiBu
b3QgaW4gdGV4dDoKICAgICAgICAgICAgcHJpbnQoZiJGYWlsZWQgcGFyc2luZyBmb3Ige0VtYWls
fSIpCiAgICAgICAgICAgIHJldHVybgogICAgICAgIHVybF9wb3N0ID0gdGV4dC5zcGxpdCgidXJs
UG9zdDonIilbMV0uc3BsaXQoIiciKVswXQogICAgICAgIFBQRlQgPSB0ZXh0LnNwbGl0KCduYW1l
PSJQUEZUIiBpZD0iaTAzMjciIHZhbHVlPSInKVsxXS5zcGxpdCgiJywiKVswXQogICAgICAgIEFE
ID0gci51cmwuc3BsaXQoImhhc2Nocm9tZT0xIilbMF0KICAgICAgICBNU1BSZXF1ID0gY29rLmdl
dCgiTVNQUmVxdSIsICIiKQogICAgICAgIHVhaWQgPSBjb2suZ2V0KCJ1YWlkIiwgIiIpCiAgICAg
ICAgUmVmcmVzaFRva2VuU3NvID0gY29rLmdldCgiUmVmcmVzaFRva2VuU3NvIiwgIiIpCiAgICAg
ICAgTVNQT0sgPSBjb2suZ2V0KCJNU1BPSyIsICIiKQogICAgICAgIE9QYXJhbXMgPSBjb2suZ2V0
KCJPUGFyYW1zIiwgIiIpCiAgICAgICAgZG9fbG9naW5fcHJvdG9jb2xfYWxsKHVzZXJfaWQsIEVt
YWlsLCBQYXNzd29yZCwgdXJsX3Bvc3QsIFBQRlQsIEFELCBNU1BSZXF1LCB1YWlkLCBSZWZyZXNo
VG9rZW5Tc28sIE1TUE9LLCBPUGFyYW1zLCBzZXJ2aWNlX21hcHBpbmcpCiAgICAgICAgc2Vzc2lv
blsiY2hlY2tfdGltZXN0YW1wcyJdLmFwcGVuZCh0aW1lLnRpbWUoKSkKICAgIGV4Y2VwdCBFeGNl
cHRpb24gYXMgZToKICAgICAgICBwcmludChmIkVycm9yIGluIGFsbF9jaGVja2VyX2xvZ2ljIGZv
ciB7RW1haWx9OiB7ZX0iKQoKZGVmIGRvX2xvZ2luX3Byb3RvY29sX2FsbCh1c2VyX2lkOiBpbnQs
IEVtYWlsOiBzdHIsIFBhc3N3b3JkOiBzdHIsIFVSTDogc3RyLCBQUEZUOiBzdHIsCiAgICAgICAg
ICAgICAgICAgICAgICAgICAgQUQ6IHN0ciwgTVNQUmVxdTogc3RyLCB1YWlkOiBzdHIsIFJlZnJl
c2hUb2tlblNzbzogc3RyLCBNU1BPSzogc3RyLCBPUGFyYW1zOiBzdHIsIHNlcnZpY2VfbWFwcGlu
ZzogZGljdCk6CiAgICBzZXNzaW9uID0gZ2V0X3VzZXJfc2Vzc2lvbih1c2VyX2lkKQogICAgdHJ5
OgogICAgICAgIGRhdGFfc3RyID0gKAogICAgICAgICAgICBmImkxMz0xJmxvZ2luPXtFbWFpbH0m
bG9naW5mbXQ9e0VtYWlsfSZ0eXBlPTExJkxvZ2luT3B0aW9ucz0xIgogICAgICAgICAgICAiJmxy
dD0mbHJ0UGFydGl0aW9uPSZoaXNSZWdpb249Jmhpc1NjYWxlVW5pdD0iCiAgICAgICAgICAgIGYi
JnBhc3N3ZD17UGFzc3dvcmR9IgogICAgICAgICAgICAiJnBzPTImcHNSTkdDRGVmYXVsdFR5cGU9
JnBzUk5HQ0VudHJvcHk9JnBzUk5HQ1NMSz0mY2FuYXJ5PSZjdHg9JmhwZ3JlcXVlc3RpZD0iCiAg
ICAgICAgICAgIGYiJlBQRlQ9e1BQRlR9IgogICAgICAgICAgICAiJlBQU1g9UGFzc3BvcnRSJk5l
d1VzZXI9MSZGb3VuZE1TQXM9JmZzcG9zdD0wJmkyMT0wJkNvb2tpZURpc2Nsb3N1cmU9MCZJc0Zp
ZG9TdXBwb3J0ZWQ9MCIKICAgICAgICAgICAgIiZpc1NpZ251cFBvc3Q9MCZpc1JlY292ZXJ5QXR0
ZW1wdFBvc3Q9MCZpMTk9OTk2MCIKICAgICAgICApCiAgICAgICAgaGVhZGVycyA9IHsKICAgICAg
ICAgICAgIkhvc3QiOiAibG9naW4ubGl2ZS5jb20iLAogICAgICAgICAgICAiQ29ubmVjdGlvbiI6
ICJrZWVwLWFsaXZlIiwKICAgICAgICAgICAgIkNvbnRlbnQtTGVuZ3RoIjogc3RyKGxlbihkYXRh
X3N0cikpLAogICAgICAgICAgICAiQ2FjaGUtQ29udHJvbCI6ICJtYXgtYWdlPTAiLAogICAgICAg
ICAgICAiVXBncmFkZS1JbnNlY3VyZS1SZXF1ZXN0cyI6ICIxIiwKICAgICAgICAgICAgIk9yaWdp
biI6ICJodHRwczovL2xvZ2luLmxpdmUuY29tIiwKICAgICAgICAgICAgIkNvbnRlbnQtVHlwZSI6
ICJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiLAogICAgICAgICAgICAiVXNlci1B
Z2VudCI6ICJNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgOSkgQXBwbGVXZWJLaXQvNTM3LjM2
IiwKICAgICAgICAgICAgIkFjY2VwdCI6ICJ0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1s
LGFwcGxpY2F0aW9uL3htbDtxPTAuOSwqLyo7cT0wLjgiLAogICAgICAgICAgICAiWC1SZXF1ZXN0
ZWQtV2l0aCI6ICJjb20ubWljcm9zb2Z0Lm91dGxvb2tsaXRlIiwKICAgICAgICAgICAgIlNlYy1G
ZXRjaC1TaXRlIjogInNhbWUtb3JpZ2luIiwKICAgICAgICAgICAgIlNlYy1GZXRjaC1Nb2RlIjog
Im5hdmlnYXRlIiwKICAgICAgICAgICAgIlNlYy1GZXRjaC1Vc2VyIjogIj8xIiwKICAgICAgICAg
ICAgIlNlYy1GZXRjaC1EZXN0IjogImRvY3VtZW50IiwKICAgICAgICAgICAgIlJlZmVyZXIiOiBm
IntBRH1oYXNjaHJvbWU9MSIsCiAgICAgICAgICAgICJBY2NlcHQtRW5jb2RpbmciOiAiZ3ppcCwg
ZGVmbGF0ZSIsCiAgICAgICAgICAgICJBY2NlcHQtTGFuZ3VhZ2UiOiAiZW4tVVMsZW47cT0wLjki
LAogICAgICAgICAgICAiQ29va2llIjogKAogICAgICAgICAgICAgICAgZiJNU1BSZXF1PXtNU1BS
ZXF1fTt1YWlkPXt1YWlkfTsgUmVmcmVzaFRva2VuU3NvPXtSZWZyZXNoVG9rZW5Tc299OyAiCiAg
ICAgICAgICAgICAgICBmIk1TUE9LPXtNU1BPS307IE9QYXJhbXM9e09QYXJhbXN9OyBNaWNyb3Nv
ZnRBcHBsaWNhdGlvbnNUZWxlbWV0cnlEZXZpY2VJZD17dXVpZC51dWlkNCgpfSIKICAgICAgICAg
ICAgKQogICAgICAgIH0KICAgICAgICByZXMgPSByZXF1ZXN0cy5wb3N0KFVSTCwgZGF0YT1kYXRh
X3N0ciwgaGVhZGVycz1oZWFkZXJzLCBhbGxvd19yZWRpcmVjdHM9RmFsc2UsIHRpbWVvdXQ9NSkK
ICAgICAgICBjb29rID0gcmVzLmNvb2tpZXMuZ2V0X2RpY3QoKQogICAgICAgIGhoID0gcmVzLmhl
YWRlcnMKICAgICAgICBpZiBhbnkoayBpbiBjb29rIGZvciBrIGluIFsiSlNIIiwgIkpTSFAiLCAi
QU5PTiIsICJXTFNTQyJdKSBvciByZXMudGV4dCA9PSAiIjoKICAgICAgICAgICAgd2l0aCB1c2Vy
X3Nlc3Npb25zX2xvY2s6CiAgICAgICAgICAgICAgICBzZXNzaW9uWyJnb29kX2NvdW50Il0gKz0g
MQogICAgICAgICAgICAgICAgc2Vzc2lvblsidG90YWxfY2hlY2tlZCJdICs9IDEKICAgICAgICAg
ICAgZG9fZ2V0X3Rva2VuX2FsbCh1c2VyX2lkLCBFbWFpbCwgUGFzc3dvcmQsIGNvb2ssIGhoLCBz
ZXJ2aWNlX21hcHBpbmcpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgd2l0aCB1c2VyX3Nlc3Np
b25zX2xvY2s6CiAgICAgICAgICAgICAgICBzZXNzaW9uWyJiYWRfY291bnQiXSArPSAxCiAgICAg
ICAgICAgICAgICBzZXNzaW9uWyJ0b3RhbF9jaGVja2VkIl0gKz0gMQogICAgICAgICAgICBwcmlu
dChmIkJhZCBBY2NvdW50IDoge0VtYWlsfSB8IHtQYXNzd29yZH0iKQogICAgZXhjZXB0IEV4Y2Vw
dGlvbiBhcyBlOgogICAgICAgIHByaW50KGYiZG9fbG9naW5fcHJvdG9jb2xfYWxsIGVycm9yIGZv
ciB7RW1haWx9OiB7ZX0iKQoKZGVmIGRvX2dldF90b2tlbl9hbGwodXNlcl9pZDogaW50LCBFbWFp
bDogc3RyLCBQYXNzd29yZDogc3RyLCBjb29rOiBkaWN0LCBoaDogZGljdCwgc2VydmljZV9tYXBw
aW5nOiBkaWN0KToKICAgIHNlc3Npb24gPSBnZXRfdXNlcl9zZXNzaW9uKHVzZXJfaWQpCiAgICB0
cnk6CiAgICAgICAgaWYgIkxvY2F0aW9uIiBub3QgaW4gaGg6CiAgICAgICAgICAgIHByaW50KGYi
Tm8gbG9jYXRpb24gaGVhZGVyIGZvciB7RW1haWx9IikKICAgICAgICAgICAgcmV0dXJuCiAgICAg
ICAgbG9jID0gaGhbIkxvY2F0aW9uIl0KICAgICAgICBpZiAiY29kZT0iIG5vdCBpbiBsb2M6CiAg
ICAgICAgICAgIHByaW50KGYiTm8gY29kZT0gcGFyYW0gZm9yIHtFbWFpbH0iKQogICAgICAgICAg
ICByZXR1cm4KICAgICAgICBjb2RlID0gbG9jLnNwbGl0KCJjb2RlPSIpWzFdLnNwbGl0KCImIilb
MF0KICAgICAgICBDSUQgPSBjb29rLmdldCgiTVNQQ0lEIiwgIiIpLnVwcGVyKCkKICAgICAgICB1
cmwgPSAiaHR0cHM6Ly9sb2dpbi5taWNyb3NvZnRvbmxpbmUuY29tL2NvbnN1bWVycy9vYXV0aDIv
djIuMC90b2tlbiIKICAgICAgICBkYXRhID0gewogICAgICAgICAgICAiY2xpZW50X2luZm8iOiAi
MSIsCiAgICAgICAgICAgICJjbGllbnRfaWQiOiAiZTliMTU0ZDAtNzY1OC00MzNiLWJiMjUtNmI4
ZTBhOGE3YzU5IiwKICAgICAgICAgICAgInJlZGlyZWN0X3VyaSI6ICJtc2F1dGg6Ly9jb20ubWlj
cm9zb2Z0Lm91dGxvb2tsaXRlL2ZjZzgwcXZvTTFZTUtKWmliakJ3UWNEZk9ubyUzRCIsCiAgICAg
ICAgICAgICJncmFudF90eXBlIjogImF1dGhvcml6YXRpb25fY29kZSIsCiAgICAgICAgICAgICJj
b2RlIjogY29kZSwKICAgICAgICAgICAgInNjb3BlIjogInByb2ZpbGUgb3BlbmlkIG9mZmxpbmVf
YWNjZXNzIGh0dHBzOi8vb3V0bG9vay5vZmZpY2UuY29tL00zNjUuQWNjZXNzIgogICAgICAgIH0K
ICAgICAgICByZXNwID0gcmVxdWVzdHMucG9zdCh1cmwsIGRhdGE9ZGF0YSwgaGVhZGVycz17IkNv
bnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQifSwgdGltZW91
dD01KQogICAgICAgIHRva2VuID0gcmVzcC5qc29uKCkuZ2V0KCJhY2Nlc3NfdG9rZW4iKQogICAg
ICAgIGlmIHRva2VuOgogICAgICAgICAgICBkb19nZXRfaW5mb19hbGwodXNlcl9pZCwgRW1haWws
IFBhc3N3b3JkLCB0b2tlbiwgQ0lELCBzZXJ2aWNlX21hcHBpbmcpCiAgICAgICAgZWxzZToKICAg
ICAgICAgICAgcHJpbnQoZiJObyB0b2tlbiBpbiByZXNwb25zZSBmb3Ige0VtYWlsfSIpCiAgICBl
eGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgcHJpbnQoZiJkb19nZXRfdG9rZW5fYWxsIGVy
cm9yIGZvciB7RW1haWx9OiB7ZX0iKQoKZGVmIGRvX2dldF9pbmZvX2FsbCh1c2VyX2lkOiBpbnQs
IEVtYWlsOiBzdHIsIFBhc3N3b3JkOiBzdHIsIHRva2VuOiBzdHIsIENJRDogc3RyLCBzZXJ2aWNl
X21hcHBpbmc6IGRpY3QpOgogICAgc2Vzc2lvbiA9IGdldF91c2VyX3Nlc3Npb24odXNlcl9pZCkK
ICAgIHRyeToKICAgICAgICBoZWFkZXJzID0gewogICAgICAgICAgICAiVXNlci1BZ2VudCI6ICJP
dXRsb29rLUFuZHJvaWQvMi4wIiwKICAgICAgICAgICAgIlByYWdtYSI6ICJuby1jYWNoZSIsCiAg
ICAgICAgICAgICJBY2NlcHQiOiAiYXBwbGljYXRpb24vanNvbiIsCiAgICAgICAgICAgICJGb3Jj
ZVN5bmMiOiAiZmFsc2UiLAogICAgICAgICAgICAiQXV0aG9yaXphdGlvbiI6IGYiQmVhcmVyIHt0
b2tlbn0iLAogICAgICAgICAgICAiWC1BbmNob3JNYWlsYm94IjogZiJDSUQ6e0NJRH0iLAogICAg
ICAgICAgICAiSG9zdCI6ICJzdWJzdHJhdGUub2ZmaWNlLmNvbSIsCiAgICAgICAgICAgICJDb25u
ZWN0aW9uIjogIktlZXAtQWxpdmUiLAogICAgICAgICAgICAiQWNjZXB0LUVuY29kaW5nIjogImd6
aXAiCiAgICAgICAgfQogICAgICAgIHIgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vc3Vic3RyYXRl
Lm9mZmljZS5jb20vcHJvZmlsZWIyL3YyLjAvbWUvVjFQcm9maWxlIiwgaGVhZGVycz1oZWFkZXJz
LCB0aW1lb3V0PTUpLmpzb24oKQogICAgICAgIGluZm9fbmFtZSA9IHIuZ2V0KCJuYW1lcyIsIFtd
KQogICAgICAgIGRpc3BsYXlfbmFtZSA9IGluZm9fbmFtZVswXVsiZGlzcGxheU5hbWUiXSBpZiBp
bmZvX25hbWUgZWxzZSAiVW5rbm93biIKCiAgICAgICAgdXJsID0gZiJodHRwczovL291dGxvb2su
bGl2ZS5jb20vb3dhL3tFbWFpbH0vc3RhcnR1cGRhdGEuYXNoeD9hcHA9TWluaSZuPTAiCiAgICAg
ICAgaGVhZGVyczIgPSB7CiAgICAgICAgICAgICJIb3N0IjogIm91dGxvb2subGl2ZS5jb20iLAog
ICAgICAgICAgICAiY29udGVudC1sZW5ndGgiOiAiMCIsCiAgICAgICAgICAgICJ4LW93YS1zZXNz
aW9uaWQiOiBmIntDSUR9IiwKICAgICAgICAgICAgIngtcmVxLXNvdXJjZSI6ICJNaW5pIiwKICAg
ICAgICAgICAgImF1dGhvcml6YXRpb24iOiBmIkJlYXJlciB7dG9rZW59IiwKICAgICAgICAgICAg
InVzZXItYWdlbnQiOiAiTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDkpIEFwcGxlV2ViS2l0
LzUzNy4zNiIsCiAgICAgICAgICAgICJhY3Rpb24iOiAiU3RhcnR1cERhdGEiLAogICAgICAgICAg
ICAieC1vd2EtY29ycmVsYXRpb25pZCI6IGYie0NJRH0iLAogICAgICAgICAgICAibXMtY3YiOiAi
WWl6eFFLNzN2ZVBTeVZaWlhWZU5yKy4zIiwKICAgICAgICAgICAgImNvbnRlbnQtdHlwZSI6ICJh
cHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04IiwKICAgICAgICAgICAgImFjY2VwdCI6ICIq
LyoiLAogICAgICAgICAgICAib3JpZ2luIjogImh0dHBzOi8vb3V0bG9vay5saXZlLmNvbSIsCiAg
ICAgICAgICAgICJ4LXJlcXVlc3RlZC13aXRoIjogImNvbS5taWNyb3NvZnQub3V0bG9va2xpdGUi
LAogICAgICAgICAgICAic2VjLWZldGNoLXNpdGUiOiAic2FtZS1vcmlnaW4iLAogICAgICAgICAg
ICAic2VjLWZldGNoLW1vZGUiOiAiY29ycyIsCiAgICAgICAgICAgICJzZWMtZmV0Y2gtZGVzdCI6
ICJlbXB0eSIsCiAgICAgICAgICAgICJyZWZlcmVyIjogImh0dHBzOi8vb3V0bG9vay5saXZlLmNv
bS8iLAogICAgICAgICAgICAiYWNjZXB0LWVuY29kaW5nIjogImd6aXAsIGRlZmxhdGUiLAogICAg
ICAgICAgICAiYWNjZXB0LWxhbmd1YWdlIjogImVuLVVTLGVuO3E9MC45IgogICAgICAgIH0KICAg
ICAgICByZXNlID0gcmVxdWVzdHMucG9zdCh1cmwsIGhlYWRlcnM9aGVhZGVyczIsIGRhdGE9IiIs
IHRpbWVvdXQ9NSkudGV4dAogICAgICAgIHNhdmVfdmFsaWRfYWNjb3VudCh1c2VyX2lkLCBFbWFp
bCwgUGFzc3dvcmQpCgogICAgICAgIHNlcnZpY2VzX2xpc3QgPSBbXQogICAgICAgIGZvciBzZXJ2
aWNlLCBtYXJrZXIgaW4gc2VydmljZV9tYXBwaW5nLml0ZW1zKCk6CiAgICAgICAgICAgIGlmIG1h
cmtlciBpbiByZXNlOgogICAgICAgICAgICAgICAgc2VydmljZXNfbGlzdC5hcHBlbmQoc2Vydmlj
ZSkKCiAgICAgICAgaWYgc2VydmljZXNfbGlzdDoKICAgICAgICAgICAgZm9yIHNlcnZpY2VfbmFt
ZSBpbiBzZXJ2aWNlc19saXN0OgogICAgICAgICAgICAgICAgbGluZSA9IGYie0VtYWlsfTp7UGFz
c3dvcmR9IgogICAgICAgICAgICAgICAgaWYgbGluZSBub3QgaW4gc2Vzc2lvblsicmVzdWx0c19j
YWNoZSJdLmdldChzZXJ2aWNlX25hbWUubG93ZXIoKSwgc2V0KCkpOgogICAgICAgICAgICAgICAg
ICAgIHNlc3Npb25bInJlc3VsdHNfY2FjaGUiXS5zZXRkZWZhdWx0KHNlcnZpY2VfbmFtZS5sb3dl
cigpLCBzZXQoKSkuYWRkKGxpbmUpCiAgICAgICAgICAgICAgICAgICAgc2F2ZV9yZXN1bHRfZm9y
X3VzZXIodXNlcl9pZCwgc2VydmljZV9uYW1lLCBFbWFpbCwgUGFzc3dvcmQpCiAgICAgICAgICAg
ICAgICAgICAgc2Vzc2lvblsic2VydmljZV9oaXRzIl0uc2V0ZGVmYXVsdChzZXJ2aWNlX25hbWUu
bG93ZXIoKSwgW10pLmFwcGVuZChkaXNwbGF5X25hbWUpCgogICAgICAgICAgICBwcmludChmIkdv
b2QgbG9naW4gd2l0aCBzZXJ2aWNlczoge0VtYWlsfSA9PiB7c2VydmljZXNfbGlzdH0iKQogICAg
ICAgIGVsc2U6CiAgICAgICAgICAgIHByaW50KGYiVmFsaWQgYWNjb3VudCB3aXRoIG5vIHNlcnZp
Y2UgaGl0OiB7RW1haWx9IikKCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgcHJp
bnQoZiJkb19nZXRfaW5mb19hbGwgZXJyb3IgZm9yIHtFbWFpbH06IHtlfSIpCgpkZWYgcHJvY2Vz
c19taWNyb3NvZnRfYmF0Y2goYmF0Y2g6IExpc3Rbc3RyXSwgdXNlcl9pZDogaW50LCBzZXJ2aWNl
X21hcHBpbmc6IGRpY3QpIC0+IE5vbmU6CiAgICAiIiJQcm9jZXNzIGEgYmF0Y2ggb2YgTWljcm9z
b2Z0IGNyZWRlbnRpYWxzLiIiIgogICAgc2Vzc2lvbiA9IGdldF91c2VyX3Nlc3Npb24odXNlcl9p
ZCkKICAgIGZvciBsaW5lIGluIGJhdGNoOgogICAgICAgIGlmIHNlc3Npb25bInNob3VsZF9zdG9w
Il06CiAgICAgICAgICAgIHJldHVybgogICAgICAgIHRyeToKICAgICAgICAgICAgZW1haWwsIHBh
c3N3b3JkID0gbGluZS5zcGxpdCgiOiIsIDEpCiAgICAgICAgICAgIGRvbWFpbl90eXBlID0gY2xh
c3NpZnlfZG9tYWluKGVtYWlsKQogICAgICAgICAgICBpZiBkb21haW5fdHlwZSBub3QgaW4gKCdt
aWNyb3NvZnQnLCAndW5rbm93bicpOgogICAgICAgICAgICAgICAgY29udGludWUKICAgICAgICAg
ICAgYWxsX2NoZWNrZXJfbG9naWModXNlcl9pZCwgZW1haWwsIHBhc3N3b3JkLCBzZXJ2aWNlX21h
cHBpbmcpCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICBwcmludChm
IkVycm9yIHByb2Nlc3NpbmcgTWljcm9zb2Z0IGxpbmU6IHtlfSIpCgojID09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09CiMgICAgICAgICAgICAgICAgICAgICBHT09HTEUgQUNDT1VOVCBDSEVDS0VSCiMgPT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT0KZGVmIHZhbGlkYXRlX2dtYWlsKGVtYWlsOiBzdHIsIHBhc3N3b3Jk
OiBzdHIpIC0+IGJvb2w6CiAgICAiIiJWYWxpZGF0ZSBHb29nbGUgYWNjb3VudCBjcmVkZW50aWFs
cyB1c2luZyBJTUFQLiIiIgogICAgdHJ5OgogICAgICAgIGNvbnRleHQgPSBzc2wuY3JlYXRlX2Rl
ZmF1bHRfY29udGV4dCgpCiAgICAgICAgc2VydmVyID0gImltYXAuZ21haWwuY29tIgogICAgICAg
IAogICAgICAgICMgSGFuZGxlIGVkdWNhdGlvbmFsIGRvbWFpbnMKICAgICAgICBpZiBjbGFzc2lm
eV9kb21haW4oZW1haWwpID09ICdnb29nbGUnIGFuZCAnZWR1JyBpbiBlbWFpbDoKICAgICAgICAg
ICAgc2VydmVyID0gImltYXAuIiArIGVtYWlsLnNwbGl0KCdAJylbLTFdCiAgICAgICAgICAgIAog
ICAgICAgIHdpdGggaW1hcGxpYi5JTUFQNF9TU0woc2VydmVyLCA5OTMsIHNzbF9jb250ZXh0PWNv
bnRleHQpIGFzIG1haWw6CiAgICAgICAgICAgIG1haWwubG9naW4oZW1haWwsIHBhc3N3b3JkKQog
ICAgICAgICAgICBtYWlsLnNlbGVjdCgiaW5ib3giKQogICAgICAgICAgICByZXR1cm4gVHJ1ZQog
ICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIHByaW50KGYiR29vZ2xlIHZhbGlkYXRp
b24gZmFpbGVkIGZvciB7ZW1haWx9OiB7c3RyKGUpfSIpCiAgICAgICAgcmV0dXJuIEZhbHNlCgpk
ZWYgY2hlY2tfZ21haWxfaW5ib3goZW1haWw6IHN0ciwgcGFzc3dvcmQ6IHN0ciwgc2VydmljZV9t
YXBwaW5nOiBkaWN0KSAtPiBMaXN0W3N0cl06CiAgICAiIiJTY2FuIEdvb2dsZSBpbmJveCBmb3Ig
c2VydmljZS1zcGVjaWZpYyBlbWFpbHMuIiIiCiAgICB0cnk6CiAgICAgICAgY29udGV4dCA9IHNz
bC5jcmVhdGVfZGVmYXVsdF9jb250ZXh0KCkKICAgICAgICBzZXJ2ZXIgPSAiaW1hcC5nbWFpbC5j
b20iCiAgICAgICAgCiAgICAgICAgIyBIYW5kbGUgZWR1Y2F0aW9uYWwgZG9tYWlucwogICAgICAg
IGlmIGNsYXNzaWZ5X2RvbWFpbihlbWFpbCkgPT0gJ2dvb2dsZScgYW5kICdlZHUnIGluIGVtYWls
OgogICAgICAgICAgICBzZXJ2ZXIgPSAiaW1hcC4iICsgZW1haWwuc3BsaXQoJ0AnKVstMV0KICAg
ICAgICAgICAgCiAgICAgICAgd2l0aCBpbWFwbGliLklNQVA0X1NTTChzZXJ2ZXIsIDk5Mywgc3Ns
X2NvbnRleHQ9Y29udGV4dCkgYXMgbWFpbDoKICAgICAgICAgICAgbWFpbC5sb2dpbihlbWFpbCwg
cGFzc3dvcmQpCiAgICAgICAgICAgIG1haWwuc2VsZWN0KCJpbmJveCIpCiAgICAgICAgICAgIAog
ICAgICAgICAgICBmb3VuZF9zZXJ2aWNlcyA9IFtdCiAgICAgICAgICAgIGZvciBzZXJ2aWNlLCBz
ZXJ2aWNlX2VtYWlsIGluIHNlcnZpY2VfbWFwcGluZy5pdGVtcygpOgogICAgICAgICAgICAgICAg
c3RhdHVzLCBtZXNzYWdlcyA9IG1haWwuc2VhcmNoKE5vbmUsIGYnKEZST00gIntzZXJ2aWNlX2Vt
YWlsfSIpJykKICAgICAgICAgICAgICAgIGlmIHN0YXR1cyA9PSAiT0siIGFuZCBtZXNzYWdlc1sw
XToKICAgICAgICAgICAgICAgICAgICBmb3VuZF9zZXJ2aWNlcy5hcHBlbmQoc2VydmljZSkKICAg
ICAgICAgICAgCiAgICAgICAgICAgIHJldHVybiBmb3VuZF9zZXJ2aWNlcwogICAgZXhjZXB0IEV4
Y2VwdGlvbiBhcyBlOgogICAgICAgIHByaW50KGYiR29vZ2xlIGluYm94IHNjYW4gZmFpbGVkIGZv
ciB7ZW1haWx9OiB7c3RyKGUpfSIpCiAgICAgICAgcmV0dXJuIFtdCgpkZWYgcHJvY2Vzc19nbWFp
bF9iYXRjaChiYXRjaDogTGlzdFtzdHJdLCB1c2VyX2lkOiBpbnQsIGNoZWNrX2luYm94OiBib29s
LCBzZXJ2aWNlX21hcHBpbmc6IGRpY3QpIC0+IE5vbmU6CiAgICAiIiJQcm9jZXNzIGEgYmF0Y2gg
b2YgR29vZ2xlIGNyZWRlbnRpYWxzLiIiIgogICAgc2Vzc2lvbiA9IGdldF91c2VyX3Nlc3Npb24o
dXNlcl9pZCkKICAgIGZvciBsaW5lIGluIGJhdGNoOgogICAgICAgIGlmIHNlc3Npb25bInNob3Vs
ZF9zdG9wIl06CiAgICAgICAgICAgIHJldHVybgogICAgICAgIHRyeToKICAgICAgICAgICAgZW1h
aWwsIHBhc3N3b3JkID0gbGluZS5zcGxpdCgiOiIsIDEpCiAgICAgICAgICAgIGRvbWFpbl90eXBl
ID0gY2xhc3NpZnlfZG9tYWluKGVtYWlsKQogICAgICAgICAgICBpZiBkb21haW5fdHlwZSBub3Qg
aW4gKCdnb29nbGUnLCAndW5rbm93bicpOgogICAgICAgICAgICAgICAgY29udGludWUKICAgICAg
ICAgICAgICAgIAogICAgICAgICAgICB3aXRoIHVzZXJfc2Vzc2lvbnNfbG9jazoKICAgICAgICAg
ICAgICAgIHNlc3Npb25bInRvdGFsX2NoZWNrZWQiXSArPSAxCiAgICAgICAgICAgICAgICAKICAg
ICAgICAgICAgaWYgdmFsaWRhdGVfZ21haWwoZW1haWwsIHBhc3N3b3JkKToKICAgICAgICAgICAg
ICAgIHdpdGggdXNlcl9zZXNzaW9uc19sb2NrOgogICAgICAgICAgICAgICAgICAgIHNlc3Npb25b
Imdvb2RfY291bnQiXSArPSAxCiAgICAgICAgICAgICAgICBzYXZlX3ZhbGlkX2FjY291bnQodXNl
cl9pZCwgZW1haWwsIHBhc3N3b3JkKQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBp
ZiBjaGVja19pbmJveDoKICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlcyA9IGNoZWNrX2dtYWls
X2luYm94KGVtYWlsLCBwYXNzd29yZCwgc2VydmljZV9tYXBwaW5nKQogICAgICAgICAgICAgICAg
ICAgIGlmIHNlcnZpY2VzOgogICAgICAgICAgICAgICAgICAgICAgICBmb3Igc2VydmljZSBpbiBz
ZXJ2aWNlczoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVfcmVzdWx0X2Zvcl91c2Vy
KHVzZXJfaWQsIHNlcnZpY2UsIGVtYWlsLCBwYXNzd29yZCkKICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIHNlc3Npb25bInNlcnZpY2VfaGl0cyJdLnNldGRlZmF1bHQoc2VydmljZS5sb3dlcigp
LCBbXSkuYXBwZW5kKGVtYWlsKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgd2l0
aCB1c2VyX3Nlc3Npb25zX2xvY2s6CiAgICAgICAgICAgICAgICAgICAgc2Vzc2lvblsiYmFkX2Nv
dW50Il0gKz0gMQogICAgICAgICAgICAgICAgICAgIAogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24g
YXMgZToKICAgICAgICAgICAgcHJpbnQoZiJFcnJvciBwcm9jZXNzaW5nIEdvb2dsZSBsaW5lOiB7
ZX0iKQoKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PQojICAgICAgICAgICAgICAgICAgICAgR0VORVJJ
QyBJTUFQIFZBTElEQVRJT04KIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQpkZWYgdmFsaWRhdGVfaW1h
cChlbWFpbDogc3RyLCBwYXNzd29yZDogc3RyKSAtPiBib29sOgogICAgIiIiR2VuZXJpYyBJTUFQ
IHZhbGlkYXRpb24gZm9yIHZhcmlvdXMgZG9tYWlucy4iIiIKICAgIHNlcnZlcl9jb25maWcgPSBn
ZXRfaW1hcF9zZXJ2ZXIoZW1haWwpCiAgICBpZiBub3Qgc2VydmVyX2NvbmZpZzoKICAgICAgICBy
ZXR1cm4gRmFsc2UKICAgICAgICAKICAgIHNlcnZlciwgcG9ydCA9IHNlcnZlcl9jb25maWcKICAg
IHRyeToKICAgICAgICB3aXRoIGltYXBsaWIuSU1BUDRfU1NMKHNlcnZlciwgcG9ydCkgYXMgbWFp
bDoKICAgICAgICAgICAgbWFpbC5sb2dpbihlbWFpbCwgcGFzc3dvcmQpCiAgICAgICAgICAgIHJl
dHVybiBUcnVlCiAgICBleGNlcHQgRXhjZXB0aW9uOgogICAgICAgIHJldHVybiBGYWxzZQoKZGVm
IGNoZWNrX2ltYXBfaW5ib3goZW1haWw6IHN0ciwgcGFzc3dvcmQ6IHN0ciwgc2VydmljZV9tYXBw
aW5nOiBkaWN0KSAtPiBMaXN0W3N0cl06CiAgICAiIiJTY2FuIGluYm94IGZvciBzZXJ2aWNlIG1h
cmtlcnMgdXNpbmcgSU1BUC4iIiIKICAgIHNlcnZlcl9jb25maWcgPSBnZXRfaW1hcF9zZXJ2ZXIo
ZW1haWwpCiAgICBpZiBub3Qgc2VydmVyX2NvbmZpZzoKICAgICAgICByZXR1cm4gW10KICAgICAg
ICAKICAgIHNlcnZlciwgcG9ydCA9IHNlcnZlcl9jb25maWcKICAgIHRyeToKICAgICAgICB3aXRo
IGltYXBsaWIuSU1BUDRfU1NMKHNlcnZlciwgcG9ydCkgYXMgbWFpbDoKICAgICAgICAgICAgbWFp
bC5sb2dpbihlbWFpbCwgcGFzc3dvcmQpCiAgICAgICAgICAgIG1haWwuc2VsZWN0KCJpbmJveCIp
CiAgICAgICAgICAgIAogICAgICAgICAgICBmb3VuZF9zZXJ2aWNlcyA9IFtdCiAgICAgICAgICAg
IGZvciBzZXJ2aWNlLCBmcm9tX2VtYWlsIGluIHNlcnZpY2VfbWFwcGluZy5pdGVtcygpOgogICAg
ICAgICAgICAgICAgc3RhdHVzLCBtZXNzYWdlcyA9IG1haWwuc2VhcmNoKE5vbmUsIGYnKEZST00g
Intmcm9tX2VtYWlsfSIpJykKICAgICAgICAgICAgICAgIGlmIHN0YXR1cyA9PSAiT0siIGFuZCBt
ZXNzYWdlc1swXToKICAgICAgICAgICAgICAgICAgICBmb3VuZF9zZXJ2aWNlcy5hcHBlbmQoc2Vy
dmljZSkKICAgICAgICAgICAgcmV0dXJuIGZvdW5kX3NlcnZpY2VzCiAgICBleGNlcHQgRXhjZXB0
aW9uOgogICAgICAgIHJldHVybiBbXQoKZGVmIHByb2Nlc3NfaW1hcF9iYXRjaChiYXRjaDogTGlz
dFtzdHJdLCB1c2VyX2lkOiBpbnQsIGNoZWNrX2luYm94OiBib29sLCBzZXJ2aWNlX21hcHBpbmc6
IGRpY3QpIC0+IE5vbmU6CiAgICAiIiJQcm9jZXNzIGEgYmF0Y2ggb2YgY3JlZGVudGlhbHMgZm9y
IElNQVAtYmFzZWQgcHJvdmlkZXJzLiIiIgogICAgc2Vzc2lvbiA9IGdldF91c2VyX3Nlc3Npb24o
dXNlcl9pZCkKICAgIGZvciBsaW5lIGluIGJhdGNoOgogICAgICAgIGlmIHNlc3Npb25bInNob3Vs
ZF9zdG9wIl06CiAgICAgICAgICAgIHJldHVybgogICAgICAgIHRyeToKICAgICAgICAgICAgZW1h
aWwsIHBhc3N3b3JkID0gbGluZS5zcGxpdCgiOiIsIDEpCiAgICAgICAgICAgIHdpdGggdXNlcl9z
ZXNzaW9uc19sb2NrOgogICAgICAgICAgICAgICAgc2Vzc2lvblsidG90YWxfY2hlY2tlZCJdICs9
IDEKICAgICAgICAgICAgICAgIAogICAgICAgICAgICBpZiB2YWxpZGF0ZV9pbWFwKGVtYWlsLCBw
YXNzd29yZCk6CiAgICAgICAgICAgICAgICB3aXRoIHVzZXJfc2Vzc2lvbnNfbG9jazoKICAgICAg
ICAgICAgICAgICAgICBzZXNzaW9uWyJnb29kX2NvdW50Il0gKz0gMQogICAgICAgICAgICAgICAg
c2F2ZV92YWxpZF9hY2NvdW50KHVzZXJfaWQsIGVtYWlsLCBwYXNzd29yZCkKICAgICAgICAgICAg
ICAgIAogICAgICAgICAgICAgICAgaWYgY2hlY2tfaW5ib3g6CiAgICAgICAgICAgICAgICAgICAg
c2VydmljZXMgPSBjaGVja19pbWFwX2luYm94KGVtYWlsLCBwYXNzd29yZCwgc2VydmljZV9tYXBw
aW5nKQogICAgICAgICAgICAgICAgICAgIGlmIHNlcnZpY2VzOgogICAgICAgICAgICAgICAgICAg
ICAgICBmb3Igc2VydmljZSBpbiBzZXJ2aWNlczoKICAgICAgICAgICAgICAgICAgICAgICAgICAg
IHNhdmVfcmVzdWx0X2Zvcl91c2VyKHVzZXJfaWQsIHNlcnZpY2UsIGVtYWlsLCBwYXNzd29yZCkK
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25bInNlcnZpY2VfaGl0cyJdLnNldGRl
ZmF1bHQoc2VydmljZS5sb3dlcigpLCBbXSkuYXBwZW5kKGVtYWlsKQogICAgICAgICAgICBlbHNl
OgogICAgICAgICAgICAgICAgd2l0aCB1c2VyX3Nlc3Npb25zX2xvY2s6CiAgICAgICAgICAgICAg
ICAgICAgc2Vzc2lvblsiYmFkX2NvdW50Il0gKz0gMQogICAgICAgICAgICAgICAgICAgIAogICAg
ICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgcHJpbnQoZiJFcnJvciBwcm9j
ZXNzaW5nIElNQVAgbGluZToge2V9IikKCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KIyAgICAgICAg
ICAgICAgICAgICAgIEZJTEUgUFJPQ0VTU0lORyBMT0dJQwojID09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
CmRlZiBwcm9jZXNzX2ZpbGVfY29udGVudCgKICAgIGZpbGVfY29udGVudDogc3RyLCAKICAgIHVz
ZXJfaWQ6IGludCwgCiAgICBhY2NvdW50X3R5cGU6IHN0ciwgCiAgICBjaGVja19pbmJveDogYm9v
bCwKICAgIHNlcnZpY2VfbWFwcGluZzogZGljdAopIC0+IE5vbmU6CiAgICAiIiJQcm9jZXNzIGZp
bGUgY29udGVudCBiYXNlZCBvbiBhY2NvdW50IHR5cGUgY2xhc3NpZmljYXRpb24uIiIiCiAgICBs
aW5lcyA9IGZpbGVfY29udGVudC5zcGxpdGxpbmVzKCkKICAgIHZhbGlkX2xpbmVzID0gW2xpbmUu
c3RyaXAoKSBmb3IgbGluZSBpbiBsaW5lcyBpZiAiOiIgaW4gbGluZV0KICAgIAogICAgIyBDbGFz
c2lmeSBsaW5lcyBieSBkb21haW4gdHlwZQogICAgY2xhc3NpZmllZF9saW5lcyA9IGRlZmF1bHRk
aWN0KGxpc3QpCiAgICBmb3IgbGluZSBpbiB2YWxpZF9saW5lczoKICAgICAgICB0cnk6CiAgICAg
ICAgICAgIGVtYWlsID0gbGluZS5zcGxpdCgiOiIsIDEpWzBdCiAgICAgICAgICAgIGRvbWFpbl90
eXBlID0gY2xhc3NpZnlfZG9tYWluKGVtYWlsKQogICAgICAgICAgICBjbGFzc2lmaWVkX2xpbmVz
W2RvbWFpbl90eXBlXS5hcHBlbmQobGluZSkKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIGNv
bnRpbnVlCiAgICAKICAgICMgTWljcm9zb2Z0IHByb2Nlc3NpbmcKICAgIGlmIGFjY291bnRfdHlw
ZSBpbiAoImF1dG8iLCAibWljcm9zb2Z0Iik6CiAgICAgICAgbWljcm9zb2Z0X2xpbmVzID0gY2xh
c3NpZmllZF9saW5lcy5nZXQoIm1pY3Jvc29mdCIsIFtdKSArICgKICAgICAgICAgICAgY2xhc3Np
ZmllZF9saW5lcy5nZXQoInVua25vd24iLCBbXSkgaWYgYWNjb3VudF90eXBlID09ICJhdXRvIiBl
bHNlIFtdCiAgICAgICAgKQogICAgICAgIGlmIG1pY3Jvc29mdF9saW5lczoKICAgICAgICAgICAg
YmF0Y2hlcyA9IFttaWNyb3NvZnRfbGluZXNbaTppKzUwXSBmb3IgaSBpbiByYW5nZSgwLCBsZW4o
bWljcm9zb2Z0X2xpbmVzKSwgNTApXQogICAgICAgICAgICB3aXRoIGNvbmN1cnJlbnQuZnV0dXJl
cy5UaHJlYWRQb29sRXhlY3V0b3IobWF4X3dvcmtlcnM9MTApIGFzIGV4ZWN1dG9yOgogICAgICAg
ICAgICAgICAgZnV0dXJlcyA9IFtleGVjdXRvci5zdWJtaXQocHJvY2Vzc19taWNyb3NvZnRfYmF0
Y2gsIGJhdGNoLCB1c2VyX2lkLCBzZXJ2aWNlX21hcHBpbmcpIAogICAgICAgICAgICAgICAgICAg
ICAgICBmb3IgYmF0Y2ggaW4gYmF0Y2hlc10KICAgICAgICAgICAgICAgIGNvbmN1cnJlbnQuZnV0
dXJlcy53YWl0KGZ1dHVyZXMpCiAgICAKICAgICMgR29vZ2xlIHByb2Nlc3NpbmcKICAgIGlmIGFj
Y291bnRfdHlwZSBpbiAoImF1dG8iLCAiZ29vZ2xlIik6CiAgICAgICAgZ29vZ2xlX2xpbmVzID0g
Y2xhc3NpZmllZF9saW5lcy5nZXQoImdvb2dsZSIsIFtdKSArICgKICAgICAgICAgICAgY2xhc3Np
ZmllZF9saW5lcy5nZXQoInVua25vd24iLCBbXSkgaWYgYWNjb3VudF90eXBlID09ICJhdXRvIiBl
bHNlIFtdCiAgICAgICAgKQogICAgICAgIGlmIGdvb2dsZV9saW5lczoKICAgICAgICAgICAgYmF0
Y2hlcyA9IFtnb29nbGVfbGluZXNbaTppKzIwXSBmb3IgaSBpbiByYW5nZSgwLCBsZW4oZ29vZ2xl
X2xpbmVzKSwgMjApXQogICAgICAgICAgICB3aXRoIGNvbmN1cnJlbnQuZnV0dXJlcy5UaHJlYWRQ
b29sRXhlY3V0b3IobWF4X3dvcmtlcnM9NSkgYXMgZXhlY3V0b3I6CiAgICAgICAgICAgICAgICBm
dXR1cmVzID0gW2V4ZWN1dG9yLnN1Ym1pdChwcm9jZXNzX2dtYWlsX2JhdGNoLCBiYXRjaCwgdXNl
cl9pZCwgY2hlY2tfaW5ib3gsIHNlcnZpY2VfbWFwcGluZykgCiAgICAgICAgICAgICAgICAgICAg
ICAgIGZvciBiYXRjaCBpbiBiYXRjaGVzXQogICAgICAgICAgICAgICAgY29uY3VycmVudC5mdXR1
cmVzLndhaXQoZnV0dXJlcykKICAgIAogICAgIyBQcm9jZXNzIG90aGVyIHByb3ZpZGVycyBpbiBh
dXRvIG1vZGUKICAgIGlmIGFjY291bnRfdHlwZSA9PSAiYXV0byI6CiAgICAgICAgIyBJTUFQLWJh
c2VkIHByb3ZpZGVycwogICAgICAgIGltYXBfdHlwZXMgPSBbJ3lhaG9vJywgJ2FwcGxlJywgJ2Fv
bCcsICdnbXgnLCAnbWFpbHJ1JywgJ3lhbmRleCcsIAogICAgICAgICAgICAgICAgICAgICAnem9o
bycsICdmYXN0bWFpbCcsICdnZXJtYW4nLCAnZnJlbmNoJywgJ3J1c3NpYW4nLCAKICAgICAgICAg
ICAgICAgICAgICAgJ2NoaW5lc2UnLCAnamFwYW5lc2UnXQogICAgICAgIAogICAgICAgIGZvciBw
cm92aWRlciBpbiBpbWFwX3R5cGVzOgogICAgICAgICAgICBsaW5lcyA9IGNsYXNzaWZpZWRfbGlu
ZXMuZ2V0KHByb3ZpZGVyLCBbXSkKICAgICAgICAgICAgaWYgbGluZXM6CiAgICAgICAgICAgICAg
ICBiYXRjaGVzID0gW2xpbmVzW2k6aSsyMF0gZm9yIGkgaW4gcmFuZ2UoMCwgbGVuKGxpbmVzKSwg
MjApXQogICAgICAgICAgICAgICAgd2l0aCBjb25jdXJyZW50LmZ1dHVyZXMuVGhyZWFkUG9vbEV4
ZWN1dG9yKG1heF93b3JrZXJzPTMpIGFzIGV4ZWN1dG9yOgogICAgICAgICAgICAgICAgICAgIGZ1
dHVyZXMgPSBbZXhlY3V0b3Iuc3VibWl0KHByb2Nlc3NfaW1hcF9iYXRjaCwgYmF0Y2gsIHVzZXJf
aWQsIGNoZWNrX2luYm94LCBzZXJ2aWNlX21hcHBpbmcpIAogICAgICAgICAgICAgICAgICAgICAg
ICAgICAgZm9yIGJhdGNoIGluIGJhdGNoZXNdCiAgICAgICAgICAgICAgICAgICAgY29uY3VycmVu
dC5mdXR1cmVzLndhaXQoZnV0dXJlcykKCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KIyAgICAgICAg
ICAgICAgICAgICAgIFNQT05TT1IgTU9ERSBQUk9DRVNTSU5HCiMgPT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT0KZGVmIHByb2Nlc3Nfc3BvbnNvcl9maWxlX2NvbnRlbnQoCiAgICBmaWxlX2NvbnRlbnQ6IHN0
ciwgCiAgICB1c2VyX2lkOiBpbnQsIAogICAgYWNjb3VudF90eXBlOiBzdHIsIAogICAgY2hlY2tf
aW5ib3g6IGJvb2wKKSAtPiBOb25lOgogICAgIiIiUHJvY2VzcyBmaWxlIGNvbnRlbnQgaW4gc3Bv
bnNvciBtb2RlIHdpdGggbGltaXRlZCBjYXBhYmlsaXRpZXMuIiIiCiAgICBsaW5lcyA9IGZpbGVf
Y29udGVudC5zcGxpdGxpbmVzKCkKICAgIHZhbGlkX2xpbmVzID0gW2xpbmUuc3RyaXAoKSBmb3Ig
bGluZSBpbiBsaW5lcyBpZiAiOiIgaW4gbGluZV0KICAgIAogICAgIyBDbGFzc2lmeSBsaW5lcyBi
eSBkb21haW4gdHlwZQogICAgY2xhc3NpZmllZF9saW5lcyA9IGRlZmF1bHRkaWN0KGxpc3QpCiAg
ICBmb3IgbGluZSBpbiB2YWxpZF9saW5lczoKICAgICAgICB0cnk6CiAgICAgICAgICAgIGVtYWls
ID0gbGluZS5zcGxpdCgiOiIsIDEpWzBdCiAgICAgICAgICAgIGRvbWFpbl90eXBlID0gY2xhc3Np
ZnlfZG9tYWluKGVtYWlsKQogICAgICAgICAgICBjbGFzc2lmaWVkX2xpbmVzW2RvbWFpbl90eXBl
XS5hcHBlbmQobGluZSkKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIGNvbnRpbnVlCiAgICAK
ICAgICMgTWljcm9zb2Z0IHByb2Nlc3NpbmcKICAgIGlmIGFjY291bnRfdHlwZSBpbiAoImF1dG8i
LCAibWljcm9zb2Z0Iik6CiAgICAgICAgbWljcm9zb2Z0X2xpbmVzID0gY2xhc3NpZmllZF9saW5l
cy5nZXQoIm1pY3Jvc29mdCIsIFtdKSArICgKICAgICAgICAgICAgY2xhc3NpZmllZF9saW5lcy5n
ZXQoInVua25vd24iLCBbXSkgaWYgYWNjb3VudF90eXBlID09ICJhdXRvIiBlbHNlIFtdCiAgICAg
ICAgKQogICAgICAgIGlmIG1pY3Jvc29mdF9saW5lczoKICAgICAgICAgICAgYmF0Y2hlcyA9IFtt
aWNyb3NvZnRfbGluZXNbaTppKzUwXSBmb3IgaSBpbiByYW5nZSgwLCBsZW4obWljcm9zb2Z0X2xp
bmVzKSwgNTApXQogICAgICAgICAgICB3aXRoIGNvbmN1cnJlbnQuZnV0dXJlcy5UaHJlYWRQb29s
RXhlY3V0b3IobWF4X3dvcmtlcnM9NSkgYXMgZXhlY3V0b3I6CiAgICAgICAgICAgICAgICBmdXR1
cmVzID0gW2V4ZWN1dG9yLnN1Ym1pdChwcm9jZXNzX21pY3Jvc29mdF9iYXRjaCwgYmF0Y2gsIHVz
ZXJfaWQsIFNQT05TT1JfU0VSVklDRV9NQVBQSU5HKSAKICAgICAgICAgICAgICAgICAgICAgICAg
Zm9yIGJhdGNoIGluIGJhdGNoZXNdCiAgICAgICAgICAgICAgICBjb25jdXJyZW50LmZ1dHVyZXMu
d2FpdChmdXR1cmVzKQogICAgCiAgICAjIEdvb2dsZSBwcm9jZXNzaW5nCiAgICBpZiBhY2NvdW50
X3R5cGUgaW4gKCJhdXRvIiwgImdvb2dsZSIpOgogICAgICAgIGdvb2dsZV9saW5lcyA9IGNsYXNz
aWZpZWRfbGluZXMuZ2V0KCJnb29nbGUiLCBbXSkgKyAoCiAgICAgICAgICAgIGNsYXNzaWZpZWRf
bGluZXMuZ2V0KCJ1bmtub3duIiwgW10pIGlmIGFjY291bnRfdHlwZSA9PSAiYXV0byIgZWxzZSBb
XQogICAgICAgICkKICAgICAgICBpZiBnb29nbGVfbGluZXM6CiAgICAgICAgICAgIGJhdGNoZXMg
PSBbZ29vZ2xlX2xpbmVzW2k6aSsyMF0gZm9yIGkgaW4gcmFuZ2UoMCwgbGVuKGdvb2dsZV9saW5l
cyksIDIwKV0KICAgICAgICAgICAgd2l0aCBjb25jdXJyZW50LmZ1dHVyZXMuVGhyZWFkUG9vbEV4
ZWN1dG9yKG1heF93b3JrZXJzPTMpIGFzIGV4ZWN1dG9yOgogICAgICAgICAgICAgICAgZnV0dXJl
cyA9IFtleGVjdXRvci5zdWJtaXQocHJvY2Vzc19nbWFpbF9iYXRjaCwgYmF0Y2gsIHVzZXJfaWQs
IGNoZWNrX2luYm94LCBTUE9OU09SX1NFUlZJQ0VfTUFQUElORykgCiAgICAgICAgICAgICAgICAg
ICAgICAgIGZvciBiYXRjaCBpbiBiYXRjaGVzXQogICAgICAgICAgICAgICAgY29uY3VycmVudC5m
dXR1cmVzLndhaXQoZnV0dXJlcykKCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KIyAgICAgICAgICAg
ICAgICAgICAgIERJU0NPUkQgQk9UIFNFVFVQCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KaW50ZW50
cyA9IGRpc2NvcmQuSW50ZW50cy5kZWZhdWx0KCkKaW50ZW50cy5tZXNzYWdlX2NvbnRlbnQgPSBU
cnVlCmJvdCA9IGNvbW1hbmRzLkJvdChjb21tYW5kX3ByZWZpeD0iXFwiLCBpbnRlbnRzPWludGVu
dHMpCgpAYm90LmV2ZW50CmFzeW5jIGRlZiBvbl9yZWFkeSgpIC0+IE5vbmU6CiAgICAiIiJCb3Qg
c3RhcnR1cCBoYW5kbGVyIC0gc3luY3MgY29tbWFuZHMgYW5kIHByaW50cyBzdGF0dXMuIiIiCiAg
ICB0cnk6CiAgICAgICAgc3luY2VkID0gYXdhaXQgYm90LnRyZWUuc3luYygpCiAgICAgICAgcHJp
bnQoZiJTeW5jZWQge2xlbihzeW5jZWQpfSBjb21tYW5kcyIpCiAgICBleGNlcHQgRXhjZXB0aW9u
IGFzIGU6CiAgICAgICAgcHJpbnQoZSkKICAgIHByaW50KGYiQm90IGxvZ2dlZCBpbiBhcyB7Ym90
LnVzZXJ9IikKCmFzeW5jIGRlZiB1cGRhdGVfc3RhdHVzKHVzZXJfaWQ6IGludCwgbWVzc2FnZTog
ZGlzY29yZC5NZXNzYWdlLCBkb25lX2Z1dHVyZTogYXN5bmNpby5GdXR1cmUpIC0+IE5vbmU6CiAg
ICAiIiJQZXJpb2RpY2FsbHkgdXBkYXRlIHN0YXRpc3RpY3MgZW1iZWQgZHVyaW5nIGNoZWNraW5n
IHByb2Nlc3MuIiIiCiAgICBwcmV2aW91c19lbWJlZCA9IE5vbmUKICAgIHdoaWxlIG5vdCBkb25l
X2Z1dHVyZS5kb25lKCk6CiAgICAgICAgdHJ5OgogICAgICAgICAgICBjdXJyZW50X2VtYmVkID0g
YnVpbGRfc3RhdHNfZW1iZWQodXNlcl9pZCkKICAgICAgICAgICAgaWYgc3RyKGN1cnJlbnRfZW1i
ZWQudG9fZGljdCgpKSAhPSBzdHIocHJldmlvdXNfZW1iZWQpOgogICAgICAgICAgICAgICAgYXdh
aXQgbWVzc2FnZS5lZGl0KGVtYmVkPWN1cnJlbnRfZW1iZWQpCiAgICAgICAgICAgICAgICBwcmV2
aW91c19lbWJlZCA9IGN1cnJlbnRfZW1iZWQKICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6
CiAgICAgICAgICAgIHByaW50KGYiRXJyb3IgdXBkYXRpbmcgc3RhdHVzIGVtYmVkOiB7ZX0iKQog
ICAgICAgIGF3YWl0IGFzeW5jaW8uc2xlZXAoMSkKICAgIHRyeToKICAgICAgICBhd2FpdCBtZXNz
YWdlLmVkaXQoZW1iZWQ9YnVpbGRfc3RhdHNfZW1iZWQodXNlcl9pZCkpCiAgICBleGNlcHQgRXhj
ZXB0aW9uIGFzIGU6CiAgICAgICAgcHJpbnQoZiJFcnJvciBvbiBmaW5hbCBlbWJlZCB1cGRhdGU6
IHtlfSIpCgojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiMgICAgICAgICAgICAgICAgICAgICBDT01N
QU5EOiBVTklGSUVEIENIRUNLIChQUkVNSVVNKQojID09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CkBib3Qu
dHJlZS5jb21tYW5kKG5hbWU9ImNoZWNrIiwgZGVzY3JpcHRpb249IlByZW1pdW0gYWNjb3VudCBj
aGVja2luZyB3aXRoIGZ1bGwgZmVhdHVyZXMiKQpAYXBwX2NvbW1hbmRzLmRlc2NyaWJlKAogICAg
ZmlsZT0iVGV4dCBmaWxlIHdpdGggZW1haWw6cGFzc3dvcmQgcGFpcnMiLAogICAgY2hlY2tfaW5i
b3g9IkNoZWNrIGluYm94IGZvciBzZXJ2aWNlIGVtYWlscyAocmVjb21tZW5kZWQpIiwKICAgIGZv
cmNlX3R5cGU9IkZvcmNlIGFjY291bnQgdHlwZSAoYXV0by1kZXRlY3RzIGJ5IGRlZmF1bHQpIgop
CkBhcHBfY29tbWFuZHMuY2hvaWNlcygKICAgIGZvcmNlX3R5cGU9WwogICAgICAgIGFwcF9jb21t
YW5kcy5DaG9pY2UobmFtZT0iQXV0byBEZXRlY3QiLCB2YWx1ZT0iYXV0byIpLAogICAgICAgIGFw
cF9jb21tYW5kcy5DaG9pY2UobmFtZT0iTWljcm9zb2Z0IE9ubHkiLCB2YWx1ZT0ibWljcm9zb2Z0
IiksCiAgICAgICAgYXBwX2NvbW1hbmRzLkNob2ljZShuYW1lPSJHb29nbGUgT25seSIsIHZhbHVl
PSJnb29nbGUiKQogICAgXQopCkBjaGVja19hbGxvd2VkX3dyYXBwZXIKQGNoZWNrZXJfcmVzdHJp
Y3Rpb24KYXN5bmMgZGVmIHVuaWZpZWRfY2hlY2tfY29tbWFuZCgKICAgIGludGVyYWN0aW9uOiBk
aXNjb3JkLkludGVyYWN0aW9uLCAKICAgIGZpbGU6IGRpc2NvcmQuQXR0YWNobWVudCwKICAgIGNo
ZWNrX2luYm94OiBib29sID0gVHJ1ZSwKICAgIGZvcmNlX3R5cGU6IGFwcF9jb21tYW5kcy5DaG9p
Y2Vbc3RyXSA9IE5vbmUKKSAtPiBOb25lOgogICAgIiIiUHJlbWl1bSBhY2NvdW50IGNoZWNraW5n
IGNvbW1hbmQgd2l0aCBmdWxsIGZlYXR1cmVzIiIiCiAgICB1c2VyX2lkID0gaW50ZXJhY3Rpb24u
dXNlci5pZAogICAgcmVzZXRfdXNlcl9zZXNzaW9uKHVzZXJfaWQpCiAgICBwcmVwYXJlX3VzZXJf
c2Vzc2lvbl9mb2xkZXIodXNlcl9pZCkKICAgIGFjY291bnRfdHlwZSA9IGZvcmNlX3R5cGUudmFs
dWUgaWYgZm9yY2VfdHlwZSBlbHNlICJhdXRvIgoKICAgICMgSGFuZGxlIGNvb2xkb3duCiAgICBp
ZiB1c2VyX2lkIG5vdCBpbiBPV05FUlM6CiAgICAgICAgY3VycmVudF90aW1lID0gdGltZS50aW1l
KCkKICAgICAgICBsYXN0X3VzZWQgPSB1c2VyX2xhc3RfdXNlZC5nZXQodXNlcl9pZCwgMCkKICAg
ICAgICBpZiBjdXJyZW50X3RpbWUgLSBsYXN0X3VzZWQgPCBDT09MRE9XTl9TRUNPTkRTOgogICAg
ICAgICAgICByZW1haW5pbmcgPSBpbnQoQ09PTERPV05fU0VDT05EUyAtIChjdXJyZW50X3RpbWUg
LSBsYXN0X3VzZWQpKQogICAgICAgICAgICBhd2FpdCBpbnRlcmFjdGlvbi5yZXNwb25zZS5zZW5k
X21lc3NhZ2UoCiAgICAgICAgICAgICAgICBmIuKPsyBQbGVhc2Ugd2FpdCB7cmVtYWluaW5nfSBz
ZWNvbmRzIGJlZm9yZSB1c2luZyB0aGlzIGNvbW1hbmQgYWdhaW4iLAogICAgICAgICAgICAgICAg
ZXBoZW1lcmFsPVRydWUKICAgICAgICAgICAgKQogICAgICAgICAgICByZXR1cm4KICAgICAgICB1
c2VyX2xhc3RfdXNlZFt1c2VyX2lkXSA9IGN1cnJlbnRfdGltZQoKICAgIGF3YWl0IGludGVyYWN0
aW9uLnJlc3BvbnNlLmRlZmVyKCkKICAgIAogICAgdHJ5OgogICAgICAgIGZpbGVfYnl0ZXMgPSBh
d2FpdCBmaWxlLnJlYWQoKQogICAgICAgIGZpbGVfY29udGVudCA9IGZpbGVfYnl0ZXMuZGVjb2Rl
KCJ1dGYtOCIsIGVycm9ycz0icmVwbGFjZSIpCiAgICAgICAgdG90YWxfbGluZXMgPSBsZW4oW2xp
bmUgZm9yIGxpbmUgaW4gZmlsZV9jb250ZW50LnNwbGl0bGluZXMoKSBpZiAiOiIgaW4gbGluZV0p
CiAgICAgICAgCiAgICAgICAgc2Vzc2lvbiA9IGdldF91c2VyX3Nlc3Npb24odXNlcl9pZCkKICAg
ICAgICBzZXNzaW9uWyJ0b3RhbF9saW5lcyJdID0gdG90YWxfbGluZXMKICAgICAgICBzZXNzaW9u
WyJjaGVja19pbmJveCJdID0gY2hlY2tfaW5ib3gKICAgICAgICBzZXNzaW9uWyJhY2NvdW50X3R5
cGUiXSA9IGFjY291bnRfdHlwZQogICAgICAgIAogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgog
ICAgICAgIGF3YWl0IGludGVyYWN0aW9uLmZvbGxvd3VwLnNlbmQoZiJFcnJvciByZWFkaW5nIGZp
bGU6IHtzdHIoZSl9IiwgZXBoZW1lcmFsPVRydWUpCiAgICAgICAgcmV0dXJuCgogICAgc3RhdHVz
X21lc3NhZ2UgPSBhd2FpdCBpbnRlcmFjdGlvbi5mb2xsb3d1cC5zZW5kKGVtYmVkPWJ1aWxkX3N0
YXRzX2VtYmVkKHVzZXJfaWQpKQogICAgbG9vcCA9IGFzeW5jaW8uZ2V0X3J1bm5pbmdfbG9vcCgp
CiAgICBkb25lX2Z1dHVyZSA9IGxvb3AuY3JlYXRlX2Z1dHVyZSgpCgogICAgIyBTdGFydCBzdGF0
dXMgdXBkYXRlIHRhc2sKICAgIHVwZGF0ZV90YXNrID0gYXN5bmNpby5jcmVhdGVfdGFzayh1cGRh
dGVfc3RhdHVzKHVzZXJfaWQsIHN0YXR1c19tZXNzYWdlLCBkb25lX2Z1dHVyZSkpCiAgICAKICAg
IHRyeToKICAgICAgICAjIFByb2Nlc3MgYmFzZWQgb24gYWNjb3VudCB0eXBlCiAgICAgICAgYXdh
aXQgbG9vcC5ydW5faW5fZXhlY3V0b3IoCiAgICAgICAgICAgIE5vbmUsIAogICAgICAgICAgICBw
cm9jZXNzX2ZpbGVfY29udGVudCwgCiAgICAgICAgICAgIGZpbGVfY29udGVudCwgCiAgICAgICAg
ICAgIHVzZXJfaWQsIAogICAgICAgICAgICBhY2NvdW50X3R5cGUsCiAgICAgICAgICAgIGNoZWNr
X2luYm94LAogICAgICAgICAgICBBTExfU0VSVklDRV9NQVBQSU5HCiAgICAgICAgKQogICAgZXhj
ZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIGF3YWl0IGludGVyYWN0aW9uLmZvbGxvd3VwLnNl
bmQoZiJDaGVja2VyIGVycm9yOiB7c3RyKGUpfSIsIGVwaGVtZXJhbD1UcnVlKQogICAgZmluYWxs
eToKICAgICAgICBkb25lX2Z1dHVyZS5zZXRfcmVzdWx0KFRydWUpCiAgICAgICAgYXdhaXQgdXBk
YXRlX3Rhc2sKICAgICAgICAKICAgICAgICAjIFNlbmQgcmVzdWx0cyBhbmQgY2xlYW4gdXAKICAg
ICAgICBhd2FpdCBkbV9yZXN1bHRzKGludGVyYWN0aW9uLnVzZXIpCiAgICAgICAgZmluYWxfbXNn
ID0gIuKchSBDaGVjayBjb21wbGV0ZSEgUmVzdWx0cyBzZW50IHRvIHlvdXIgRE1zLiIKICAgICAg
ICBhd2FpdCBpbnRlcmFjdGlvbi5mb2xsb3d1cC5zZW5kKGZpbmFsX21zZykKICAgICAgICBjbGVh
cl91c2VyX3Jlc3VsdHModXNlcl9pZCkKCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KIyAgICAgICAg
ICAgICAgICAgICAgIENPTU1BTkQ6IFNQT05TT1IgQ0hFQ0sgKExJTUlURUQpCiMgPT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT0KQGJvdC50cmVlLmNvbW1hbmQobmFtZT0ic3BvbnNvci1jaGVjayIsIGRlc2Ny
aXB0aW9uPSJMaW1pdGVkIGFjY291bnQgY2hlY2tpbmcgZm9yIG5vbi1wcmVtaXVtIHVzZXJzIikK
QGFwcF9jb21tYW5kcy5kZXNjcmliZSgKICAgIGZpbGU9IlRleHQgZmlsZSB3aXRoIGVtYWlsOnBh
c3N3b3JkIHBhaXJzIiwKICAgIGNoZWNrX2luYm94PSJDaGVjayBpbmJveCBmb3Igc2VydmljZSBl
bWFpbHMiCikKQHNwb25zb3JfcmVzdHJpY3Rpb24KQGNoZWNrX2FsbG93ZWRfd3JhcHBlcgphc3lu
YyBkZWYgc3BvbnNvcl9jaGVja19jb21tYW5kKAogICAgaW50ZXJhY3Rpb246IGRpc2NvcmQuSW50
ZXJhY3Rpb24sIAogICAgZmlsZTogZGlzY29yZC5BdHRhY2htZW50LAogICAgY2hlY2tfaW5ib3g6
IGJvb2wgPSBUcnVlCikgLT4gTm9uZToKICAgICIiIkxpbWl0ZWQgYWNjb3VudCBjaGVja2luZyBm
b3Igbm9uLXByZW1pdW0gdXNlcnMiIiIKICAgIHVzZXJfaWQgPSBpbnRlcmFjdGlvbi51c2VyLmlk
CiAgICByZXNldF91c2VyX3Nlc3Npb24odXNlcl9pZCkKICAgIHByZXBhcmVfdXNlcl9zZXNzaW9u
X2ZvbGRlcih1c2VyX2lkKQogICAgCiAgICAjIE1hcmsgc2Vzc2lvbiBhcyBzcG9uc29yIG1vZGUK
ICAgIHNlc3Npb24gPSBnZXRfdXNlcl9zZXNzaW9uKHVzZXJfaWQpCiAgICBzZXNzaW9uWyJpc19z
cG9uc29yX21vZGUiXSA9IFRydWUKCiAgICAjIEhhbmRsZSBjb29sZG93bgogICAgY3VycmVudF90
aW1lID0gdGltZS50aW1lKCkKICAgIGxhc3RfdXNlZCA9IHVzZXJfbGFzdF91c2VkLmdldCh1c2Vy
X2lkLCAwKQogICAgaWYgY3VycmVudF90aW1lIC0gbGFzdF91c2VkIDwgQ09PTERPV05fU0VDT05E
UyAqIDI6ICAjIExvbmdlciBjb29sZG93biBmb3Igc3BvbnNvcgogICAgICAgIHJlbWFpbmluZyA9
IGludChDT09MRE9XTl9TRUNPTkRTICogMiAtIChjdXJyZW50X3RpbWUgLSBsYXN0X3VzZWQpKQog
ICAgICAgIGF3YWl0IGludGVyYWN0aW9uLnJlc3BvbnNlLnNlbmRfbWVzc2FnZSgKICAgICAgICAg
ICAgZiLij7MgUGxlYXNlIHdhaXQge3JlbWFpbmluZ30gc2Vjb25kcyBiZWZvcmUgdXNpbmcgdGhp
cyBjb21tYW5kIGFnYWluIiwKICAgICAgICAgICAgZXBoZW1lcmFsPVRydWUKICAgICAgICApCiAg
ICAgICAgcmV0dXJuCiAgICB1c2VyX2xhc3RfdXNlZFt1c2VyX2lkXSA9IGN1cnJlbnRfdGltZQoK
ICAgIGF3YWl0IGludGVyYWN0aW9uLnJlc3BvbnNlLmRlZmVyKCkKICAgIAogICAgdHJ5OgogICAg
ICAgIGZpbGVfYnl0ZXMgPSBhd2FpdCBmaWxlLnJlYWQoKQogICAgICAgIGZpbGVfY29udGVudCA9
IGZpbGVfYnl0ZXMuZGVjb2RlKCJ1dGYtOCIsIGVycm9ycz0icmVwbGFjZSIpCiAgICAgICAgdG90
YWxfbGluZXMgPSBsZW4oW2xpbmUgZm9yIGxpbmUgaW4gZmlsZV9jb250ZW50LnNwbGl0bGluZXMo
KSBpZiAiOiIgaW4gbGluZV0pCiAgICAgICAgCiAgICAgICAgc2Vzc2lvblsidG90YWxfbGluZXMi
XSA9IHRvdGFsX2xpbmVzCiAgICAgICAgc2Vzc2lvblsiY2hlY2tfaW5ib3giXSA9IGNoZWNrX2lu
Ym94CiAgICAgICAgc2Vzc2lvblsiYWNjb3VudF90eXBlIl0gPSAiYXV0byIgICMgU3BvbnNvciBv
bmx5IHN1cHBvcnRzIGF1dG8KICAgICAgICAKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAg
ICAgICBhd2FpdCBpbnRlcmFjdGlvbi5mb2xsb3d1cC5zZW5kKGYiRXJyb3IgcmVhZGluZyBmaWxl
OiB7c3RyKGUpfSIsIGVwaGVtZXJhbD1UcnVlKQogICAgICAgIHJldHVybgoKICAgICMgU2VuZCBp
bmZvIG1lc3NhZ2UgKHNlcGFyYXRlIGZyb20gc2Nhbm5pbmcgc3RhdHVzKQogICAgaW5mb19lbWJl
ZCA9IGNyZWF0ZV9lbWJlZCgKICAgICAgICB0aXRsZT0iU3BvbnNvciBDaGVja2VyIEluZm8iLAog
ICAgICAgIGRlc2NyaXB0aW9uPSgKICAgICAgICAgICAgIvCflJIgWW91J3JlIHVzaW5nIHRoZSBs
aW1pdGVkIHNwb25zb3IgdmVyc2lvblxuIgogICAgICAgICAgICAiU29tZSBmZWF0dXJlcyBhcmUg
cmVzdHJpY3RlZC4gSm9pbiBvdXIgc2VydmVyIGZvciBmdWxsIGFjY2VzcyFcblxuIgogICAgICAg
ICAgICAi4pyoICoqUHJlbWl1bSBGZWF0dXJlczoqKlxuIgogICAgICAgICAgICAiLSAyMDArIHNl
cnZpY2UgZGV0ZWN0aW9uc1xuIgogICAgICAgICAgICAiLSBQcmlvcml0eSBwcm9jZXNzaW5nXG4i
CiAgICAgICAgICAgICItIFJlYWwtdGltZSBDUE0gc3RhdHNcbiIKICAgICAgICAgICAgIi0gTm8g
Y29vbGRvd25zXG4iCiAgICAgICAgICAgIGYiW0pvaW4gb3VyIHNlcnZlciBmb3IgZnVsbCBhY2Nl
c3NdKGh0dHBzOi8vZGlzY29yZC5nZy9UZWRrYnpkVHo3KSIKICAgICAgICApLAogICAgICAgIGNv
bG9yPWRpc2NvcmQuQ29sb3Iub3JhbmdlKCkKICAgICkKICAgIGF3YWl0IGludGVyYWN0aW9uLmZv
bGxvd3VwLnNlbmQoZW1iZWQ9aW5mb19lbWJlZCwgZXBoZW1lcmFsPVRydWUpCgogICAgIyBDcmVh
dGUgc3BvbnNvci1zcGVjaWZpYyBzdGF0cyBlbWJlZCAoZm9yIHNjYW5uaW5nIHByb2dyZXNzKQog
ICAgc3BvbnNvcl9lbWJlZCA9IGNyZWF0ZV9lbWJlZCgKICAgICAgICB0aXRsZT0iU3BvbnNvciBD
aGVja2VyIFN0YXRzIiwKICAgICAgICBkZXNjcmlwdGlvbj0oCiAgICAgICAgICAgIGYiKipBY2Nv
dW50czoqKiB7dG90YWxfbGluZXN9IHwgKipDaGVja2VkOioqIDBcbiIKICAgICAgICAgICAgIioq
VmFsaWQ6KiogMCB8ICoqSW52YWxpZDoqKiAwXG4iCiAgICAgICAgICAgICIqKkhpdCBSYXRlOioq
IDAuMDAlIgogICAgICAgICksCiAgICAgICAgY29sb3I9ZGlzY29yZC5Db2xvci5vcmFuZ2UoKQog
ICAgKQogICAgCiAgICBzdGF0dXNfbWVzc2FnZSA9IGF3YWl0IGludGVyYWN0aW9uLmZvbGxvd3Vw
LnNlbmQoZW1iZWQ9c3BvbnNvcl9lbWJlZCkKICAgIGxvb3AgPSBhc3luY2lvLmdldF9ydW5uaW5n
X2xvb3AoKQogICAgZG9uZV9mdXR1cmUgPSBsb29wLmNyZWF0ZV9mdXR1cmUoKQoKICAgICMgU3Rh
cnQgc3RhdHVzIHVwZGF0ZSB0YXNrCiAgICB1cGRhdGVfdGFzayA9IGFzeW5jaW8uY3JlYXRlX3Rh
c2sodXBkYXRlX3N0YXR1cyh1c2VyX2lkLCBzdGF0dXNfbWVzc2FnZSwgZG9uZV9mdXR1cmUpKQog
ICAgCiAgICB0cnk6CiAgICAgICAgIyBQcm9jZXNzIGluIHNwb25zb3IgbW9kZQogICAgICAgIGF3
YWl0IGxvb3AucnVuX2luX2V4ZWN1dG9yKAogICAgICAgICAgICBOb25lLCAKICAgICAgICAgICAg
cHJvY2Vzc19zcG9uc29yX2ZpbGVfY29udGVudCwgCiAgICAgICAgICAgIGZpbGVfY29udGVudCwg
CiAgICAgICAgICAgIHVzZXJfaWQsIAogICAgICAgICAgICAiYXV0byIsCiAgICAgICAgICAgIGNo
ZWNrX2luYm94CiAgICAgICAgKQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIGF3
YWl0IGludGVyYWN0aW9uLmZvbGxvd3VwLnNlbmQoZiJDaGVja2VyIGVycm9yOiB7c3RyKGUpfSIs
IGVwaGVtZXJhbD1UcnVlKQogICAgZmluYWxseToKICAgICAgICBkb25lX2Z1dHVyZS5zZXRfcmVz
dWx0KFRydWUpCiAgICAgICAgYXdhaXQgdXBkYXRlX3Rhc2sKICAgICAgICAKICAgICAgICAjIFNl
bmQgcmVzdWx0cyBhbmQgY2xlYW4gdXAKICAgICAgICBhd2FpdCBkbV9yZXN1bHRzKGludGVyYWN0
aW9uLnVzZXIpCiAgICAgICAgZmluYWxfbXNnID0gIuKchSBDaGVjayBjb21wbGV0ZSEgUmVzdWx0
cyBzZW50IHRvIHlvdXIgRE1zLiIKICAgICAgICBhd2FpdCBpbnRlcmFjdGlvbi5mb2xsb3d1cC5z
ZW5kKGZpbmFsX21zZykKICAgICAgICBjbGVhcl91c2VyX3Jlc3VsdHModXNlcl9pZCkKCiMgPT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT0KIyAgICAgICAgICAgICAgICAgICAgIENPTU1BTkQ6IFNUT1AKIyA9
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PQpAYm90LnRyZWUuY29tbWFuZChuYW1lPSJzdG9wIiwgZGVzY3Jp
cHRpb249IlN0b3AgdGhlIGN1cnJlbnRseSBydW5uaW5nIHRhc2siKQpAY2hlY2tfYWxsb3dlZF93
cmFwcGVyCmFzeW5jIGRlZiBzdG9wX2NvbW1hbmQoaW50ZXJhY3Rpb246IGRpc2NvcmQuSW50ZXJh
Y3Rpb24pIC0+IE5vbmU6CiAgICB1c2VyX2lkID0gaW50ZXJhY3Rpb24udXNlci5pZAogICAgc2Vz
c2lvbiA9IGdldF91c2VyX3Nlc3Npb24odXNlcl9pZCkKCiAgICBpZiBzZXNzaW9uWyJzaG91bGRf
c3RvcCJdOgogICAgICAgIHRyeToKICAgICAgICAgICAgaWYgbm90IGludGVyYWN0aW9uLnJlc3Bv
bnNlLmlzX2RvbmUoKToKICAgICAgICAgICAgICAgIGF3YWl0IGludGVyYWN0aW9uLnJlc3BvbnNl
LnNlbmRfbWVzc2FnZSgKICAgICAgICAgICAgICAgICAgICAiVGhlIHByb2Nlc3MgaXMgYWxyZWFk
eSBzdG9wcGluZy4gUGxlYXNlIHdhaXQuIiwgCiAgICAgICAgICAgICAgICAgICAgZXBoZW1lcmFs
PVRydWUKICAgICAgICAgICAgICAgICkKICAgICAgICBleGNlcHQgZGlzY29yZC5lcnJvcnMuSW50
ZXJhY3Rpb25SZXNwb25kZWQ6CiAgICAgICAgICAgIHBhc3MKICAgICAgICByZXR1cm4KCiAgICBz
ZXNzaW9uWyJzaG91bGRfc3RvcCJdID0gVHJ1ZQoKICAgIHRyeToKICAgICAgICBpZiBub3QgaW50
ZXJhY3Rpb24ucmVzcG9uc2UuaXNfZG9uZSgpOgogICAgICAgICAgICBlbWJlZCA9IGNyZWF0ZV9l
bWJlZCgKICAgICAgICAgICAgICAgIHRpdGxlPSJTdG9wcGluZyBQcm9jZXNzIiwKICAgICAgICAg
ICAgICAgIGRlc2NyaXB0aW9uPSJTdG9wIGNvbW1hbmQgcmVjZWl2ZWQuIFRoZSBwcm9jZXNzIHdp
bGwgaGFsdCBzaG9ydGx5LiIKICAgICAgICAgICAgKQogICAgICAgICAgICBhd2FpdCBpbnRlcmFj
dGlvbi5yZXNwb25zZS5zZW5kX21lc3NhZ2UoZW1iZWQ9ZW1iZWQsIGVwaGVtZXJhbD1UcnVlKQog
ICAgZXhjZXB0IGRpc2NvcmQuZXJyb3JzLkludGVyYWN0aW9uUmVzcG9uZGVkOgogICAgICAgIHBh
c3MKCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT0KIyAgICAgICAgICAgICAgICAgICAgIENPTU1BTkQ6
IFRSSUFMCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KQGJvdC50cmVlLmNvbW1hbmQobmFtZT0idHJp
YWwiLCBkZXNjcmlwdGlvbj0iR2V0IDI0KyBob3VycyBmcmVlIGFjY2VzcyB0byBjaGVja2VyIikK
YXN5bmMgZGVmIHRyaWFsKGludGVyYWN0aW9uOiBkaXNjb3JkLkludGVyYWN0aW9uKSAtPiBOb25l
OgogICAgdXNlcl9pZCA9IGludGVyYWN0aW9uLnVzZXIuaWQKICAgIGRiID0gbG9hZF90cmlhbF9k
YigpCiAgICBpZiBzdHIodXNlcl9pZCkgaW4gZGI6CiAgICAgICAgZW1iZWQgPSBjcmVhdGVfZW1i
ZWQoCiAgICAgICAgICAgIHRpdGxlPSJUcmlhbCBBY2Nlc3MgRGVuaWVkIiwKICAgICAgICAgICAg
ZGVzY3JpcHRpb249IllvdSBoYXZlIGFscmVhZHkgdXNlZCB5b3VyIHRyaWFsIGFjY2Vzcy4gWW91
IGNhbiBvbmx5IHVzZSB0aGUgdHJpYWwgb25jZS4iCiAgICAgICAgKQogICAgICAgIGF3YWl0IGlu
dGVyYWN0aW9uLnJlc3BvbnNlLnNlbmRfbWVzc2FnZShlbWJlZD1lbWJlZCwgZXBoZW1lcmFsPUZh
bHNlKQogICAgZWxzZToKICAgICAgICBncmFudF90cmlhbF9hY2Nlc3ModXNlcl9pZCwgMjQpCiAg
ICAgICAgZW1iZWQgPSBjcmVhdGVfZW1iZWQoCiAgICAgICAgICAgIHRpdGxlPSJUcmlhbCBBY2Nl
c3MgR3JhbnRlZCIsCiAgICAgICAgICAgIGRlc2NyaXB0aW9uPSJUcmlhbCBhY2Nlc3MgZ3JhbnRl
ZCBmb3IgMjQgaG91cnMuIEVuam95IHlvdXIgZnJlZSBhY2Nlc3MgdG8gdGhlIGNoZWNrZXIhIgog
ICAgICAgICkKICAgICAgICBhd2FpdCBpbnRlcmFjdGlvbi5yZXNwb25zZS5zZW5kX21lc3NhZ2Uo
ZW1iZWQ9ZW1iZWQsIGVwaGVtZXJhbD1GYWxzZSkKCiMgPT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KIyAg
ICAgICAgICAgICAgICAgICAgIENPTU1BTkQ6IFdISVRFTElTVCBHUk9VUAojID09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09CndoaXRlbGlzdF9ncm91cCA9IGFwcF9jb21tYW5kcy5Hcm91cChuYW1lPSJ3aGl0
ZWxpc3QiLCBkZXNjcmlwdGlvbj0iTWFuYWdlIHdoaXRlbGlzdCB1c2VycyIpCgpAd2hpdGVsaXN0
X2dyb3VwLmNvbW1hbmQobmFtZT0iYWRkIiwgZGVzY3JpcHRpb249IkFkZCBhIHVzZXIgdG8gdGhl
IHdoaXRlbGlzdCAob3duZXJzIG9ubHkpIikKQGFwcF9jb21tYW5kcy5kZXNjcmliZSgKICAgIHVz
ZXI9IlVzZXIgdG8gd2hpdGVsaXN0IiwKICAgIGR1cmF0aW9uPSJEdXJhdGlvbiBvZiB3aGl0ZWxp
c3QgKGV4OiAxZCwgMXcsIDFtLCAxeSwgbGlmZXRpbWUpIgopCmFzeW5jIGRlZiB3aGl0ZWxpc3Rf
YWRkKGludGVyYWN0aW9uOiBkaXNjb3JkLkludGVyYWN0aW9uLCB1c2VyOiBkaXNjb3JkLlVzZXIs
IGR1cmF0aW9uOiBzdHIpOgogICAgaWYgaW50ZXJhY3Rpb24udXNlci5pZCBub3QgaW4gT1dORVJT
OgogICAgICAgIGF3YWl0IGludGVyYWN0aW9uLnJlc3BvbnNlLnNlbmRfbWVzc2FnZSgKICAgICAg
ICAgICAgIllvdSBkbyBub3QgaGF2ZSBwZXJtaXNzaW9uIHRvIHVzZSB0aGlzIGNvbW1hbmQuIiwK
ICAgICAgICAgICAgZXBoZW1lcmFsPVRydWUKICAgICAgICApCiAgICAgICAgcmV0dXJuCgogICAg
YWRkX3RvX3doaXRlbGlzdCh1c2VyLmlkLCBkdXJhdGlvbikKICAgIGVtYmVkID0gY3JlYXRlX2Vt
YmVkKAogICAgICAgIHRpdGxlPSJVc2VyIFdoaXRlbGlzdGVkIiwKICAgICAgICBkZXNjcmlwdGlv
bj1mIlVzZXIge3VzZXIubWVudGlvbn0gYWRkZWQgdG8gdGhlIHdoaXRlbGlzdCBmb3IgZHVyYXRp
b24gYHtkdXJhdGlvbn1gLiIKICAgICkKICAgIGF3YWl0IGludGVyYWN0aW9uLnJlc3BvbnNlLnNl
bmRfbWVzc2FnZShlbWJlZD1lbWJlZCwgZXBoZW1lcmFsPUZhbHNlKQoKQHdoaXRlbGlzdF9ncm91
cC5jb21tYW5kKG5hbWU9InJlbW92ZSIsIGRlc2NyaXB0aW9uPSJSZW1vdmUgYSB1c2VyIGZyb20g
dGhlIHdoaXRlbGlzdCAob3duZXJzIG9ubHkpIikKQGFwcF9jb21tYW5kcy5kZXNjcmliZSh1c2Vy
PSJVc2VyIHRvIHJlbW92ZSBmcm9tIHdoaXRlbGlzdCIpCmFzeW5jIGRlZiB3aGl0ZWxpc3RfcmVt
b3ZlKGludGVyYWN0aW9uOiBkaXNjb3JkLkludGVyYWN0aW9uLCB1c2VyOiBkaXNjb3JkLlVzZXIp
OgogICAgaWYgaW50ZXJhY3Rpb24udXNlci5pZCBub3QgaW4gT1dORVJTOgogICAgICAgIGF3YWl0
IGludGVyYWN0aW9uLnJlc3BvbnNlLnNlbmRfbWVzc2FnZSgKICAgICAgICAgICAgIllvdSBkbyBu
b3QgaGF2ZSBwZXJtaXNzaW9uIHRvIHVzZSB0aGlzIGNvbW1hbmQuIiwKICAgICAgICAgICAgZXBo
ZW1lcmFsPVRydWUKICAgICAgICApCiAgICAgICAgcmV0dXJuCiAgICByZW1vdmVfZnJvbV93aGl0
ZWxpc3QodXNlci5pZCkKICAgIGVtYmVkID0gY3JlYXRlX2VtYmVkKAogICAgICAgIHRpdGxlPSJV
c2VyIFJlbW92ZWQiLAogICAgICAgIGRlc2NyaXB0aW9uPWYiVXNlciB7dXNlci5tZW50aW9ufSBy
ZW1vdmVkIGZyb20gdGhlIHdoaXRlbGlzdC4iCiAgICApCiAgICBhd2FpdCBpbnRlcmFjdGlvbi5y
ZXNwb25zZS5zZW5kX21lc3NhZ2UoZW1iZWQ9ZW1iZWQsIGVwaGVtZXJhbD1GYWxzZSkKCmJvdC50
cmVlLmFkZF9jb21tYW5kKHdoaXRlbGlzdF9ncm91cCkKCiMgPT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0K
IyAgICAgICAgICAgICAgICAgICAgIENPTU1BTkQ6IFdISVRFTElTVCBJTkZPCiMgPT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT0KQGJvdC5jb21tYW5kKG5hbWU9IndoaXRlbGlzdGluZm8iKQphc3luYyBkZWYg
d2hpdGVsaXN0X2luZm8oY3R4LCB1c2VyOiBkaXNjb3JkLlVzZXIgPSBOb25lKToKICAgIGlmIHVz
ZXIgaXMgTm9uZToKICAgICAgICB1c2VyID0gY3R4LmF1dGhvcgoKICAgIHdsID0gbG9hZF93aGl0
ZWxpc3QoKQogICAgdWlkID0gc3RyKHVzZXIuaWQpCgogICAgaWYgdWlkIG5vdCBpbiB3bDoKICAg
ICAgICBlbWJlZCA9IGNyZWF0ZV9lbWJlZCgKICAgICAgICAgICAgdGl0bGU9IldoaXRlbGlzdCBJ
bmZvcm1hdGlvbiIsCiAgICAgICAgICAgIGRlc2NyaXB0aW9uPWYie3VzZXIubWVudGlvbn0gaXMg
bm90IHdoaXRlbGlzdGVkLiIKICAgICAgICApCiAgICAgICAgcmV0dXJuIGF3YWl0IGN0eC5zZW5k
KGVtYmVkPWVtYmVkKQoKICAgIGV4cCA9IHdsW3VpZF0KCiAgICBpZiBleHAgaXMgTm9uZToKICAg
ICAgICBleHBfc3RyID0gIkxpZmV0aW1lIgogICAgZWxpZiBleHAgaXMgTm9uZToKICAgICAgICBp
ZiB1c2VyLmlkIGluIE9XTkVSUzoKICAgICAgICAgICAgZXhwX3N0ciA9ICJPd25lciAoV2hpdGVs
aXN0ZWQpIgogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGV4cF9zdHIgPSAiTGlmZXRpbWUiCiAg
ICBlbHNlOgogICAgICAgIG5vd190cyA9IGludChkYXRldGltZS51dGNub3coKS50aW1lc3RhbXAo
KSkKICAgICAgICBpZiBleHAgPD0gbm93X3RzOgogICAgICAgICAgICBleHBfc3RyID0gIkV4cGly
ZWQiCiAgICAgICAgZWxzZToKICAgICAgICAgICAgZXhwaXJ5ID0gZGF0ZXRpbWUuZnJvbXRpbWVz
dGFtcChleHApCiAgICAgICAgICAgIGV4cF9zdHIgPSBmIjx0OntpbnQoZXhwaXJ5LnRpbWVzdGFt
cCgpKX06Uj4iCgoKCiAgICBlbWJlZCA9IGNyZWF0ZV9lbWJlZCgKICAgICAgICB0aXRsZT0iV2hp
dGVsaXN0IEluZm9ybWF0aW9uIiwKICAgICAgICBkZXNjcmlwdGlvbj0iIgogICAgKQogICAgZW1i
ZWQuYWRkX2ZpZWxkKG5hbWU9IlVzZXIiLCB2YWx1ZT11c2VyLm1lbnRpb24sIGlubGluZT1GYWxz
ZSkKICAgIGVtYmVkLmFkZF9maWVsZChuYW1lPSJFeHBpcmVzIiwgdmFsdWU9ZXhwX3N0ciwgaW5s
aW5lPUZhbHNlKQoKICAgIGF3YWl0IGN0eC5zZW5kKGVtYmVkPWVtYmVkKQoKIyA9PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PQojICAgICAgICAgICAgICAgICAgICAgQ09NTUFORDogTE9DSy9VTkxPQ0sKIyA9
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PQpAYm90LmNvbW1hbmQobmFtZT0ibG9jayIpCmFzeW5jIGRlZiBs
b2NrX2NtZChjdHgpOgogICAgaWYgY3R4LmF1dGhvci5pZCBub3QgaW4gT1dORVJTOgogICAgICAg
IGF3YWl0IGN0eC5zZW5kKCJZb3UgZG8gbm90IGhhdmUgcGVybWlzc2lvbiB0byB1c2UgdGhpcyBj
b21tYW5kLiIpCiAgICAgICAgcmV0dXJuCiAgICBnbG9iYWwgbG9ja2VkCiAgICBpZiBsb2NrZWQ6
CiAgICAgICAgYXdhaXQgY3R4LnNlbmQoIlRoZSBjaGVja2VyIGlzIGFscmVhZHkgbG9ja2VkLiIp
CiAgICAgICAgcmV0dXJuCiAgICBsb2NrZWQgPSBUcnVlCiAgICBlbWJlZCA9IGNyZWF0ZV9lbWJl
ZCgKICAgICAgICB0aXRsZT0iQ2hlY2tlciBMb2NrZWQg8J+UkiIsCiAgICAgICAgZGVzY3JpcHRp
b249IlRoZSBjaGVja2VyIGhhcyBiZWVuIGxvY2tlZCBhbmQgaXMgbm93IGluYWNjZXNzaWJsZS4i
CiAgICApCiAgICBhd2FpdCBjdHguc2VuZChlbWJlZD1lbWJlZCkKCkBib3QuY29tbWFuZChuYW1l
PSJ1bmxvY2siKQphc3luYyBkZWYgdW5sb2NrX2NtZChjdHgpOgogICAgaWYgY3R4LmF1dGhvci5p
ZCBub3QgaW4gT1dORVJTOgogICAgICAgIGF3YWl0IGN0eC5zZW5kKCJZb3UgZG8gbm90IGhhdmUg
cGVybWlzc2lvbiB0byB1c2UgdGhpcyBjb21tYW5kLiIpCiAgICAgICAgcmV0dXJuCiAgICBnbG9i
YWwgbG9ja2VkCiAgICBpZiBub3QgbG9ja2VkOgogICAgICAgIGF3YWl0IGN0eC5zZW5kKCJUaGUg
Y2hlY2tlciBpcyBhbHJlYWR5IHVubG9ja2VkLiIpCiAgICAgICAgcmV0dXJuCiAgICBsb2NrZWQg
PSBGYWxzZQogICAgZW1iZWQgPSBjcmVhdGVfZW1iZWQoCiAgICAgICAgdGl0bGU9IkNoZWNrZXIg
VW5sb2NrZWQg8J+UkyIsCiAgICAgICAgZGVzY3JpcHRpb249IlRoZSBjaGVja2VyIGlzIG5vdyB1
bmxvY2tlZCBhbmQgYWNjZXNzaWJsZS4iCiAgICApCiAgICBhd2FpdCBjdHguc2VuZChlbWJlZD1l
bWJlZCkKCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KIyAgICAgICAgICAgICAgICAgICAgIENPTU1B
TkQ6IENMRUFSCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KQGJvdC5jb21tYW5kKG5hbWU9ImNsZWFy
IikKQGNvbW1hbmRzLmhhc19wZXJtaXNzaW9ucyhtYW5hZ2VfbWVzc2FnZXM9VHJ1ZSkKYXN5bmMg
ZGVmIGNsZWFyX2NtZChjdHgsIGFtb3VudDogc3RyKToKICAgIGlmIGN0eC5hdXRob3IuaWQgbm90
IGluIE9XTkVSUzoKICAgICAgICBhd2FpdCBjdHguc2VuZCgiWW91IGRvIG5vdCBoYXZlIHBlcm1p
c3Npb24gdG8gdXNlIHRoaXMgY29tbWFuZC4iLCBkZWxldGVfYWZ0ZXI9NSkKICAgICAgICByZXR1
cm4KCiAgICBpZiBhbW91bnQubG93ZXIoKSA9PSAiYWxsIjoKICAgICAgICBkZWxldGVkID0gYXdh
aXQgY3R4LmNoYW5uZWwucHVyZ2UoKQogICAgICAgIGF3YWl0IGN0eC5zZW5kKGYiQ2xlYXJlZCAq
KntsZW4oZGVsZXRlZCktMX0qKiBtZXNzYWdlcyIsIGRlbGV0ZV9hZnRlcj01KQogICAgZWxzZToK
ICAgICAgICB0cnk6CiAgICAgICAgICAgIG51bSA9IGludChhbW91bnQpCiAgICAgICAgICAgIGlm
IG51bSA8IDE6CiAgICAgICAgICAgICAgICBhd2FpdCBjdHguc2VuZCgiUGxlYXNlIHNwZWNpZnkg
YSBwb3NpdGl2ZSBudW1iZXIuIiwgZGVsZXRlX2FmdGVyPTUpCiAgICAgICAgICAgICAgICByZXR1
cm4KICAgICAgICAgICAgZGVsZXRlZCA9IGF3YWl0IGN0eC5jaGFubmVsLnB1cmdlKGxpbWl0PW51
bSArIDEpICAjICsxIHRvIGRlbGV0ZSB0aGUgY29tbWFuZCBtZXNzYWdlCiAgICAgICAgICAgIGF3
YWl0IGN0eC5zZW5kKGYiQ2xlYXJlZCAqKntsZW4oZGVsZXRlZCktMX0qKiBtZXNzYWdlcy4iLCBk
ZWxldGVfYWZ0ZXI9NSkKICAgICAgICBleGNlcHQgVmFsdWVFcnJvcjoKICAgICAgICAgICAgYXdh
aXQgY3R4LnNlbmQoIkludmFsaWQgYW1vdW50ISIsIGRlbGV0ZV9hZnRlcj01KQoKIyA9PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PQojICAgICAgICAgICAgICAgICAgICAgQ09NTUFORDogU0VUVVAKIyA9PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PQpAYm90LmNvbW1hbmQobmFtZT0ic2V0dXAiKQphc3luYyBkZWYgc2V0
dXAoY3R4KToKICAgICMgT05MWSBBTExPV0VEIElOIE9SSUdJTkFMIFNFUlZFUgogICAgaWYgY3R4
Lmd1aWxkLmlkICE9IE9SSUdJTkFMX1NFUlZFUl9JRDoKICAgICAgICBhd2FpdCBjdHguc2VuZCgi
4p2MIFRoaXMgY29tbWFuZCBjYW4gb25seSBiZSB1c2VkIGluIHRoZSBvZmZpY2lhbCBzZXJ2ZXIu
IikKICAgICAgICByZXR1cm4KICAgICAgICAKICAgICMgT05MWSBGT1IgT1dORVJTCiAgICBpZiBj
dHguYXV0aG9yLmlkIG5vdCBpbiBPV05FUlM6CiAgICAgICAgYXdhaXQgY3R4LnNlbmQoIvCflJIg
WW91IGRvIG5vdCBoYXZlIHBlcm1pc3Npb24gdG8gdXNlIHRoaXMgY29tbWFuZC4iKQogICAgICAg
IHJldHVybgoKICAgIGF3YWl0IGN0eC5zZW5kKCJMb2NraW5nIGRvd24gcGVybWlzc2lvbnMgZm9y
IEBldmVyeW9uZSBhY3Jvc3MgYWxsIGNoYW5uZWxzLi4uIikKCiAgICBndWlsZCA9IGN0eC5ndWls
ZAogICAgZXZlcnlvbmVfcm9sZSA9IGd1aWxkLmRlZmF1bHRfcm9sZQogICAgdXBkYXRlZCA9IDAK
CiAgICBhbGxvd2VkX3Blcm1pc3Npb25zID0gewogICAgICAgICd2aWV3X2NoYW5uZWwnOiBUcnVl
LAogICAgICAgICdjcmVhdGVfaW5zdGFudF9pbnZpdGUnOiBUcnVlLAogICAgICAgICdhZGRfcmVh
Y3Rpb25zJzogVHJ1ZSwKICAgICAgICAncmVhZF9tZXNzYWdlX2hpc3RvcnknOiBUcnVlCiAgICB9
CgogICAgZm9yIGNoYW5uZWwgaW4gZ3VpbGQuY2hhbm5lbHM6CiAgICAgICAgdHJ5OgogICAgICAg
ICAgICBvdmVyd3JpdGVzID0gY2hhbm5lbC5vdmVyd3JpdGVzX2ZvcihldmVyeW9uZV9yb2xlKQoK
ICAgICAgICAgICAgZm9yIHBlcm0gaW4gZGlzY29yZC5QZXJtaXNzaW9ucy5WQUxJRF9GTEFHUzoK
ICAgICAgICAgICAgICAgIHNldGF0dHIob3ZlcndyaXRlcywgcGVybSwgRmFsc2UpCgogICAgICAg
ICAgICBmb3IgcGVybSwgdmFsdWUgaW4gYWxsb3dlZF9wZXJtaXNzaW9ucy5pdGVtcygpOgogICAg
ICAgICAgICAgICAgc2V0YXR0cihvdmVyd3JpdGVzLCBwZXJtLCB2YWx1ZSkKCiAgICAgICAgICAg
IGF3YWl0IGNoYW5uZWwuc2V0X3Blcm1pc3Npb25zKGV2ZXJ5b25lX3JvbGUsIG92ZXJ3cml0ZT1v
dmVyd3JpdGVzKQogICAgICAgICAgICB1cGRhdGVkICs9IDEKICAgICAgICBleGNlcHQgRXhjZXB0
aW9uIGFzIGU6CiAgICAgICAgICAgIHByaW50KGYiRmFpbGVkIHRvIHVwZGF0ZSB7Y2hhbm5lbC5u
YW1lfToge2V9IikKCiAgICBlbWJlZCA9IGNyZWF0ZV9lbWJlZCgKICAgICAgICAiU2V0dXAgQ29t
cGxldGUiLAogICAgICAgIGYiVXBkYXRlZCBwZXJtaXNzaW9ucyBpbiAqKnt1cGRhdGVkfSoqIGNo
YW5uZWxzIGZvciBgQGV2ZXJ5b25lYC4iCiAgICApCiAgICBhd2FpdCBjdHguc2VuZChlbWJlZD1l
bWJlZCkKCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KIyAgICAgICAgICAgICAgICAgICAgIENPTU1B
TkQ6IFBSSUNFIExJU1QKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQpAYm90LmNvbW1hbmQobmFtZT0i
cHJpY2VsaXN0IikKYXN5bmMgZGVmIHByaWNlX2xpc3QoY3R4KToKICAgIGVtYmVkID0gY3JlYXRl
X2VtYmVkKAogICAgICAgIHRpdGxlPSLwn5K4IFByaWNlIExpc3QiLAogICAgICAgIGRlc2NyaXB0
aW9uPSgKICAgICAgICAgICAgIuKPsyAxIERheVxuIgogICAgICAgICAgICAiMSRcbiIKICAgICAg
ICAgICAgIvCfk4YgMSBXZWVrXG4iCiAgICAgICAgICAgICIzJFxuIgogICAgICAgICAgICAi8J+X
k++4jyAxIE1vbnRoXG4iCiAgICAgICAgICAgICI3JFxuIgogICAgICAgICAgICAi4pm+77iPIExp
ZmV0aW1lXG4iCiAgICAgICAgICAgICIyMCQiCiAgICAgICAgKQogICAgKQogICAgYXdhaXQgY3R4
LnNlbmQoZW1iZWQ9ZW1iZWQpCgojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiMgICAgICAgICAgICAg
ICAgICAgICBDT01NQU5EOiBCT09TVCBSRVdBUkRTCiMgPT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KQGJv
dC5jb21tYW5kKG5hbWU9ImJvb3N0LXJld2FyZCIpCmFzeW5jIGRlZiBib29zdF9yZXdhcmQoY3R4
KToKICAgIGVtYmVkID0gY3JlYXRlX2VtYmVkKAogICAgICAgIHRpdGxlPSLinKggQm9vc3QgUmV3
YXJkcyIsCiAgICAgICAgZGVzY3JpcHRpb249KAogICAgICAgICAgICAi8J+foyAqKjEgQm9vc3Qq
KiAg4oaSICA3IGRheXMgb2YgYWNjZXNzXG4iCiAgICAgICAgICAgICLwn5+iICoqMiBCb29zdHMq
KiDihpIgMSBtb250aCBvZiBhY2Nlc3NcbiIKICAgICAgICAgICAgIvCflLUgKiozIEJvb3N0cyoq
IOKGkiAzIG1vbnRocyBvZiBhY2Nlc3NcbiIKICAgICAgICAgICAgIvCfn6AgKio0IEJvb3N0cyoq
IOKGkiA2IG1vbnRocyBvZiBhY2Nlc3NcbiIKICAgICAgICAgICAgIvCfn6EgKio1IEJvb3N0cyoq
IOKGkiAxIHllYXIgb2YgYWNjZXNzXG4iCiAgICAgICAgICAgICLwn5S0ICoqNiBCb29zdHMqKiDi
hpIgTGlmZXRpbWUgYWNjZXNzXG4iCiAgICAgICAgKQogICAgKQogICAgYXdhaXQgY3R4LnNlbmQo
ZW1iZWQ9ZW1iZWQpCgojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiMgICAgICAgICAgICAgICAgICAg
ICBDT01NQU5EOiBJTlZJVEUgUkVXQVJEUwojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CkBib3QuY29t
bWFuZChuYW1lPSJpbnZpdGUtcmV3YXJkIikKYXN5bmMgZGVmIGludml0ZV9yZXdhcmQoY3R4KToK
ICAgIGVtYmVkID0gY3JlYXRlX2VtYmVkKAogICAgICAgIHRpdGxlPSLwn46JIEludml0ZSBSZXdh
cmRzIiwKICAgICAgICBkZXNjcmlwdGlvbj0oCiAgICAgICAgICAgICLwn5GlICoqMiBJbnZpdGVz
KiogIOKGkiAgMSBkYXkgb2YgYWNjZXNzXG4iCiAgICAgICAgICAgICLwn5GlICoqNSBJbnZpdGVz
KiogIOKGkiAgMyBkYXlzIG9mIGFjY2Vzc1xuIgogICAgICAgICAgICAi8J+RpSAqKjEwIEludml0
ZXMqKiDihpIgNyBkYXlzIG9mIGFjY2Vzc1xuIiAKICAgICAgICAgICAgIvCfkaUgKioyMCBJbnZp
dGVzKiog4oaSIDE0IGRheXMgb2YgYWNjZXNzXG4iCiAgICAgICAgICAgICLwn5GlICoqNTAgSW52
aXRlcyoqIOKGkiAzMCBkYXlzIG9mIGFjY2Vzc1xuIiAKICAgICAgICAgICAgIvCfkaUgKioxMDAg
SW52aXRlcyoqIOKGkiA2MCBkYXlzIG9mIGFjY2Vzc1xuIiAKICAgICAgICAgICAgIvCfkaUgKioy
MDAgSW52aXRlcyoqIOKGkiA5MCBkYXlzIG9mIGFjY2Vzc1xuIgogICAgICAgICAgICAi8J+RpSAq
KjUwMCBJbnZpdGVzKiog4oaSIDE4MCBkYXlzIG9mIGFjY2Vzc1xuIgogICAgICAgICAgICAi8J+R
pSAqKjEwMDAgSW52aXRlcyoqIOKGkiBMaWZldGltZSBhY2Nlc3NcbiIKICAgICAgICApCiAgICAp
CiAgICBhd2FpdCBjdHguc2VuZChlbWJlZD1lbWJlZCkKCiMgPT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0K
IyAgICAgICAgICAgICAgICAgICAgIENPTU1BTkQ6IExFQURFUkJPQVJECiMgPT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT0KQGJvdC50cmVlLmNvbW1hbmQobmFtZT0ibGVhZGVyYm9hcmQiLCBkZXNjcmlwdGlv
bj0iVmlldyB0aGUgbGVhZGVyYm9hcmQgb2YgdGhlIG1vc3QgaW5ib3ggaGl0cyBmb3IgeW91ciBD
b21ib3MiKQpAY2hlY2tfYWxsb3dlZF93cmFwcGVyCmFzeW5jIGRlZiBsZWFkZXJib2FyZF9jb21t
YW5kKGludGVyYWN0aW9uOiBkaXNjb3JkLkludGVyYWN0aW9uKSAtPiBOb25lOgogICAgdXNlcl9p
ZCA9IGludGVyYWN0aW9uLnVzZXIuaWQKICAgIHNlc3Npb24gPSBnZXRfdXNlcl9zZXNzaW9uKHVz
ZXJfaWQpCgogICAgaWYgbm90IHNlc3Npb25bInJlc3VsdHNfY2FjaGUiXToKICAgICAgICBlbWJl
ZCA9IGNyZWF0ZV9lbWJlZCgKICAgICAgICAgICAgdGl0bGU9IkxlYWRlcmJvYXJkIiwKICAgICAg
ICAgICAgZGVzY3JpcHRpb249Ik5vIHJlc3VsdHMgZm91bmQuIFBsZWFzZSBydW4gYSBjaGVjayBm
aXJzdC4iLAogICAgICAgICAgICBjb2xvcj1kaXNjb3JkLkNvbG9yLnJlZCgpCiAgICAgICAgKQog
ICAgICAgIGF3YWl0IGludGVyYWN0aW9uLnJlc3BvbnNlLnNlbmRfbWVzc2FnZShlbWJlZD1lbWJl
ZCwgZXBoZW1lcmFsPVRydWUpCiAgICAgICAgcmV0dXJuCgogICAgc29ydGVkX3Jlc3VsdHMgPSBz
b3J0ZWQoc2Vzc2lvblsicmVzdWx0c19jYWNoZSJdLml0ZW1zKCksIGtleT1sYW1iZGEgeDogbGVu
KHhbMV0pLCByZXZlcnNlPVRydWUpCiAgICBsZWFkZXJib2FyZF90ZXh0ID0gIlxuIi5qb2luKFtm
IntzZXJ2aWNlfToge2xlbihyZXN1bHRzKX0iIGZvciBzZXJ2aWNlLCByZXN1bHRzIGluIHNvcnRl
ZF9yZXN1bHRzXSkKCiAgICBlbWJlZCA9IGNyZWF0ZV9lbWJlZCgKICAgICAgICB0aXRsZT0iTGVh
ZGVyYm9hcmQiLAogICAgICAgIGRlc2NyaXB0aW9uPWxlYWRlcmJvYXJkX3RleHQgb3IgIk5vIHZh
bGlkIGFjY291bnRzIGZvdW5kLiIsCiAgICAgICAgY29sb3I9ZGlzY29yZC5Db2xvci5ibHVlKCkK
ICAgICkKICAgIAogICAgYXdhaXQgaW50ZXJhY3Rpb24ucmVzcG9uc2Uuc2VuZF9tZXNzYWdlKGVt
YmVkPWVtYmVkLCBlcGhlbWVyYWw9VHJ1ZSkKCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KIyAgICAg
ICAgICAgICAgICAgICAgIENPTU1BTkQ6IExJU1QgQUxMIENPTU1BTkRTCiMgPT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT0KQGJvdC50cmVlLmNvbW1hbmQobmFtZT0ibGlzdC1hbGwtYm90LWNvbW1hbmRzIiwg
ZGVzY3JpcHRpb249J0xpc3Qgb2YgYWxsIGNvbW1hbmRzIHRoaXMgYm90IGhhcyh3aXRoICIhIiBj
b21tYW5kcyBpbmNsdWRlZCknKQphc3luYyBkZWYgbGlzdF9hbGxfYm90X2NvbW1hbmRzKGludGVy
YWN0aW9uOiBkaXNjb3JkLkludGVyYWN0aW9uKSAtPiBOb25lOgogICAgY29tbWFuZHNfbGlzdCA9
IFtmIiF7Y29tbWFuZC5uYW1lfSIgZm9yIGNvbW1hbmQgaW4gYm90LmNvbW1hbmRzXQogICAgY29t
bWFuZHNfbGlzdCArPSBbZiIve2NvbW1hbmQubmFtZX0iIGZvciBjb21tYW5kIGluIGJvdC50cmVl
LmdldF9jb21tYW5kcygpXQoKICAgIGVtYmVkID0gY3JlYXRlX2VtYmVkKAogICAgICAgIHRpdGxl
PSJBbGwgQm90IENvbW1hbmRzIiwKICAgICAgICBkZXNjcmlwdGlvbj0iXG4iLmpvaW4oY29tbWFu
ZHNfbGlzdCkgb3IgIk5vIGNvbW1hbmRzIGZvdW5kLiIsCiAgICAgICAgY29sb3I9ZGlzY29yZC5D
b2xvci5ncmVlbigpCiAgICApCiAgICAKICAgIGF3YWl0IGludGVyYWN0aW9uLnJlc3BvbnNlLnNl
bmRfbWVzc2FnZShlbWJlZD1lbWJlZCwgZXBoZW1lcmFsPVRydWUpCgojID09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09CiMgICAgICAgICAgICAgICAgICAgICBDT01NQU5EOiBDVVNUT00gU0VBUkNICiMgPT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT0KQGJvdC50cmVlLmNvbW1hbmQobmFtZT0iY3VzdG9tc2VhcmNoIiwg
ZGVzY3JpcHRpb249IlNlYXJjaCBmb3IgYSBjdXN0b20ga2V5d29yZCBpbiB0aGUgaW5ib3giKQpA
YXBwX2NvbW1hbmRzLmRlc2NyaWJlKAogICAgY29tYm9fZmlsZT0iVGV4dCBmaWxlIHdpdGggZW1h
aWw6cGFzc3dvcmQgcGFpcnMiLAogICAga2V5d29yZD0iS2V5d29yZCB0byBzZWFyY2ggZm9yIGlu
IHRoZSBpbmJveCIKKQpAY2hlY2tfYWxsb3dlZF93cmFwcGVyCkBjaGVja2VyX3Jlc3RyaWN0aW9u
CmFzeW5jIGRlZiBjdXN0b21fc2VhcmNoX2NvbW1hbmQoaW50ZXJhY3Rpb246IGRpc2NvcmQuSW50
ZXJhY3Rpb24sIGNvbWJvX2ZpbGU6IGRpc2NvcmQuQXR0YWNobWVudCwga2V5d29yZDogc3RyKSAt
PiBOb25lOgogICAgdXNlcl9pZCA9IGludGVyYWN0aW9uLnVzZXIuaWQKICAgIHJlc2V0X3VzZXJf
c2Vzc2lvbih1c2VyX2lkKQogICAgcHJlcGFyZV91c2VyX3Nlc3Npb25fZm9sZGVyKHVzZXJfaWQp
CgogICAgYXdhaXQgaW50ZXJhY3Rpb24ucmVzcG9uc2UuZGVmZXIoKQogICAgCiAgICBmaWxlX2J5
dGVzID0gYXdhaXQgY29tYm9fZmlsZS5yZWFkKCkKICAgIGNvbWJvX2xpbmVzID0gW2xpbmUuc3Ry
aXAoKSBmb3IgbGluZSBpbiBmaWxlX2J5dGVzLmRlY29kZSgidXRmLTgiLCBlcnJvcnM9InJlcGxh
Y2UiKS5zcGxpdGxpbmVzKCkgaWYgIjoiIGluIGxpbmVdCiAgICAKICAgIHJlc3VsdHMgPSBbXQog
ICAgdG90YWxfY2hlY2tlZCA9IDAKICAgIHRvdGFsX2hpdHMgPSAwCgogICAgc3RhdHVzX21zZyA9
IGF3YWl0IGludGVyYWN0aW9uLmZvbGxvd3VwLnNlbmQoZW1iZWQ9Y3JlYXRlX2VtYmVkKAogICAg
ICAgIHRpdGxlPSLwn5SNIEN1c3RvbSBTZWFyY2giLAogICAgICAgIGRlc2NyaXB0aW9uPWYiU2Vh
cmNoaW5nIGluYm94ZXMgZm9yIGtleXdvcmQ6IGB7a2V5d29yZH1gXG5BY2NvdW50czoge2xlbihj
b21ib19saW5lcyl9XG5DaGVja2VkOiAwXG5IaXRzOiAwIiwKICAgICAgICBjb2xvcj1kaXNjb3Jk
LkNvbG9yLm9yYW5nZSgpCiAgICApLCB3YWl0PVRydWUpCgogICAgYXN5bmMgZGVmIHVwZGF0ZV9l
bWJlZCgpOgogICAgICAgIGVtYmVkID0gY3JlYXRlX2VtYmVkKAogICAgICAgICAgICB0aXRsZT0i
8J+UjSBDdXN0b20gU2VhcmNoIiwKICAgICAgICAgICAgZGVzY3JpcHRpb249ZiJTZWFyY2hpbmcg
aW5ib3hlcyBmb3Iga2V5d29yZDogYHtrZXl3b3JkfWBcbkFjY291bnRzOiB7bGVuKGNvbWJvX2xp
bmVzKX1cbkNoZWNrZWQ6IHt0b3RhbF9jaGVja2VkfVxuSGl0czoge3RvdGFsX2hpdHN9IiwKICAg
ICAgICAgICAgY29sb3I9ZGlzY29yZC5Db2xvci5vcmFuZ2UoKQogICAgICAgICkKICAgICAgICB0
cnk6CiAgICAgICAgICAgIGF3YWl0IHN0YXR1c19tc2cuZWRpdChlbWJlZD1lbWJlZCkKICAgICAg
ICBleGNlcHQ6IHBhc3MKCiAgICBhc3luYyBkZWYgcHJvY2Vzc19saW5lKGxpbmUpOgogICAgICAg
IG5vbmxvY2FsIHRvdGFsX2NoZWNrZWQsIHRvdGFsX2hpdHMKICAgICAgICBlbWFpbCwgcGFzc3dv
cmQgPSBsaW5lLnNwbGl0KCI6IiwgMSkKICAgICAgICByZXN1bHQgPSBhd2FpdCBhc3luY2lvLnRv
X3RocmVhZChzZWFyY2hfa2V5d29yZF9pbl9pbmJveCwgZW1haWwsIHBhc3N3b3JkLCBrZXl3b3Jk
KQogICAgICAgIHRvdGFsX2NoZWNrZWQgKz0gMQogICAgICAgIGlmIHJlc3VsdDoKICAgICAgICAg
ICAgdG90YWxfaGl0cyArPSAxCiAgICAgICAgICAgIHJlc3VsdHMuYXBwZW5kKHJlc3VsdCkKICAg
ICAgICBhd2FpdCB1cGRhdGVfZW1iZWQoKQoKICAgIGZvciBsaW5lIGluIGNvbWJvX2xpbmVzOgog
ICAgICAgIGlmIGdldF91c2VyX3Nlc3Npb24odXNlcl9pZClbInNob3VsZF9zdG9wIl06CiAgICAg
ICAgICAgIGJyZWFrCiAgICAgICAgYXdhaXQgcHJvY2Vzc19saW5lKGxpbmUpCgogICAgaWYgcmVz
dWx0czoKICAgICAgICBwYXRoID0gZiJ7UkVTVUxUU19GT0xERVJ9L3t1c2VyX2lkfS9zZWFyY2hf
cmVzdWx0cy50eHQiCiAgICAgICAgd2l0aCBvcGVuKHBhdGgsICJ3IiwgZW5jb2Rpbmc9InV0Zi04
IikgYXMgZjoKICAgICAgICAgICAgZi53cml0ZShmIktleXdvcmQ6IHtrZXl3b3JkfVxuXG4iKQog
ICAgICAgICAgICBmLndyaXRlKCJcbiIuam9pbihyZXN1bHRzKSkKCiAgICAgICAgZG0gPSBhd2Fp
dCBpbnRlcmFjdGlvbi51c2VyLmNyZWF0ZV9kbSgpCiAgICAgICAgYXdhaXQgZG0uc2VuZChmaWxl
PWRpc2NvcmQuRmlsZShwYXRoKSkKCiAgICAgICAgZmluYWxfZW1iZWQgPSBjcmVhdGVfZW1iZWQo
CiAgICAgICAgICAgIHRpdGxlPSLinIUgU2VhcmNoIENvbXBsZXRlIiwKICAgICAgICAgICAgZGVz
Y3JpcHRpb249ZiJGb3VuZCBge3RvdGFsX2hpdHN9YCBtYXRjaGluZyBpbmJveGVzIGZvciBrZXl3
b3JkIGB7a2V5d29yZH1gLiBSZXN1bHRzIHNlbnQgdmlhIERNLiIsCiAgICAgICAgICAgIGNvbG9y
PWRpc2NvcmQuQ29sb3IuZ3JlZW4oKQogICAgICAgICkKICAgIGVsc2U6CiAgICAgICAgZmluYWxf
ZW1iZWQgPSBjcmVhdGVfZW1iZWQoCiAgICAgICAgICAgIHRpdGxlPSLinYwgTm8gTWF0Y2hlcyBG
b3VuZCIsCiAgICAgICAgICAgIGRlc2NyaXB0aW9uPWYiTm8gaW5ib3hlcyBmb3VuZCBjb250YWlu
aW5nIHRoZSBrZXl3b3JkIGB7a2V5d29yZH1gLiIsCiAgICAgICAgICAgIGNvbG9yPWRpc2NvcmQu
Q29sb3IucmVkKCkKICAgICAgICApCgogICAgYXdhaXQgc3RhdHVzX21zZy5lZGl0KGVtYmVkPWZp
bmFsX2VtYmVkKQogICAgY2xlYXJfdXNlcl9yZXN1bHRzKHVzZXJfaWQpCgpkZWYgc2VhcmNoX2tl
eXdvcmRfaW5faW5ib3goZW1haWw6IHN0ciwgcGFzc3dvcmQ6IHN0ciwga2V5d29yZDogc3RyKSAt
PiBzdHIgfCBOb25lOgogICAgdHJ5OgogICAgICAgICMgT0F1dGggcmVxdWVzdAogICAgICAgIHIg
PSByZXF1ZXN0cy5nZXQoCiAgICAgICAgICAgICJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGlu
ZS5jb20vY29uc3VtZXJzL29hdXRoMi92Mi4wL2F1dGhvcml6ZSIKICAgICAgICAgICAgZiI/Y2xp
ZW50X2luZm89MSZoYXNjaHJvbWU9MSZsb2dpbl9oaW50PXtlbWFpbH0mbWt0PWVuIgogICAgICAg
ICAgICAiJnJlc3BvbnNlX3R5cGU9Y29kZSZjbGllbnRfaWQ9ZTliMTU0ZDAtNzY1OC00MzNiLWJi
MjUtNmI4ZTBhOGE3YzU5IgogICAgICAgICAgICAiJnNjb3BlPXByb2ZpbGUgb3BlbmlkIG9mZmxp
bmVfYWNjZXNzIGh0dHBzOi8vb3V0bG9vay5vZmZpY2UuY29tL00zNjUuQWNjZXNzIgogICAgICAg
ICAgICAiJnJlZGlyZWN0X3VyaT1tc2F1dGg6Ly9jb20ubWljcm9zb2Z0Lm91dGxvb2tsaXRlL2Zj
ZzgwcXZvTTFZTUtKWmliakJ3UWNEZk9ubyUzRCIsCiAgICAgICAgICAgIGhlYWRlcnM9eyJVc2Vy
LUFnZW50IjogIk1vemlsbGEvNS4wIn0sCiAgICAgICAgICAgIHRpbWVvdXQ9OAogICAgICAgICkK
ICAgICAgICBpZiByLnN0YXR1c19jb2RlICE9IDIwMDogcmV0dXJuIE5vbmUKICAgICAgICBodG1s
ID0gci50ZXh0CiAgICAgICAgaWYgInVybFBvc3Q6JyIgbm90IGluIGh0bWw6IHJldHVybiBOb25l
CiAgICAgICAgdXJsX3Bvc3QgPSBodG1sLnNwbGl0KCJ1cmxQb3N0OiciKVsxXS5zcGxpdCgiJyIp
WzBdCiAgICAgICAgUFBGVCA9IGh0bWwuc3BsaXQoJ25hbWU9IlBQRlQiIGlkPSJpMDMyNyIgdmFs
dWU9IicpWzFdLnNwbGl0KCciJylbMF0KICAgICAgICBjb29raWVzID0gci5jb29raWVzLmdldF9k
aWN0KCkKICAgICAgICAjIExvZ2luCiAgICAgICAgZGF0YSA9IHsKICAgICAgICAgICAgImxvZ2lu
IjogZW1haWwsICJwYXNzd2QiOiBwYXNzd29yZCwgIlBQRlQiOiBQUEZULCAidHlwZSI6ICIxMSIs
CiAgICAgICAgICAgICJOZXdVc2VyIjogIjEiLCAiUFBTWCI6ICJQYXNzcG9ydFIiLCAiaXNTaWdu
dXBQb3N0IjogIjAiLCAiaTE5IjogIjk5NjAiCiAgICAgICAgfQogICAgICAgIGhlYWRlcnMgPSB7
CiAgICAgICAgICAgICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxl
bmNvZGVkIiwKICAgICAgICAgICAgIlVzZXItQWdlbnQiOiAiTW96aWxsYS81LjAiLAogICAgICAg
ICAgICAiQ29va2llIjogIjsgIi5qb2luKGYie2t9PXt2fSIgZm9yIGssIHYgaW4gY29va2llcy5p
dGVtcygpKQogICAgICAgIH0KICAgICAgICByZXMgPSByZXF1ZXN0cy5wb3N0KHVybF9wb3N0LCBk
YXRhPWRhdGEsIGhlYWRlcnM9aGVhZGVycywgYWxsb3dfcmVkaXJlY3RzPUZhbHNlLCB0aW1lb3V0
PTgpCiAgICAgICAgbG9jID0gcmVzLmhlYWRlcnMuZ2V0KCJMb2NhdGlvbiIsICIiKQogICAgICAg
IGlmICJjb2RlPSIgbm90IGluIGxvYzogcmV0dXJuIE5vbmUKICAgICAgICBhdXRoX2NvZGUgPSBs
b2Muc3BsaXQoImNvZGU9IilbMV0uc3BsaXQoIiYiKVswXQoKICAgICAgICAjIFRva2VuCiAgICAg
ICAgdG9rZW5fcmVzID0gcmVxdWVzdHMucG9zdCgKICAgICAgICAgICAgImh0dHBzOi8vbG9naW4u
bWljcm9zb2Z0b25saW5lLmNvbS9jb25zdW1lcnMvb2F1dGgyL3YyLjAvdG9rZW4iLAogICAgICAg
ICAgICBkYXRhPXsKICAgICAgICAgICAgICAgICJjbGllbnRfaW5mbyI6ICIxIiwKICAgICAgICAg
ICAgICAgICJjbGllbnRfaWQiOiAiZTliMTU0ZDAtNzY1OC00MzNiLWJiMjUtNmI4ZTBhOGE3YzU5
IiwKICAgICAgICAgICAgICAgICJyZWRpcmVjdF91cmkiOiAibXNhdXRoOi8vY29tLm1pY3Jvc29m
dC5vdXRsb29rbGl0ZS9mY2c4MHF2b00xWU1LSlppYmpCd1FjRGZPbm8lM0QiLAogICAgICAgICAg
ICAgICAgImdyYW50X3R5cGUiOiAiYXV0aG9yaXphdGlvbl9jb2RlIiwKICAgICAgICAgICAgICAg
ICJjb2RlIjogYXV0aF9jb2RlLAogICAgICAgICAgICAgICAgInNjb3BlIjogInByb2ZpbGUgb3Bl
bmlkIG9mZmxpbmVfYWNjZXNzIGh0dHBzOi8vb3V0bG9vay5vZmZpY2UuY29tL00zNjUuQWNjZXNz
IgogICAgICAgICAgICB9LAogICAgICAgICAgICBoZWFkZXJzPXsiQ29udGVudC1UeXBlIjogImFw
cGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCJ9LAogICAgICAgICAgICB0aW1lb3V0PTgK
ICAgICAgICApCiAgICAgICAgdG9rZW5fZGF0YSA9IHRva2VuX3Jlcy5qc29uKCkKICAgICAgICB0
b2tlbiA9IHRva2VuX2RhdGEuZ2V0KCJhY2Nlc3NfdG9rZW4iLCBOb25lKQogICAgICAgIGlmIG5v
dCB0b2tlbjogcmV0dXJuIE5vbmUKCiAgICAgICAgIyBTZWFyY2ggaW5ib3gKICAgICAgICBzZWFy
Y2hfdXJsID0gZiJodHRwczovL291dGxvb2sub2ZmaWNlLmNvbS9hcGkvdjIuMC9tZS9tZXNzYWdl
cz8kc2VhcmNoPVwie2tleXdvcmR9XCIiCiAgICAgICAgc2VhcmNoX3JlcyA9IHJlcXVlc3RzLmdl
dChzZWFyY2hfdXJsLCBoZWFkZXJzPXsKICAgICAgICAgICAgIkF1dGhvcml6YXRpb24iOiBmIkJl
YXJlciB7dG9rZW59IiwKICAgICAgICAgICAgIlVzZXItQWdlbnQiOiAiTW96aWxsYS81LjAiCiAg
ICAgICAgfSwgdGltZW91dD04KQoKICAgICAgICBpZiBzZWFyY2hfcmVzLnN0YXR1c19jb2RlICE9
IDIwMDogcmV0dXJuIE5vbmUKICAgICAgICBtZXNzYWdlcyA9IHNlYXJjaF9yZXMuanNvbigpLmdl
dCgidmFsdWUiLCBbXSkKICAgICAgICBpZiBub3QgbWVzc2FnZXM6IHJldHVybiBOb25lCgogICAg
ICAgIGVudHJpZXMgPSBbXQogICAgICAgIGZvciBtc2cgaW4gbWVzc2FnZXNbOjNdOiAgIyBMaW1p
dCByZXN1bHRzCiAgICAgICAgICAgIHN1YmogPSBtc2cuZ2V0KCJTdWJqZWN0IiwgIk5vIFN1Ympl
Y3QiKQogICAgICAgICAgICBmcm0gPSBtc2cuZ2V0KCJTZW5kZXIiLCB7fSkuZ2V0KCJFbWFpbEFk
ZHJlc3MiLCB7fSkuZ2V0KCJBZGRyZXNzIiwgIlVua25vd24iKQogICAgICAgICAgICBkdCA9IG1z
Zy5nZXQoIlJlY2VpdmVkRGF0ZVRpbWUiLCAiVW5rbm93biIpCiAgICAgICAgICAgIGVudHJpZXMu
YXBwZW5kKGYie2VtYWlsfSB8IEZyb206IHtmcm19IHwgU3ViamVjdDoge3N1Ymp9IHwgRGF0ZTog
e2R0fSIpCgogICAgICAgIHJldHVybiAiXG4iLmpvaW4oZW50cmllcykKCiAgICBleGNlcHQgRXhj
ZXB0aW9uIGFzIGU6CiAgICAgICAgcHJpbnQoZiJbU2VhcmNoIEVycm9yXSB7ZW1haWx9IC0ge2V9
IikKICAgICAgICByZXR1cm4gTm9uZQoKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQojICAgICAgICAg
ICAgICAgICAgICAgQ09NTUFORDogUkVMT0FEIENPTkZJRwojID09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
CkBib3QuY29tbWFuZChuYW1lPSJyZWxvYWRjb25maWciKQpAY29tbWFuZHMuaXNfb3duZXIoKQph
c3luYyBkZWYgcmVsb2FkX2NvbmZpZyhjdHgpOgogICAgIiIiUmVsb2FkIHRoZSBjb25maWd1cmF0
aW9uIGZyb20gY29uZmlnLmpzb24gKE93bmVyIG9ubHkpIiIiCiAgICBnbG9iYWwgVE9LRU4sIFJF
UVVJUkVEX0dVSUxEX0lELCBSRVFVSVJFRF9ST0xFX0lELCBBTExPV0VEX0NIQU5ORUxfSUQsIE9X
TkVSUywgQ09PTERPV05fU0VDT05EUywgQkFOTkVSX1VSTCwgUkVTVUxUU19GT0xERVIKICAgIAog
ICAgdHJ5OgogICAgICAgIHdpdGggb3BlbigiY29uZmlnLmpzb24iLCAiciIpIGFzIGY6CiAgICAg
ICAgICAgIG5ld19jb25maWcgPSBqc29uLmxvYWQoZikKICAgICAgICAgICAgCiAgICAgICAgIyBV
cGRhdGUgZ2xvYmFsIHZhcmlhYmxlcwogICAgICAgIFRPS0VOID0gbmV3X2NvbmZpZ1siVE9LRU4i
XQogICAgICAgIFJFUVVJUkVEX0dVSUxEX0lEID0gbmV3X2NvbmZpZ1siUkVRVUlSRURfR1VJTERf
SUQiXQogICAgICAgIFJFUVVJUkVEX1JPTEVfSUQgPSBuZXdfY29uZmlnWyJSRVFVSVJFRF9ST0xF
X0lEIl0KICAgICAgICBBTExPV0VEX0NIQU5ORUxfSUQgPSBuZXdfY29uZmlnWyJBTExPV0VEX0NI
QU5ORUxfSUQiXQogICAgICAgIE9XTkVSUyA9IHNldChuZXdfY29uZmlnWyJPV05FUlMiXSkKICAg
ICAgICBDT09MRE9XTl9TRUNPTkRTID0gbmV3X2NvbmZpZ1siQ09PTERPV05fU0VDT05EUyJdCiAg
ICAgICAgQkFOTkVSX1VSTCA9IG5ld19jb25maWdbIkJBTk5FUl9VUkwiXQogICAgICAgIFJFU1VM
VFNfRk9MREVSID0gbmV3X2NvbmZpZ1siUkVTVUxUU19GT0xERVIiXQogICAgICAgIAogICAgICAg
IGF3YWl0IGN0eC5zZW5kKCLinIUgQ29uZmlndXJhdGlvbiByZWxvYWRlZCBzdWNjZXNzZnVsbHkh
IikKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBhd2FpdCBjdHguc2VuZChmIuKd
jCBFcnJvciByZWxvYWRpbmcgY29uZmlnOiB7c3RyKGUpfSIpCgojID09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09CiMgICAgICAgICAgICAgICAgICAgICBDT01NQU5EOiBJTkZPIChXSVRIIEJVVFRPTlMpCiMg
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT0KY2xhc3MgSW5mb1ZpZXcoZGlzY29yZC51aS5WaWV3KToKICAg
IGRlZiBfX2luaXRfXyhzZWxmLCBpc19zcG9uc29yOiBib29sID0gRmFsc2UpOgogICAgICAgIHN1
cGVyKCkuX19pbml0X18odGltZW91dD1Ob25lKQogICAgICAgIHNlbGYuaXNfc3BvbnNvciA9IGlz
X3Nwb25zb3IKICAgICAgICAKICAgIEBkaXNjb3JkLnVpLmJ1dHRvbihsYWJlbD0iQWJvdXQiLCBz
dHlsZT1kaXNjb3JkLkJ1dHRvblN0eWxlLnByaW1hcnksIGN1c3RvbV9pZD0iYWJvdXRfYnRuIiwg
ZW1vamk9IvCfk50iKQogICAgYXN5bmMgZGVmIGFib3V0X2J1dHRvbihzZWxmLCBpbnRlcmFjdGlv
bjogZGlzY29yZC5JbnRlcmFjdGlvbiwgYnV0dG9uOiBkaXNjb3JkLnVpLkJ1dHRvbik6CiAgICAg
ICAgZGVzY3JpcHRpb24gPSAoCiAgICAgICAgICAgICIqKkdIUCBNYWlsIEJvdCoqIGlzIGFuIGFk
dmFuY2VkIERpc2NvcmQgdG9vbCBmb3IgdmVyaWZ5aW5nIGFjY291bnQgY3JlZGVudGlhbHMgYW5k
IHNjYW5uaW5nIGluYm94ZXMgZm9yIHNlcnZpY2UtcmVsYXRlZCBlbWFpbHMuXG5cbiIKICAgICAg
ICApCiAgICAgICAgCiAgICAgICAgaWYgc2VsZi5pc19zcG9uc29yOgogICAgICAgICAgICBkZXNj
cmlwdGlvbiArPSAoCiAgICAgICAgICAgICAgICAi8J+UkiAqKllvdSdyZSB1c2luZyB0aGUgbGlt
aXRlZCBzcG9uc29yIHZlcnNpb24qKlxuIgogICAgICAgICAgICAgICAgIkZlYXR1cmVzOlxuIgog
ICAgICAgICAgICAgICAgIi0gQmFzaWMgTWljcm9zb2Z0L0dvb2dsZSBhY2NvdW50IGNoZWNraW5n
XG4iCiAgICAgICAgICAgICAgICAiLSBMaW1pdGVkIHNlcnZpY2UgZGV0ZWN0aW9uICg4IHNlcnZp
Y2VzKVxuIgogICAgICAgICAgICAgICAgIi0gTG9uZ2VyIGNvb2xkb3duc1xuXG4iCiAgICAgICAg
ICAgICAgICAi4pyoICoqUHJlbWl1bSBGZWF0dXJlczoqKlxuIgogICAgICAgICAgICAgICAgIi0g
MjAwKyBzZXJ2aWNlIGRldGVjdGlvbnNcbiIKICAgICAgICAgICAgICAgICItIFByaW9yaXR5IHBy
b2Nlc3NpbmdcbiIKICAgICAgICAgICAgICAgICItIFJlYWwtdGltZSBDUE0gc3RhdHNcbiIKICAg
ICAgICAgICAgICAgICItIE5vIGNvb2xkb3duc1xuIgogICAgICAgICAgICAgICAgIi0gQWR2YW5j
ZWQgaW5ib3ggc2Nhbm5pbmdcbiIKICAgICAgICAgICAgKQogICAgICAgIGVsc2U6CiAgICAgICAg
ICAgIGRlc2NyaXB0aW9uICs9ICgKICAgICAgICAgICAgICAgICIjIyMg8J+agCBXaHkgR0hQIENo
ZWNrZXI/XG4iCiAgICAgICAgICAgICAgICAi4oCiICoqTGlnaHRuaW5nLUZhc3QgRG9tYWluIERl
dGVjdGlvbjoqKiBJbnN0YW50bHkgaWRlbnRpZmllcyBhbmQgc29ydHMgYWNjb3VudHMgYnkgcHJv
dmlkZXIgZm9yIG9wdGltYWwgY2hlY2tpbmcuXG4iCiAgICAgICAgICAgICAgICAi4oCiICoqTXVs
dGktU2VydmljZSBDb3ZlcmFnZToqKiBTdXBwb3J0cyAqKjIwMCsqKiBwb3B1bGFyIHBsYXRmb3Jt
cyBpbmNsdWRpbmcgYFJvYmxveGAsIGBGYWNlYm9va2AsIGBOZXRmbGl4YCwgYE1pY3Jvc29mdGAs
IGBHb29nbGVgLCBhbmQgbW9yZS5cbiIKICAgICAgICAgICAgICAgICLigKIgKipJbmJveCBLZXl3
b3JkIFNjYW5uaW5nOioqIEF1dG9tYXRpY2FsbHkgc2VhcmNoZXMgaW5ib3hlcyBmb3IgdmVyaWZp
Y2F0aW9uIGFuZCBzZXJ2aWNlIGVtYWlscyB0byBjb25maXJtIHRydWUgYWNjZXNzLlxuIgogICAg
ICAgICAgICAgICAgIuKAoiAqKlJlYWwtVGltZSBTdGF0czoqKiBMaXZlIHVwZGF0ZXMgb24gcHJv
Z3Jlc3MsIGhpdHMsIENQTSwgYW5kIHNlcnZpY2UgYnJlYWtkb3ducyBkdXJpbmcgY2hlY2tzLlxu
IgogICAgICAgICAgICAgICAgIuKAoiAqKlVzZXItRnJpZW5kbHk6KiogU2ltcGxlIGNvbW1hbmRz
LCBpbnRlcmFjdGl2ZSBidXR0b25zLCBhbmQgY2xlYXIgcmVzdWx0IGRlbGl2ZXJ5IHZpYSBETS5c
biIKICAgICAgICAgICAgICAgICLigKIgKipGbGV4aWJsZSBBY2Nlc3M6KiogRnJlZSAyNC1ob3Vy
IHRyaWFsLCBwcmVtaXVtIG9wdGlvbnMsIGFuZCBvd25lci93aGl0ZWxpc3QgY29udHJvbHMuXG5c
biIKICAgICAgICAgICAgICAgICI+IFdoZXRoZXIgeW91J3JlIG1hbmFnaW5nIGFjY291bnRzLCB2
ZXJpZnlpbmcgY29tYm9zLCBvciBqdXN0IGN1cmlvdXMsICoqR0hQIENoZWNrZXIqKiBtYWtlcyBp
dCBlYXN5LCBmYXN0LCBhbmQgcmVsaWFibGUuIgogICAgICAgICAgICApCiAgICAgICAgICAgIAog
ICAgICAgIGVtYmVkID0gY3JlYXRlX2VtYmVkKAogICAgICAgICAgICB0aXRsZT0i8J+TnSBBYm91
dCBHSFAgQ2hlY2tlciBCb3QiLAogICAgICAgICAgICBkZXNjcmlwdGlvbj1kZXNjcmlwdGlvbgog
ICAgICAgICkKICAgICAgICBhd2FpdCBpbnRlcmFjdGlvbi5yZXNwb25zZS5zZW5kX21lc3NhZ2Uo
ZW1iZWQ9ZW1iZWQsIGVwaGVtZXJhbD1UcnVlKQoKICAgIEBkaXNjb3JkLnVpLmJ1dHRvbihsYWJl
bD0iU2VydmljZXMgJiBEb21haW5zIiwgc3R5bGU9ZGlzY29yZC5CdXR0b25TdHlsZS5zZWNvbmRh
cnksIGN1c3RvbV9pZD0ic2VydmljZXNfYnRuIiwgZW1vamk9IvCfjJAiKQogICAgYXN5bmMgZGVm
IHNlcnZpY2VzX2J1dHRvbihzZWxmLCBpbnRlcmFjdGlvbjogZGlzY29yZC5JbnRlcmFjdGlvbiwg
YnV0dG9uOiBkaXNjb3JkLnVpLkJ1dHRvbik6CiAgICAgICAgaWYgc2VsZi5pc19zcG9uc29yOgog
ICAgICAgICAgICBzZXJ2aWNlc190ZXh0ID0gIvCflJIgTGltaXRlZCB0byA4IHNlcnZpY2VzIGlu
IHNwb25zb3IgbW9kZSIKICAgICAgICBlbHNlOgogICAgICAgICAgICAjIEJ1aWxkIGRvbWFpbnMv
c2VydmljZXMgaW5mbyBkeW5hbWljYWxseSB3aXRoIGltcHJvdmVkIGZvcm1hdHRpbmcKICAgICAg
ICAgICAgZGVmIGZvcm1hdF9kb21haW5zKGRvbWFpbnNfc2V0KToKICAgICAgICAgICAgICAgIHJl
dHVybiAiLCAiLmpvaW4oZiJge2R9YCIgZm9yIGQgaW4gc29ydGVkKGRvbWFpbnNfc2V0KSkKCiAg
ICAgICAgICAgIGRvbWFpbnMgPSAoCiAgICAgICAgICAgICAgICAiKipNaWNyb3NvZnQgRG9tYWlu
czoqKlxuIgogICAgICAgICAgICAgICAgZiJ7Zm9ybWF0X2RvbWFpbnMoTUlDUk9TT0ZUX0RPTUFJ
TlMpfVxuIgogICAgICAgICAgICAgICAgIuKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKU
gOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxuIgog
ICAgICAgICAgICAgICAgIioqR29vZ2xlIERvbWFpbnM6KipcbiIKICAgICAgICAgICAgICAgIGYi
e2Zvcm1hdF9kb21haW5zKEdPT0dMRV9ET01BSU5TKX1cbiIKICAgICAgICAgICAgICAgICLilIDi
lIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDi
lIDilIDilIDilIDilIDilIDilIDilIBcbiIKICAgICAgICAgICAgICAgICIqKllhaG9vIERvbWFp
bnM6KipcbiIKICAgICAgICAgICAgICAgIGYie2Zvcm1hdF9kb21haW5zKFlBSE9PX0RPTUFJTlMp
fVxuIgogICAgICAgICAgICAgICAgIuKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKU
gOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxuIgogICAg
ICAgICAgICAgICAgIioqQXBwbGUgRG9tYWluczoqKlxuIgogICAgICAgICAgICAgICAgZiJ7Zm9y
bWF0X2RvbWFpbnMoQVBQTEVfRE9NQUlOUyl9XG4iCiAgICAgICAgICAgICAgICAi4pSA4pSA4pSA
4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA
4pSA4pSA4pSA4pSA4pSA4pSAXG4iCiAgICAgICAgICAgICAgICAiKipBT0wgRG9tYWluczoqKlxu
IgogICAgICAgICAgICAgICAgZiJ7Zm9ybWF0X2RvbWFpbnMoQU9MX0RPTUFJTlMpfVxuIgogICAg
ICAgICAgICAgICAgIuKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKU
gOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxuIgogICAgICAgICAgICAg
ICAgIioqR01YIERvbWFpbnM6KipcbiIKICAgICAgICAgICAgICAgIGYie2Zvcm1hdF9kb21haW5z
KEdNWF9ET01BSU5TKX1cbiIKICAgICAgICAgICAgICAgICLilIDilIDilIDilIDilIDilIDilIDi
lIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDi
lIDilIBcbiIKICAgICAgICAgICAgICAgICIqKk1haWwucnUgRG9tYWluczoqKlxuIgogICAgICAg
ICAgICAgICAgZiJ7Zm9ybWF0X2RvbWFpbnMoTUFJTFJVX0RPTUFJTlMpfVxuIgogICAgICAgICAg
ICAgICAgIuKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKU
gOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxuIgogICAgICAgICAgICAgICAgIioq
WWFuZGV4IERvbWFpbnM6KipcbiIKICAgICAgICAgICAgICAgIGYie2Zvcm1hdF9kb21haW5zKFlB
TkRFWF9ET01BSU5TKX1cbiIKICAgICAgICAgICAgICAgICLilIDilIDilIDilIDilIDilIDilIDi
lIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDi
lIDilIBcbiIKICAgICAgICAgICAgICAgICIqKlByb3Rvbk1haWwgRG9tYWluczoqKlxuIgogICAg
ICAgICAgICAgICAgZiJ7Zm9ybWF0X2RvbWFpbnMoUFJPVE9OX0RPTUFJTlMpfVxuIgogICAgICAg
ICAgICAgICAgIuKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKU
gOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxuIgogICAgICAgICAgICAgICAg
IioqWm9obyBEb21haW5zOioqXG4iCiAgICAgICAgICAgICAgICBmIntmb3JtYXRfZG9tYWlucyha
T0hPX0RPTUFJTlMpfVxuIgogICAgICAgICAgICAgICAgIuKUgOKUgOKUgOKUgOKUgOKUgOKUgOKU
gOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKU
gOKUgFxuIgogICAgICAgICAgICAgICAgIioqVHV0YW5vdGEgRG9tYWluczoqKlxuIgogICAgICAg
ICAgICAgICAgZiJ7Zm9ybWF0X2RvbWFpbnMoVFVUQU5PVEFfRE9NQUlOUyl9XG4iCiAgICAgICAg
ICAgICAgICAi4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA
4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXG4iCiAgICAgICAgICAgICAgICAi
KipGYXN0bWFpbCBEb21haW5zOioqXG4iCiAgICAgICAgICAgICAgICBmIntmb3JtYXRfZG9tYWlu
cyhGQVNUTUFJTF9ET01BSU5TKX1cbiIKICAgICAgICAgICAgICAgICLilIDilIDilIDilIDilIDi
lIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDi
lIDilIDilIDilIBcbiIKICAgICAgICAgICAgICAgICIqKkRpc3Bvc2FibGUgRG9tYWluczoqKlxu
IgogICAgICAgICAgICAgICAgZiJ7Zm9ybWF0X2RvbWFpbnMoRElTUE9TQUJMRV9ET01BSU5TKX1c
biIKICAgICAgICAgICAgICAgICLilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDi
lIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcbiIKICAgICAg
ICAgICAgICAgICIqKkdlcm1hbiBEb21haW5zOioqXG4iCiAgICAgICAgICAgICAgICBmIntmb3Jt
YXRfZG9tYWlucyhHRVJNQU5fRE9NQUlOUyl9XG4iCiAgICAgICAgICAgICAgICAi4pSA4pSA4pSA
4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA
4pSA4pSA4pSA4pSA4pSA4pSAXG4iCiAgICAgICAgICAgICAgICAiKipGcmVuY2ggRG9tYWluczoq
KlxuIgogICAgICAgICAgICAgICAgZiJ7Zm9ybWF0X2RvbWFpbnMoRlJFTkNIX0RPTUFJTlMpfVxu
IgogICAgICAgICAgICAgICAgIuKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKU
gOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxuIgogICAgICAg
ICAgICAgICAgIioqUnVzc2lhbiBEb21haW5zOioqXG4iCiAgICAgICAgICAgICAgICBmIntmb3Jt
YXRfZG9tYWlucyhSVVNTSUFOX0RPTUFJTlMpfVxuIgogICAgICAgICAgICAgICAgIuKUgOKUgOKU
gOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKU
gOKUgOKUgOKUgOKUgOKUgOKUgFxuIgogICAgICAgICAgICAgICAgIioqQ2hpbmVzZSBEb21haW5z
OioqXG4iCiAgICAgICAgICAgICAgICBmIntmb3JtYXRfZG9tYWlucyhDSElORVNFX0RPTUFJTlMp
fVxuIgogICAgICAgICAgICAgICAgIuKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKU
gOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxuIgogICAg
ICAgICAgICAgICAgIioqSmFwYW5lc2UgRG9tYWluczoqKlxuIgogICAgICAgICAgICAgICAgZiJ7
Zm9ybWF0X2RvbWFpbnMoSkFQQU5FU0VfRE9NQUlOUyl9XG4iCiAgICAgICAgICAgICAgICAi4pSA
4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA
4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXG4iCiAgICAgICAgICAgICAgICAiKipTdXBwb3J0ZWQg
U2VydmljZXMgKDIwMCspOioqXG4iCiAgICAgICAgICAgICAgICAiYGBgXG4iCiAgICAgICAgICAg
ICAgICArICIsICIuam9pbihzb3J0ZWQoQUxMX1NFUlZJQ0VfTUFQUElORy5rZXlzKCkpKQogICAg
ICAgICAgICAgICAgKyAiXG5gYGAiCiAgICAgICAgICAgICkKICAgICAgICAgICAgc2VydmljZXNf
dGV4dCA9IGRvbWFpbnMKICAgICAgICAgICAgCiAgICAgICAgZW1iZWQgPSBjcmVhdGVfZW1iZWQo
CiAgICAgICAgICAgIHRpdGxlPSLwn4yQIFN1cHBvcnRlZCBTZXJ2aWNlcyAmIERvbWFpbnMiLAog
ICAgICAgICAgICBkZXNjcmlwdGlvbj1zZXJ2aWNlc190ZXh0CiAgICAgICAgKQogICAgICAgIGF3
YWl0IGludGVyYWN0aW9uLnJlc3BvbnNlLnNlbmRfbWVzc2FnZShlbWJlZD1lbWJlZCwgZXBoZW1l
cmFsPVRydWUpCgogICAgQGRpc2NvcmQudWkuYnV0dG9uKGxhYmVsPSJDb21tYW5kcyIsIHN0eWxl
PWRpc2NvcmQuQnV0dG9uU3R5bGUuc3VjY2VzcywgY3VzdG9tX2lkPSJjb21tYW5kc19idG4iLCBl
bW9qaT0i8J+SuyIpCiAgICBhc3luYyBkZWYgY29tbWFuZHNfYnV0dG9uKHNlbGYsIGludGVyYWN0
aW9uOiBkaXNjb3JkLkludGVyYWN0aW9uLCBidXR0b246IGRpc2NvcmQudWkuQnV0dG9uKToKICAg
ICAgICBjb21tYW5kc19saXN0ID0gWwogICAgICAgICAgICAiYC9jaGVja2AgLSBWZXJpZnkgYWNj
b3VudHMgZnJvbSBmaWxlIiwKICAgICAgICAgICAgImAvc3BvbnNvci1jaGVja2AgLSBMaW1pdGVk
IGNoZWNraW5nIChzcG9uc29yKSIsCiAgICAgICAgICAgICJgL3N0b3BgIC0gQ2FuY2VsIGN1cnJl
bnQgb3BlcmF0aW9uIiwKICAgICAgICAgICAgImAvdHJpYWxgIC0gR2V0IGZyZWUgYWNjZXNzIiwK
ICAgICAgICAgICAgImAvbGVhZGVyYm9hcmRgIC0gVmlldyBzZXJ2aWNlIGhpdHMiLAogICAgICAg
ICAgICAiYC9jdXN0b21zZWFyY2hgIC0gU2VhcmNoIGluYm94ZXMiLAogICAgICAgICAgICAiYC9p
bmZvYCAtIFNob3cgdGhpcyBpbmZvcm1hdGlvbiBwYW5lbCIsCiAgICAgICAgICAgICJgIWxvY2tg
L2AhdW5sb2NrYCAtIChPd25lcnMgb25seSkiLAogICAgICAgICAgICAiYCF3aGl0ZWxpc3QgYWRk
L3JlbW92ZWAgLSAoT3duZXJzIG9ubHkpIgogICAgICAgIF0KICAgICAgICAKICAgICAgICBpZiBz
ZWxmLmlzX3Nwb25zb3I6CiAgICAgICAgICAgIGNvbW1hbmRzX2xpc3QgPSBbCiAgICAgICAgICAg
ICAgICAiYC9zcG9uc29yLWNoZWNrYCAtIExpbWl0ZWQgYWNjb3VudCBjaGVja2luZyIsCiAgICAg
ICAgICAgICAgICAiYC9zdG9wYCAtIENhbmNlbCBjdXJyZW50IG9wZXJhdGlvbiIsCiAgICAgICAg
ICAgICAgICAiYC90cmlhbGAgLSBHZXQgZnJlZSBwcmVtaXVtIGFjY2VzcyIsCiAgICAgICAgICAg
ICAgICAiYC9pbmZvYCAtIFNob3cgdGhpcyBpbmZvcm1hdGlvbiBwYW5lbCIKICAgICAgICAgICAg
XQogICAgICAgICAgICAKICAgICAgICBlbWJlZCA9IGNyZWF0ZV9lbWJlZCgKICAgICAgICAgICAg
dGl0bGU9IvCfkrsgQXZhaWxhYmxlIENvbW1hbmRzIiwKICAgICAgICAgICAgZGVzY3JpcHRpb249
IlxuIi5qb2luKGNvbW1hbmRzX2xpc3QpCiAgICAgICAgKQogICAgICAgIGF3YWl0IGludGVyYWN0
aW9uLnJlc3BvbnNlLnNlbmRfbWVzc2FnZShlbWJlZD1lbWJlZCwgZXBoZW1lcmFsPVRydWUpCgpA
Ym90LnRyZWUuY29tbWFuZChuYW1lPSJpbmZvIiwgZGVzY3JpcHRpb249IkdldCBpbmZvcm1hdGlv
biBhYm91dCB0aGUgYm90IGFuZCBpdHMgZmVhdHVyZXMiKQphc3luYyBkZWYgaW5mb19jb21tYW5k
KGludGVyYWN0aW9uOiBkaXNjb3JkLkludGVyYWN0aW9uKToKICAgICIiIkRpc3BsYXkgaW5mb3Jt
YXRpb24gYWJvdXQgdGhlIGJvdCB3aXRoIGludGVyYWN0aXZlIGJ1dHRvbnMiIiIKICAgICMgQ2hl
Y2sgaWYgdXNlciBpcyBpbiBvcmlnaW5hbCBzZXJ2ZXIKICAgIGd1aWxkID0gYm90LmdldF9ndWls
ZChPUklHSU5BTF9TRVJWRVJfSUQpCiAgICBtZW1iZXIgPSBndWlsZC5nZXRfbWVtYmVyKGludGVy
YWN0aW9uLnVzZXIuaWQpIGlmIGd1aWxkIGVsc2UgTm9uZQogICAgaXNfc3BvbnNvciA9IG1lbWJl
ciBpcyBOb25lIGFuZCBub3QgaXNfcHJlbWl1bV91c2VyKGludGVyYWN0aW9uLnVzZXIuaWQpCiAg
ICAKICAgIGRlc2NyaXB0aW9uID0gKAogICAgICAgICJXZWxjb21lIHRvIHRoZSBHSFAgQ2hlY2tl
ciEgVGhpcyBwb3dlcmZ1bCB0b29sIGFsbG93cyB5b3UgdG8gdmVyaWZ5IGFjY291bnQgY3JlZGVu
dGlhbHMgIgogICAgICAgICJhbmQgc2NhbiBpbmJveGVzIGZvciBzZXJ2aWNlLXNwZWNpZmljIGVt
YWlscy5cblxuIgogICAgKQogICAgCiAgICBpZiBpc19zcG9uc29yOgogICAgICAgIGRlc2NyaXB0
aW9uICs9ICgKICAgICAgICAgICAgIvCflJIgKipZb3UncmUgdXNpbmcgdGhlIGxpbWl0ZWQgc3Bv
bnNvciB2ZXJzaW9uKipcbiIKICAgICAgICAgICAgIlNvbWUgZmVhdHVyZXMgYXJlIHJlc3RyaWN0
ZWQuIEpvaW4gb3VyIHNlcnZlciBmb3IgZnVsbCBhY2Nlc3MhXG5cbiIKICAgICAgICApCiAgICBl
bHNlOgogICAgICAgIHdoaXRlbGlzdGVkID0gaXNfd2hpdGVsaXN0ZWQoaW50ZXJhY3Rpb24udXNl
ci5pZCkKICAgICAgICBkZXNjcmlwdGlvbiArPSBmIuKcqCAqKllvdSBoYXZlIGFjY2VzcyB0byBw
cmVtaXVtIGZlYXR1cmVzISBXaGl0ZWxpc3RlZDogeyfinIUnIGlmIHdoaXRlbGlzdGVkIGVsc2Ug
J+KdjCd9KipcblxuIgogICAgCiAgICBlbWJlZCA9IGNyZWF0ZV9lbWJlZCgKICAgICAgICB0aXRs
ZT0iR0hQIENoZWNrZXIgSW5mb3JtYXRpb24gQ2VudGVyIiwKICAgICAgICBkZXNjcmlwdGlvbj1k
ZXNjcmlwdGlvbgogICAgKQogICAgZW1iZWQuc2V0X2Zvb3Rlcih0ZXh0PSJQb3dlcmVkIGJ5IHph
dGljIikKICAgIHZpZXcgPSBJbmZvVmlldyhpc19zcG9uc29yPWlzX3Nwb25zb3IpCiAgICBhd2Fp
dCBpbnRlcmFjdGlvbi5yZXNwb25zZS5zZW5kX21lc3NhZ2UoZW1iZWQ9ZW1iZWQsIHZpZXc9dmll
dykKCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT0KIyAgICAgICAgICAgICAgICAgICAgIENPTU1BTkQ6
IEludml0ZQojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CkBib3QudHJlZS5jb21tYW5kKG5hbWU9Imlu
dml0ZSIsIGRlc2NyaXB0aW9uPSJHZXQgdGhlIGJvdCBpbnZpdGUgbGluayIpCmFzeW5jIGRlZiBp
bnZpdGVfY29tbWFuZChpbnRlcmFjdGlvbjogZGlzY29yZC5JbnRlcmFjdGlvbikgLT4gTm9uZToK
ICAgICIiIlNlbmQgdGhlIGJvdCBpbnZpdGUgbGluayIiIgogICAgZW1iZWQgPSBjcmVhdGVfZW1i
ZWQoCiAgICAgICAgdGl0bGU9Ikludml0ZSBHSFAgQ2hlY2tlciBCb3QiLAogICAgICAgIGRlc2Ny
aXB0aW9uPSgKICAgICAgICAgICAgIkNsaWNrIHRoZSBidXR0b24gYmVsb3cgdG8gaW52aXRlIHRo
ZSBHSFAgQ2hlY2tlciBCb3QgdG8geW91ciBzZXJ2ZXIhXG4iCiAgICAgICAgICAgICJNYWtlIHN1
cmUgeW91IGhhdmUgdGhlIG5lY2Vzc2FyeSBwZXJtaXNzaW9ucyB0byBhZGQgYm90cy4iCiAgICAg
ICAgKSwKICAgICAgICBjb2xvcj1kaXNjb3JkLkNvbG9yLmJsdWUoKQogICAgKQogICAgZW1iZWQu
c2V0X2Zvb3Rlcih0ZXh0PSJQb3dlcmVkIGJ5IHphdGljIikKICAgIAogICAgdmlldyA9IGRpc2Nv
cmQudWkuVmlldygpCiAgICB2aWV3LmFkZF9pdGVtKGRpc2NvcmQudWkuQnV0dG9uKAogICAgICAg
IGxhYmVsPSJJbnZpdGUgQm90IiwKICAgICAgICB1cmw9Imh0dHBzOi8vZGlzY29yZC5jb20vb2F1
dGgyL2F1dGhvcml6ZT9jbGllbnRfaWQ9MTM4MjQ5MjYxNjM1MjA3MTY4MSZwZXJtaXNzaW9ucz04
JmludGVncmF0aW9uX3R5cGU9MCZzY29wZT1ib3QiLAogICAgICAgIHN0eWxlPWRpc2NvcmQuQnV0
dG9uU3R5bGUubGluawogICAgKSkKICAgIAogICAgYXdhaXQgaW50ZXJhY3Rpb24ucmVzcG9uc2Uu
c2VuZF9tZXNzYWdlKGVtYmVkPWVtYmVkLCB2aWV3PXZpZXcsIGVwaGVtZXJhbD1UcnVlKQoKIyA9
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PQojICAgICAgICAgICAgICAgICAgICAgQ09NTUFORCBPd25lciBv
bmx5OiBMaXN0IE93bmVyIENvbW1hbmRzCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KQGJvdC50cmVl
LmNvbW1hbmQobmFtZT0ib3duZXItY29tbWFuZHMiLCBkZXNjcmlwdGlvbj0iTGlzdCBhbGwgb3du
ZXItb25seSBjb21tYW5kcyIpCmFzeW5jIGRlZiBvd25lcl9jb21tYW5kc19jb21tYW5kKGludGVy
YWN0aW9uOiBkaXNjb3JkLkludGVyYWN0aW9uKSAtPiBOb25lOgogICAgIiIiTGlzdCBhbGwgY29t
bWFuZHMgdGhhdCBhcmUgcmVzdHJpY3RlZCB0byB0aGUgYm90IG93bmVyIiIiCiAgICBpZiBpbnRl
cmFjdGlvbi51c2VyLmlkIG5vdCBpbiBPV05FUlM6CiAgICAgICAgYXdhaXQgaW50ZXJhY3Rpb24u
cmVzcG9uc2Uuc2VuZF9tZXNzYWdlKAogICAgICAgICAgICAiWW91IGRvIG5vdCBoYXZlIHBlcm1p
c3Npb24gdG8gdXNlIHRoaXMgY29tbWFuZC4iLAogICAgICAgICAgICBlcGhlbWVyYWw9VHJ1ZQog
ICAgICAgICkKICAgICAgICByZXR1cm4KCiAgICBvd25lcl9jb21tYW5kcyA9IFsKICAgICAgICAi
YC9zZXQtc3RhdHVzIDxzdGF0dXM+YCAtIFNldCB0aGUgYm90J3Mgc3RhdHVzIiwKICAgICAgICAi
YC9yZW1vdmUtYm90LWV2ZXJ5d2hlcmVgIC0gUmVtb3ZlIHRoZSBib3QgZnJvbSBhbGwgc2VydmVy
cyIsCiAgICAgICAgImAvcmVzdGFydGAgLSBSZXN0YXJ0IHRoZSBib3QiLAogICAgICAgICJgL3No
dXRkb3duYCAtIFNodXRkb3duIHRoZSBib3QiLAogICAgICAgICJgL3VwZGF0ZWAgLSBVcGRhdGUg
dGhlIGJvdCB0byB0aGUgbGF0ZXN0IHZlcnNpb24iLAogICAgICAgICJgL2xpc3Qtc2VydmVyc2Ag
LSBMaXN0IGFsbCBzZXJ2ZXJzIHRoZSBib3QgaXMgaW4iLAogICAgICAgICJgL3JlbG9hZGNvbmZp
Z2AgLSBSZWxvYWQgdGhlIGNvbmZpZ3VyYXRpb24gZnJvbSBjb25maWcuanNvbiIKICAgIF0KCiAg
ICBlbWJlZCA9IGNyZWF0ZV9lbWJlZCgKICAgICAgICB0aXRsZT0iT3duZXIgQ29tbWFuZHMiLAog
ICAgICAgIGRlc2NyaXB0aW9uPSJcbiIuam9pbihvd25lcl9jb21tYW5kcyksCiAgICAgICAgY29s
b3I9ZGlzY29yZC5Db2xvci5yZWQoKQogICAgKQogICAgCiAgICBhd2FpdCBpbnRlcmFjdGlvbi5y
ZXNwb25zZS5zZW5kX21lc3NhZ2UoZW1iZWQ9ZW1iZWQsIGVwaGVtZXJhbD1UcnVlKQoKIyA9PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PQojICAgICAgICAgICAgICAgICAgICAgQ09NTUFORCBPd25lciBvbmx5
OiBTZXQgQm90IFN0YXR1cwojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CkBib3QuY29tbWFuZChuYW1l
PSJzZXQtc3RhdHVzIikKYXN5bmMgZGVmIHNldF9zdGF0dXMoY3R4LCAqLCBzdGF0dXM6IHN0cik6
CiAgICAiIiJTZXQgdGhlIGJvdCdzIHN0YXR1cyAoT3duZXIgb25seSkiIiIKICAgIGlmIGN0eC5h
dXRob3IuaWQgbm90IGluIE9XTkVSUzoKICAgICAgICBhd2FpdCBjdHguc2VuZCgiWW91IGRvIG5v
dCBoYXZlIHBlcm1pc3Npb24gdG8gdXNlIHRoaXMgY29tbWFuZC4iLCBkZWxldGVfYWZ0ZXI9NSkK
ICAgICAgICByZXR1cm4KCiAgICB0cnk6CiAgICAgICAgYXdhaXQgYm90LmNoYW5nZV9wcmVzZW5j
ZShhY3Rpdml0eT1kaXNjb3JkLkdhbWUobmFtZT1zdGF0dXMpKQogICAgICAgIGF3YWl0IGN0eC5z
ZW5kKGYi4pyFIEJvdCBzdGF0dXMgc2V0IHRvOiB7c3RhdHVzfSIsIGRlbGV0ZV9hZnRlcj01KQog
ICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIGF3YWl0IGN0eC5zZW5kKGYi4p2MIEZh
aWxlZCB0byBzZXQgc3RhdHVzOiB7c3RyKGUpfSIsIGRlbGV0ZV9hZnRlcj0xMCkKCiMgPT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT0KIyAgICAgICAgICAgICAgICAgICAgIENPTU1BTkQgT3duZXIgb25seTog
UmVtb3ZlIEJvdCBmcm9tIGFsbCBTZXJ2ZXJzCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KQGJvdC5j
b21tYW5kKG5hbWU9InJlbW92ZS1ib3QtZXZlcnl3aGVyZSIpCmFzeW5jIGRlZiByZW1vdmVfYm90
X2V2ZXJ5d2hlcmUoY3R4KToKICAgICIiIlJlbW92ZSB0aGUgYm90IGZyb20gYWxsIHNlcnZlcnMg
KE93bmVyIG9ubHkpIiIiCiAgICBpZiBjdHguYXV0aG9yLmlkIG5vdCBpbiBPV05FUlM6CiAgICAg
ICAgYXdhaXQgY3R4LnNlbmQoIllvdSBkbyBub3QgaGF2ZSBwZXJtaXNzaW9uIHRvIHVzZSB0aGlz
IGNvbW1hbmQuIiwgZGVsZXRlX2FmdGVyPTUpCiAgICAgICAgcmV0dXJuCgogICAgZ3VpbGRzID0g
Ym90Lmd1aWxkcwogICAgaWYgbm90IGd1aWxkczoKICAgICAgICBhd2FpdCBjdHguc2VuZCgiVGhl
IGJvdCBpcyBub3QgaW4gYW55IHNlcnZlcnMuIiwgZGVsZXRlX2FmdGVyPTUpCiAgICAgICAgcmV0
dXJuCgogICAgZm9yIGd1aWxkIGluIGd1aWxkczoKICAgICAgICB0cnk6CiAgICAgICAgICAgIGF3
YWl0IGd1aWxkLmxlYXZlKCkKICAgICAgICAgICAgcHJpbnQoZiJMZWZ0IHtndWlsZC5uYW1lfSAo
e2d1aWxkLmlkfSkiKQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAg
cHJpbnQoZiJGYWlsZWQgdG8gbGVhdmUge2d1aWxkLm5hbWV9ICh7Z3VpbGQuaWR9KToge2V9IikK
CiAgICBhd2FpdCBjdHguc2VuZCgi4pyFIFRoZSBib3QgaGFzIGxlZnQgYWxsIHNlcnZlcnMuIiwg
ZGVsZXRlX2FmdGVyPTUpCgojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiMgICAgICAgICAgICAgICAg
ICAgICBDT01NQU5EIE93bmVyIG9ubHk6IFJlc3RhcnQgQm90CiMgPT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT0KQGJvdC5jb21tYW5kKG5hbWU9InJlc3RhcnQiKQphc3luYyBkZWYgcmVzdGFydF9ib3QoY3R4
KToKICAgICIiIlJlc3RhcnQgdGhlIGJvdCAoT3duZXIgb25seSkiIiIKICAgIGlmIGN0eC5hdXRo
b3IuaWQgbm90IGluIE9XTkVSUzoKICAgICAgICBhd2FpdCBjdHguc2VuZCgiWW91IGRvIG5vdCBo
YXZlIHBlcm1pc3Npb24gdG8gdXNlIHRoaXMgY29tbWFuZC4iLCBkZWxldGVfYWZ0ZXI9NSkKICAg
ICAgICByZXR1cm4KCiAgICBhd2FpdCBjdHguc2VuZCgi8J+UhCBSZXN0YXJ0aW5nIHRoZSBib3Qu
Li4iLCBkZWxldGVfYWZ0ZXI9NSkKICAgIGF3YWl0IGJvdC5jbG9zZSgpCiAgICBvcy5leGVjdihz
eXMuZXhlY3V0YWJsZSwgW3N5cy5leGVjdXRhYmxlXSArIHN5cy5hcmd2KQoKIyA9PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PQojICAgICAgICAgICAgICAgICAgICAgQ09NTUFORCBPd25lciBvbmx5OiBTaHV0
ZG93biBCb3QKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQpAYm90LmNvbW1hbmQobmFtZT0ic2h1dGRv
d24iKQphc3luYyBkZWYgc2h1dGRvd25fYm90KGN0eCk6CiAgICAiIiJTaHV0ZG93biB0aGUgYm90
IChPd25lciBvbmx5KSIiIgogICAgaWYgY3R4LmF1dGhvci5pZCBub3QgaW4gT1dORVJTOgogICAg
ICAgIGF3YWl0IGN0eC5zZW5kKCJZb3UgZG8gbm90IGhhdmUgcGVybWlzc2lvbiB0byB1c2UgdGhp
cyBjb21tYW5kLiIsIGRlbGV0ZV9hZnRlcj01KQogICAgICAgIHJldHVybgoKICAgIGF3YWl0IGN0
eC5zZW5kKCLwn5SSIFNodXR0aW5nIGRvd24gdGhlIGJvdC4uLiIsIGRlbGV0ZV9hZnRlcj01KQog
ICAgYXdhaXQgYm90LmNsb3NlKCkKICAgIHN5cy5leGl0KDApCgojID09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09CiMgICAgICAgICAgICAgICAgICAgICBDT01NQU5EIE93bmVyIG9ubHk6IFVwZGF0ZSBCb3QK
IyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PQoKQGJvdC5jb21tYW5kKG5hbWU9InVwZGF0ZSIpCmFzeW5j
IGRlZiB1cGRhdGVfYm90KGN0eCk6CiAgICAiIiJVcGRhdGUgdGhlIGJvdCB0byB0aGUgbGF0ZXN0
IHZlcnNpb24gKE93bmVyIG9ubHkpIiIiCiAgICBpZiBjdHguYXV0aG9yLmlkIG5vdCBpbiBPV05F
UlM6CiAgICAgICAgYXdhaXQgY3R4LnNlbmQoIllvdSBkbyBub3QgaGF2ZSBwZXJtaXNzaW9uIHRv
IHVzZSB0aGlzIGNvbW1hbmQuIiwgZGVsZXRlX2FmdGVyPTUpCiAgICAgICAgcmV0dXJuCgogICAg
YXdhaXQgY3R4LnNlbmQoIvCflIQgVXBkYXRpbmcgdGhlIGJvdC4uLiIsIGRlbGV0ZV9hZnRlcj01
KQogICAgCiAgICB0cnk6CiAgICAgICAgIyBQdWxsIGxhdGVzdCBjaGFuZ2VzIGZyb20gdGhlIHJl
cG9zaXRvcnkKICAgICAgICByZXN1bHQgPSBzdWJwcm9jZXNzLnJ1bihbImdpdCIsICJwdWxsIl0s
IGNhcHR1cmVfb3V0cHV0PVRydWUsIHRleHQ9VHJ1ZSkKICAgICAgICBpZiByZXN1bHQucmV0dXJu
Y29kZSAhPSAwOgogICAgICAgICAgICBhd2FpdCBjdHguc2VuZChmIuKdjCBVcGRhdGUgZmFpbGVk
OiB7cmVzdWx0LnN0ZGVycn0iLCBkZWxldGVfYWZ0ZXI9MTApCiAgICAgICAgICAgIHJldHVybgog
ICAgICAgIAogICAgICAgIGF3YWl0IGN0eC5zZW5kKCLinIUgQm90IHVwZGF0ZWQgc3VjY2Vzc2Z1
bGx5ISBSZXN0YXJ0aW5nLi4uIiwgZGVsZXRlX2FmdGVyPTUpCiAgICAgICAgYXdhaXQgcmVzdGFy
dF9ib3QoY3R4KQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIGF3YWl0IGN0eC5z
ZW5kKGYi4p2MIEFuIGVycm9yIG9jY3VycmVkIHdoaWxlIHVwZGF0aW5nOiB7c3RyKGUpfSIsIGRl
bGV0ZV9hZnRlcj0xMCkKCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KIyAgICAgICAgICAgICAgICAg
ICAgIENPTU1BTkQgT3duZXIgb25seTogbGlzdCBhbGwgc2VydmVycwojID09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09CkBib3QuY29tbWFuZChuYW1lPSJsaXN0LXNlcnZlcnMiLCBkZXNjcmlwdGlvbj0iTGlz
dCBhbGwgc2VydmVycyB0aGUgYm90IGlzIGluIChPd25lciBvbmx5KSIpCmFzeW5jIGRlZiBsaXN0
X3NlcnZlcnMoY3R4KToKICAgIGlmIGN0eC5hdXRob3IuaWQgbm90IGluIE9XTkVSUzoKICAgICAg
ICBhd2FpdCBjdHguc2VuZCgiWW91IGRvIG5vdCBoYXZlIHBlcm1pc3Npb24gdG8gdXNlIHRoaXMg
Y29tbWFuZC4iLCBkZWxldGVfYWZ0ZXI9NSkKICAgICAgICByZXR1cm4KCiAgICBndWlsZHMgPSBi
b3QuZ3VpbGRzCiAgICBpZiBub3QgZ3VpbGRzOgogICAgICAgIGF3YWl0IGN0eC5zZW5kKCJUaGUg
Ym90IGlzIG5vdCBpbiBhbnkgc2VydmVycy4iLCBkZWxldGVfYWZ0ZXI9NSkKICAgICAgICByZXR1
cm4KCiAgICBlbWJlZCA9IGNyZWF0ZV9lbWJlZCgKICAgICAgICB0aXRsZT0iQm90IFNlcnZlcnMi
LAogICAgICAgIGRlc2NyaXB0aW9uPSJcbiIuam9pbihbZiJ7Z3VpbGQubmFtZX0gKElEOiB7Z3Vp
bGQuaWR9KSIgZm9yIGd1aWxkIGluIGd1aWxkc10pLAogICAgICAgIGNvbG9yPWRpc2NvcmQuQ29s
b3IuYmx1ZSgpCiAgICApCiAgICAKICAgIGF3YWl0IGN0eC5zZW5kKGVtYmVkPWVtYmVkKQoKIyA9
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PQojICAgICAgICAgICAgICAgICAgICAgQk9UIEVYRUNVVElPTgoj
ID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09CmlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6CiAgICAjIENy
ZWF0ZSByZXN1bHRzIGZvbGRlciBpZiBpdCBkb2Vzbid0IGV4aXN0CiAgICBpZiBub3Qgb3MucGF0
aC5leGlzdHMoUkVTVUxUU19GT0xERVIpOgogICAgICAgIG9zLm1ha2VkaXJzKFJFU1VMVFNfRk9M
REVSKQogICAgYm90LnJ1bigiTVRNNE1qUTVNall4TmpNMU1qQTNNVFk0TVEuR2RHclFRLlVCZ1Zf
anlUN1hUVGprbWVHYlk5cXJiYUhaeTh6U2hYZ2FvbndBIik=
